<html><head></head><body>
  <div id="_idContainer043">
   <h1 class="chapter-number" id="_idParaDest-21">
    <a id="_idTextAnchor020">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     1
    </span>
   </h1>
   <h1 id="_idParaDest-22">
    <a id="_idTextAnchor021">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Setting Up AWS Accounts and Organization
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     An application or platform’s security is often characterized by features such as confidentiality, integrity, availability, authentication, authorization, accounting, and non-repudiation.
    </span>
    <span class="koboSpan" id="kobo.3.2">
     These
    </span>
    <a id="_idIndexMarker000">
    </a>
    <span class="koboSpan" id="kobo.4.1">
     features are grouped into the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.5.1">
      Confidentiality, Integrity, and Availability
     </span>
    </strong>
    <span class="koboSpan" id="kobo.6.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.7.1">
      CIA
     </span>
    </strong>
    <span class="koboSpan" id="kobo.8.1">
     ) triad and the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.9.1">
      Authentication, Authorization, and Accounting
     </span>
    </strong>
    <span class="koboSpan" id="kobo.10.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.11.1">
      AAA
     </span>
    </strong>
    <span class="koboSpan" id="kobo.12.1">
     ) triad.
    </span>
    <span class="koboSpan" id="kobo.12.2">
     A solid grasp of these security
    </span>
    <a id="_idIndexMarker001">
    </a>
    <span class="koboSpan" id="kobo.13.1">
     features will facilitate better understanding and implementation of the AWS security concepts detailed in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.14.1">
      this book.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.15.1">
     In this chapter, we will first learn about setting up the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.16.1">
      Identity and Access Management
     </span>
    </strong>
    <span class="koboSpan" id="kobo.17.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.18.1">
      IAM
     </span>
    </strong>
    <span class="koboSpan" id="kobo.19.1">
     ) service for a new AWS account along with
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.20.1">
      account aliases
     </span>
    </strong>
    <span class="koboSpan" id="kobo.21.1">
     and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.22.1">
      billing alerts
     </span>
    </strong>
    <span class="koboSpan" id="kobo.23.1">
     .
    </span>
    <span class="koboSpan" id="kobo.23.2">
     Then, we will learn to set up the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.24.1">
      AWS Organizations
     </span>
    </strong>
    <span class="koboSpan" id="kobo.25.1">
     service that allows us to create and manage multiple AWS accounts from within a single
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.26.1">
      management account
     </span>
    </strong>
    <span class="koboSpan" id="kobo.27.1">
     .
    </span>
    <span class="koboSpan" id="kobo.27.2">
     We will also learn about user management and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.28.1">
      Single Sign-On
     </span>
    </strong>
    <span class="koboSpan" id="kobo.29.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.30.1">
      SSO
     </span>
    </strong>
    <span class="koboSpan" id="kobo.31.1">
     ) using
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.32.1">
      AWS IAM Identity Center
     </span>
    </strong>
    <span class="koboSpan" id="kobo.33.1">
     (formerly known as AWS SSO), which centralizes identity creation
    </span>
    <a id="_idIndexMarker002">
    </a>
    <span class="koboSpan" id="kobo.34.1">
     and access management across AWS accounts and apps and is recommended for organizations of all sizes
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.35.1">
      and types.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.36.1">
     This chapter is slightly longer than the rest of the chapters in this book since it sets the stage for other chapters.
    </span>
    <span class="koboSpan" id="kobo.36.2">
     We could skip the second and third recipes within this chapter regarding setting up AWS Organizations and IAM Identity Center and execute most of the recipes in other chapters on a standalone AWS account.
    </span>
    <span class="koboSpan" id="kobo.36.3">
     However, if our goal is to work in an enterprise environment, it would be good to complete all the recipes within this chapter before proceeding with the rest of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.37.1">
      the book.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.38.1">
     This chapter includes the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.39.1">
      following recipes:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.40.1">
      Setting up IAM, account aliases, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.41.1">
       billing alerts
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.42.1">
      Multi-account management with
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.43.1">
       AWS Organizations
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.44.1">
      User management and SSO with IAM
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.45.1">
       Identity Center
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-23">
    <a id="_idTextAnchor022">
    </a>
    <span class="koboSpan" id="kobo.46.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.47.1">
     Before diving into the recipes of this chapter, we need to ensure we have the following knowledge and requirements
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.48.1">
      in place:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.49.1">
       AWS account
      </span>
     </strong>
     <span class="koboSpan" id="kobo.50.1">
      : It is recommended to use a new AWS account for this chapter.
     </span>
     <span class="koboSpan" id="kobo.50.2">
      We can sign up for a free tier account
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.51.1">
       at
      </span>
     </span>
     <a href="https://aws.amazon.com">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.52.1">
        https://aws.amazon.com
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.53.1">
       .
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.54.1">
       Permissions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.55.1">
      : We need to operate as the root user or possess administrative permissions to configure IAM, AWS Organizations, and IAM
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.56.1">
       Identity Center.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.57.1">
       Familiarity with AWS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.58.1">
      : A working knowledge of the AWS Management Console and AWS services such as IAM and S3 will
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.59.1">
       benefit us.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.60.1">
       Internet connection
      </span>
     </strong>
     <span class="koboSpan" id="kobo.61.1">
      : Due to AWS’s cloud-based nature, a stable internet connection is essential for accessing and managing
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.62.1">
       AWS services.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.63.1">
       AWS Command Line Interface
      </span>
     </strong>
     <span class="koboSpan" id="kobo.64.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.65.1">
       CLI
      </span>
     </strong>
     <span class="koboSpan" id="kobo.66.1">
      ): To execute AWS CLI commands, we need AWS CLI V2.
     </span>
     <span class="koboSpan" id="kobo.66.2">
      Two recommended methods for working with AWS CLI V2 are using the AWS IAM Identity Center to set it up on a local or virtual machine or using
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.67.1">
       AWS CloudShell
      </span>
     </strong>
     <span class="koboSpan" id="kobo.68.1">
      .
     </span>
     <span class="koboSpan" id="kobo.68.2">
      We will learn how to set up AWS CLI V2 using IAM Identity Center in the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.69.1">
       User management and SSO with IAM Identity
      </span>
     </em>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.70.1">
        Center
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.71.1">
       recipe.
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.72.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.73.1">
     We can also configure the AWS CLI using the traditional access keys.
    </span>
    <span class="koboSpan" id="kobo.73.2">
     However, both IAM Identity Center and CloudShell utilize short-term credentials that are session-based, thus reducing the risks associated with the traditional long-lived access keys.
    </span>
    <span class="koboSpan" id="kobo.73.3">
     AWS CloudShell offers the added convenience of a browser-based shell integrated directly into the AWS Management Console, facilitating on-the-fly operations without the need for local setup.
    </span>
    <span class="koboSpan" id="kobo.73.4">
     However, CloudShell may not be available in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.74.1">
      all regions.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.75.1">
     The code files for this book are available at
    </span>
    <a href="https://github.com/PacktPublishing/AWS-Security-Cookbook-Second-Edition">
     <span class="koboSpan" id="kobo.76.1">
      https://github.com/PacktPublishing/AWS-Security-Cookbook-Second-Edition
     </span>
    </a>
    <span class="koboSpan" id="kobo.77.1">
     .
    </span>
    <span class="koboSpan" id="kobo.77.2">
     The code files for this chapter are available
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.78.1">
      at
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/AWS-Security-Cookbook-Second-Edition/tree/main/Chapter01">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.79.1">
       https://github.com/PacktPublishing/AWS-Security-Cookbook-Second-Edition/tree/main/Chapter01
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.80.1">
      .
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-24">
    <a id="_idTextAnchor023">
    </a>
    <span class="koboSpan" id="kobo.81.1">
     Setting up IAM, account aliases, and billing alerts
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.82.1">
     IAM is the primary service
    </span>
    <a id="_idIndexMarker003">
    </a>
    <span class="koboSpan" id="kobo.83.1">
     in AWS that is used
    </span>
    <a id="_idIndexMarker004">
    </a>
    <span class="koboSpan" id="kobo.84.1">
     to manage access
    </span>
    <a id="_idIndexMarker005">
    </a>
    <span class="koboSpan" id="kobo.85.1">
     to AWS resources.
    </span>
    <span class="koboSpan" id="kobo.85.2">
     After setting up an AWS account, it is recommended to perform some basic IAM configurations to enhance the security of our account
    </span>
    <a id="_idIndexMarker006">
    </a>
    <span class="koboSpan" id="kobo.86.1">
     such as securing the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.87.1">
      root account
     </span>
    </strong>
    <span class="koboSpan" id="kobo.88.1">
     with
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.89.1">
      multi-factor authentication (MFA)
     </span>
    </strong>
    <span class="koboSpan" id="kobo.90.1">
     .
    </span>
    <span class="koboSpan" id="kobo.90.2">
     MFA is a security mechanism
    </span>
    <a id="_idIndexMarker007">
    </a>
    <span class="koboSpan" id="kobo.91.1">
     that requires users
    </span>
    <a id="_idIndexMarker008">
    </a>
    <span class="koboSpan" id="kobo.92.1">
     to provide two or more verification factors to gain access to a resource, such as a username and password, and a code sent to a phone.
    </span>
    <span class="koboSpan" id="kobo.92.2">
     IAM offers a checklist to guide these
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.93.1">
      initial activities.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.94.1">
     While not part of the AWS checklist, it is also recommended to set up an account alias and create a billing alarm in a new account.
    </span>
    <span class="koboSpan" id="kobo.94.2">
     An account alias is a unique identifier that we can create for our AWS account instead of the default 12-digit account ID in our account’s sign-in URL.
    </span>
    <span class="koboSpan" id="kobo.94.3">
     Creating an account alias enhances the user experience by providing a personalized and memorable sign-in URL, increases security by obscuring the actual account number, and allows for branding consistency by incorporating our organization’s name into the AWS
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.95.1">
      login process.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.96.1">
     Setting up a billing alarm in a new AWS account offers the key advantage of monitoring and managing costs effectively.
    </span>
    <span class="koboSpan" id="kobo.96.2">
     It alerts us when our account spending exceeds a predefined threshold, thus helping to prevent unexpected charges and maintain
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.97.1">
      budget control.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-25">
    <a id="_idTextAnchor024">
    </a>
    <span class="koboSpan" id="kobo.98.1">
     Getting ready
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.99.1">
     We need a newly created AWS account to complete all the steps in this recipe.
    </span>
    <span class="koboSpan" id="kobo.99.2">
     If the account is not new, we can verify whether everything has been configured correctly by following this recipe and configuring anything that
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.100.1">
      is missing.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.101.1">
     To set up MFA using a virtual MFA device within this recipe, we need to install an authenticator
    </span>
    <a id="_idIndexMarker009">
    </a>
    <span class="koboSpan" id="kobo.102.1">
     app on our mobile, and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.103.1">
      Google Authenticator
     </span>
    </strong>
    <span class="koboSpan" id="kobo.104.1">
     is a popular authenticator
    </span>
    <a id="_idIndexMarker010">
    </a>
    <span class="koboSpan" id="kobo.105.1">
     app that we can use.
    </span>
    <span class="koboSpan" id="kobo.105.2">
     We can also use a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.106.1">
      YubiKey Universal 2nd Factor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.107.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.108.1">
      U2F
     </span>
    </strong>
    <span class="koboSpan" id="kobo.109.1">
     )
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.110.1">
      security key
     </span>
    </strong>
    <span class="koboSpan" id="kobo.111.1">
     , any
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.112.1">
      U2F-compliant device
     </span>
    </strong>
    <span class="koboSpan" id="kobo.113.1">
     , or a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.114.1">
      hardware MFA device
     </span>
    </strong>
    <span class="koboSpan" id="kobo.115.1">
     .
    </span>
    <span class="koboSpan" id="kobo.115.2">
     U2F is an authentication
    </span>
    <a id="_idIndexMarker011">
    </a>
    <span class="koboSpan" id="kobo.116.1">
     standard
    </span>
    <a id="_idIndexMarker012">
    </a>
    <span class="koboSpan" id="kobo.117.1">
     for securely
    </span>
    <a id="_idIndexMarker013">
    </a>
    <span class="koboSpan" id="kobo.118.1">
     accessing online services with only a security key and without any drivers or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.119.1">
      client software.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-26">
    <a id="_idTextAnchor025">
    </a>
    <span class="koboSpan" id="kobo.120.1">
     How to do it...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.121.1">
     First, we will set up IAM for a new AWS account.
    </span>
    <span class="koboSpan" id="kobo.121.2">
     Then we will set up an account alias for a better user experience and a billing alarm to prevent unplanned usage
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.122.1">
      and billing.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.123.1">
     Setting up IAM for AWS accounts
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.124.1">
     We can set up IAM
    </span>
    <a id="_idIndexMarker014">
    </a>
    <span class="koboSpan" id="kobo.125.1">
     for a new AWS account
    </span>
    <a id="_idIndexMarker015">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.126.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.127.1">
      Log in to the AWS account using the root user email credential and follow these steps from within the IAM dashboard.
     </span>
     <span class="koboSpan" id="kobo.127.2">
      For a new AWS account, the IAM dashboard should look
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.128.1">
       as follows:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer005">
     <span class="koboSpan" id="kobo.129.1">
      <img alt="Figure 1.1 – The IAM dashboard for a new account" src="image/B21384_01_1.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.130.1">
     Figure 1.1 – The IAM dashboard for a new account
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.131.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.132.1">
       Add MFA
      </span>
     </strong>
     <span class="koboSpan" id="kobo.133.1">
      under
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.134.1">
        Security recommendations
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.135.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.136.1">
      If you are not redirected to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.137.1">
       Assign MFA
      </span>
     </strong>
     <span class="koboSpan" id="kobo.138.1">
      tab, go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.139.1">
       Assign MFA
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.140.1">
       tab manually.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.141.1">
      Enter a meaningful value
     </span>
     <a id="_idIndexMarker016">
     </a>
     <span class="koboSpan" id="kobo.142.1">
      for the MFA device
     </span>
     <a id="_idIndexMarker017">
     </a>
     <span class="koboSpan" id="kobo.143.1">
      name that can help us recognize the device, then select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.144.1">
       Authenticator app
      </span>
     </strong>
     <span class="koboSpan" id="kobo.145.1">
      as shown in the following figure.
     </span>
     <span class="koboSpan" id="kobo.145.2">
      If we set up a different option, as discussed in the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.146.1">
       Getting ready
      </span>
     </em>
     <span class="koboSpan" id="kobo.147.1">
      section, we can select it here instead of the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.148.1">
       Authenticator
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.149.1">
        app
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.150.1">
       option.
      </span>
     </span>
    </li>
   </ol>
   <p class="IMG---Figure">
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer006">
     <span class="koboSpan" id="kobo.151.1">
      <img alt="Figure 1.2 – Selecting an MFA device" src="image/B21384_01_2.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.152.1">
     Figure 1.2 – Selecting an MFA device
    </span>
   </p>
   <ol>
    <li value="5">
     <span class="koboSpan" id="kobo.153.1">
      Scroll down and click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.154.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.155.1">
      .
     </span>
     <span class="koboSpan" id="kobo.155.2">
      AWS
     </span>
     <a id="_idIndexMarker018">
     </a>
     <span class="koboSpan" id="kobo.156.1">
      will now provide
     </span>
     <a id="_idIndexMarker019">
     </a>
     <span class="koboSpan" id="kobo.157.1">
      a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.158.1">
       QR code.
      </span>
     </span>
    </li>
   </ol>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.159.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.160.1">
     We can save the QR code image in a secure place if we ever want to reconfigure the authenticator app without accessing the current authenticator app setup, for example, if our current mobile stops working.
    </span>
    <span class="koboSpan" id="kobo.160.2">
     Alternatively, we can contact AWS support in case of such an event and they can help us reset the authenticator
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.161.1">
      app configuration.
     </span>
    </span>
   </p>
   <ol>
    <li value="6">
     <span class="koboSpan" id="kobo.162.1">
      Scan the QR code
     </span>
     <a id="_idIndexMarker020">
     </a>
     <span class="koboSpan" id="kobo.163.1">
      using an authenticator
     </span>
     <a id="_idIndexMarker021">
     </a>
     <span class="koboSpan" id="kobo.164.1">
      app (e.g., Google Authenticator) installed on your mobile device and enter two successful token keys to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.165.1">
       activate it.
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.166.1">
       After MFA has been activated, we will need to provide a token from this app, along with a username and password, to log in to the
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.167.1">
        AWS console.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.168.1">
      Go back to the IAM dashboard and ensure that all the checkmarks within the security recommendations we saw in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.169.1">
        Figure 1
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.170.1">
       .1
      </span>
     </em>
     <span class="koboSpan" id="kobo.171.1">
      are
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.172.1">
       green now.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer007">
     <span class="koboSpan" id="kobo.173.1">
      <img alt="Figure 1.3 – Security recommendations on the IAM dashboard" src="image/B21384_01_3.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.174.1">
     Figure 1.3 – Security recommendations on the IAM dashboard
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.175.1">
     Once all security recommendations
    </span>
    <a id="_idIndexMarker022">
    </a>
    <span class="koboSpan" id="kobo.176.1">
     are green, indicating compliance, AWS may not display
    </span>
    <a id="_idIndexMarker023">
    </a>
    <span class="koboSpan" id="kobo.177.1">
     these
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.178.1">
      recommendations again.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.179.1">
     Next, we will set up an account alias and billing alerts.
    </span>
    <span class="koboSpan" id="kobo.179.2">
     It is recommended to do this on a new AWS account even if these things are not part of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.180.1">
      security recommendations.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.181.1">
     Setting up an account alias
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.182.1">
     We can configure an account alias
    </span>
    <a id="_idIndexMarker024">
    </a>
    <span class="koboSpan" id="kobo.183.1">
     within the IAM dashboard
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.184.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.185.1">
      Within the IAM page, under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.186.1">
       Account Alias
      </span>
     </strong>
     <span class="koboSpan" id="kobo.187.1">
      , click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.188.1">
       Create
      </span>
     </strong>
     <span class="koboSpan" id="kobo.189.1">
      to open the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.190.1">
       Create alias
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.191.1">
       pop-up page.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer008">
     <span class="koboSpan" id="kobo.192.1">
      <img alt="Figure 1.4 – The AWS account details" src="image/B21384_01_4.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.193.1">
     Figure 1.4 – The AWS account details
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.194.1">
      In the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.195.1">
       Create alias
      </span>
     </strong>
     <span class="koboSpan" id="kobo.196.1">
      pop-up page, type in a unique and meaningful alias for our account under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.197.1">
       Preferred alias
      </span>
     </strong>
     <span class="koboSpan" id="kobo.198.1">
      and click on
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.199.1">
        Create alias
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.200.1">
       .
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.201.1">
       This will create an account alias for our account.
      </span>
      <span class="koboSpan" id="kobo.201.2">
       The account alias will replace the account ID from the URL under
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.202.1">
        Sign-in URL for IAM users in this account
       </span>
      </strong>
      <span class="koboSpan" id="kobo.203.1">
       as shown in
      </span>
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.204.1">
         Figure 1
        </span>
       </em>
      </span>
      <em class="italic">
       <span class="koboSpan" id="kobo.205.1">
        .4
       </span>
      </em>
      <span class="koboSpan" id="kobo.206.1">
       and make it easier for our IAM users to remember the sign-in URL.
      </span>
      <span class="koboSpan" id="kobo.206.2">
       Please note that IAM users will still be able to log in using the default sign-in URL
      </span>
      <a id="_idIndexMarker025">
      </a>
      <span class="koboSpan" id="kobo.207.1">
       with the account ID that we saw in
      </span>
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.208.1">
         Figure 1
        </span>
       </em>
      </span>
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.209.1">
         .4
        </span>
       </em>
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.210.1">
        .
       </span>
      </span>
     </p>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.211.1">
     Now, let us also create a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.212.1">
      billing alarm.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.213.1">
     Creating a billing alarm
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.214.1">
     In this section, we will set up a billing alarm
    </span>
    <a id="_idIndexMarker026">
    </a>
    <span class="koboSpan" id="kobo.215.1">
     to let us know when we exceed a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.216.1">
      set limit:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.217.1">
      Log in to the AWS management console and from the drop-down menu next to the account name in the upper-right corner of the screen, click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.218.1">
       Billing and
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.219.1">
        Cost Management
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.220.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer009">
     <span class="koboSpan" id="kobo.221.1">
      <img alt="Figure 1.5 – The account drop-down menu" src="image/B21384_01_5.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.222.1">
     Figure 1.5 – The account drop-down menu
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.223.1">
      On the page for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.224.1">
       Billing and Cost Management home
      </span>
     </strong>
     <span class="koboSpan" id="kobo.225.1">
      , click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.226.1">
       Billing preferences
      </span>
     </strong>
     <span class="koboSpan" id="kobo.227.1">
      from the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.228.1">
       left sidebar.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.229.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.230.1">
       Edit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.231.1">
      within the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.232.1">
       Alert
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.233.1">
        preferences
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.234.1">
       pane.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.235.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.236.1">
       Alert Preferences
      </span>
     </strong>
     <span class="koboSpan" id="kobo.237.1">
      page, select the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.238.1">
       Receive CloudWatch billing alerts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.239.1">
      checkbox.
     </span>
     <span class="koboSpan" id="kobo.239.2">
      If you are using
     </span>
     <a id="_idIndexMarker027">
     </a>
     <span class="koboSpan" id="kobo.240.1">
      a free tier account, you can also select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.241.1">
       Receive AWS Free Tier alerts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.242.1">
      , and optionally give an additional email address to receive alerts in the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.243.1">
       Additional email address to receive alerts – optional
      </span>
     </strong>
     <span class="koboSpan" id="kobo.244.1">
      textbox.
     </span>
     <span class="koboSpan" id="kobo.244.2">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.245.1">
       Update
      </span>
     </strong>
     <span class="koboSpan" id="kobo.246.1">
      to save
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.247.1">
       your preferences.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.248.1">
      Go to the CloudWatch service dashboard, set the region to
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.249.1">
       US East (N.
      </span>
      <span class="koboSpan" id="kobo.249.2">
       Virginia)
      </span>
     </strong>
     <span class="koboSpan" id="kobo.250.1">
      , expand
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.251.1">
       Alarms
      </span>
     </strong>
     <span class="koboSpan" id="kobo.252.1">
      on the left, and click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.253.1">
       All alarms
      </span>
     </strong>
     <span class="koboSpan" id="kobo.254.1">
      .
     </span>
     <span class="koboSpan" id="kobo.254.2">
      At the time of writing this book, AWS only allows us to create a billing alarm if our region is set to
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.255.1">
       US East (N.
      </span>
      <span class="koboSpan" id="kobo.255.2">
       Virginia)
      </span>
     </strong>
     <span class="koboSpan" id="kobo.256.1">
      .
     </span>
     <span class="koboSpan" id="kobo.256.2">
      We will learn more about the CloudWatch service in a later chapter of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.257.1">
       this book.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.258.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.259.1">
       Create alarm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.260.1">
      , and on the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.261.1">
       Create alarm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.262.1">
      page, click on
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.263.1">
        Select metric
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.264.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.265.1">
      In the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.266.1">
       Browse
      </span>
     </strong>
     <span class="koboSpan" id="kobo.267.1">
      tab, click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.268.1">
       Billing
      </span>
     </strong>
     <span class="koboSpan" id="kobo.269.1">
      , and then click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.270.1">
       Total
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.271.1">
        Estimated Charge
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.272.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.273.1">
      Select the checkbox for the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.274.1">
       EstimatedCharges
      </span>
     </strong>
     <span class="koboSpan" id="kobo.275.1">
      metric as shown in the following figure, and then click
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.276.1">
        Select metric
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.277.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer010">
     <span class="koboSpan" id="kobo.278.1">
      <img alt="Figure 1.6 – Configuring metrics" src="image/B21384_01_6.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.279.1">
     Figure 1.6 – Configuring metrics
    </span>
   </p>
   <ol>
    <li value="9">
     <span class="koboSpan" id="kobo.280.1">
      Leave the value
     </span>
     <a id="_idIndexMarker028">
     </a>
     <span class="koboSpan" id="kobo.281.1">
      for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.282.1">
       Metric name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.283.1">
      as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.284.1">
       EstimatedCharges
      </span>
     </strong>
     <span class="koboSpan" id="kobo.285.1">
      and
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.286.1">
       Currency
      </span>
     </strong>
     <span class="koboSpan" id="kobo.287.1">
      as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.288.1">
       USD
      </span>
     </strong>
     <span class="koboSpan" id="kobo.289.1">
      .
     </span>
     <span class="koboSpan" id="kobo.289.2">
      For
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.290.1">
       Statistic
      </span>
     </strong>
     <span class="koboSpan" id="kobo.291.1">
      , choose
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.292.1">
       Maximum
      </span>
     </strong>
     <span class="koboSpan" id="kobo.293.1">
      , and for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.294.1">
       Period
      </span>
     </strong>
     <span class="koboSpan" id="kobo.295.1">
      , choose
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.296.1">
        6 hours
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.297.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.298.1">
      Under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.299.1">
       Conditions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.300.1">
      , for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.301.1">
       Threshold type
      </span>
     </strong>
     <span class="koboSpan" id="kobo.302.1">
      , choose
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.303.1">
       Static
      </span>
     </strong>
     <span class="koboSpan" id="kobo.304.1">
      , for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.305.1">
       Whenever EstimatedCharges is .
      </span>
      <span class="koboSpan" id="kobo.305.2">
       .
      </span>
      <span class="koboSpan" id="kobo.305.3">
       .
      </span>
     </strong>
     <span class="koboSpan" id="kobo.306.1">
      , choose
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.307.1">
       Greater
      </span>
     </strong>
     <span class="koboSpan" id="kobo.308.1">
      , and for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.309.1">
       than...
      </span>
     </strong>
     <span class="koboSpan" id="kobo.310.1">
      , define the value for triggering the alarm.
     </span>
     <span class="koboSpan" id="kobo.310.2">
      Also, expand
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.311.1">
       Additional configuration
      </span>
     </strong>
     <span class="koboSpan" id="kobo.312.1">
      .
     </span>
     <span class="koboSpan" id="kobo.312.2">
      For
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.313.1">
       Datapoints to alarm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.314.1">
      , specify
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.315.1">
       1
      </span>
     </strong>
     <strong class="bold">
      <span class="koboSpan" id="kobo.316.1">
       out of
      </span>
     </strong>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.317.1">
       1
      </span>
     </strong>
     <span class="koboSpan" id="kobo.318.1">
      , and for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.319.1">
       Missing data treatment
      </span>
     </strong>
     <span class="koboSpan" id="kobo.320.1">
      , select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.321.1">
       Treat missing data
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.322.1">
        as missing
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.323.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer011">
     <span class="koboSpan" id="kobo.324.1">
      <img alt="Figure 1.7 – Configuring the conditions for the metric - Conditions" src="image/B21384_01_7.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.325.1">
     Figure 1.7 – Configuring the conditions for the metric - Conditions
    </span>
   </p>
   <ol>
    <li value="11">
     <span class="koboSpan" id="kobo.326.1">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.327.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.328.1">
      to go
     </span>
     <a id="_idIndexMarker029">
     </a>
     <span class="koboSpan" id="kobo.329.1">
      to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.330.1">
       Notification
      </span>
     </strong>
     <span class="koboSpan" id="kobo.331.1">
      page.
     </span>
     <span class="koboSpan" id="kobo.331.2">
      In the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.332.1">
       Notification
      </span>
     </strong>
     <span class="koboSpan" id="kobo.333.1">
      page, select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.334.1">
       In alarm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.335.1">
      , then select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.336.1">
       Create new topic
      </span>
     </strong>
     <span class="koboSpan" id="kobo.337.1">
      , provide a name for the topic and an email to receive communications
     </span>
     <a id="_idIndexMarker030">
     </a>
     <span class="koboSpan" id="kobo.338.1">
      as shown in the following figure, and click
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.339.1">
        Create topic
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.340.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer012">
     <span class="koboSpan" id="kobo.341.1">
      <img alt="Figure 1.8 – Configuring notifications for the metric - Notification" src="image/B21384_01_8.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.342.1">
     Figure 1.8 – Configuring notifications for the metric - Notification
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.343.1">
     We created a new
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.344.1">
      Simple Notification Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.345.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.346.1">
      SNS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.347.1">
     ) topic to send emails.
    </span>
    <span class="koboSpan" id="kobo.347.2">
     We may also select
    </span>
    <a id="_idIndexMarker031">
    </a>
    <span class="koboSpan" id="kobo.348.1">
     an existing SNS topic instead of creating a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.349.1">
      new one.
     </span>
    </span>
   </p>
   <ol>
    <li value="12">
     <span class="koboSpan" id="kobo.350.1">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.351.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.352.1">
      , and under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.353.1">
       Name and description
      </span>
     </strong>
     <span class="koboSpan" id="kobo.354.1">
      , enter a name for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.355.1">
       the alarm.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.356.1">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.357.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.358.1">
      to proceed to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.359.1">
       Preview and create
      </span>
     </strong>
     <span class="koboSpan" id="kobo.360.1">
      page.
     </span>
     <span class="koboSpan" id="kobo.360.2">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.361.1">
       Create alarm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.362.1">
      .
     </span>
     <span class="koboSpan" id="kobo.362.2">
      The alarm should
     </span>
     <a id="_idIndexMarker032">
     </a>
     <span class="koboSpan" id="kobo.363.1">
      now be
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.364.1">
       created successfully.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.365.1">
     Please note that Amazon SNS doesn’t send messages to an endpoint until the subscription to the topic
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.366.1">
      is confirmed.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-27">
    <a id="_idTextAnchor026">
    </a>
    <span class="koboSpan" id="kobo.367.1">
     How it works...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.368.1">
     IAM is the AWS service
    </span>
    <a id="_idIndexMarker033">
    </a>
    <span class="koboSpan" id="kobo.369.1">
     that helps us manage
    </span>
    <a id="_idIndexMarker034">
    </a>
    <span class="koboSpan" id="kobo.370.1">
     and verify the identity
    </span>
    <a id="_idIndexMarker035">
    </a>
    <span class="koboSpan" id="kobo.371.1">
     of users within AWS (authentication) and verify their permissions to AWS services (authorization).
    </span>
    <span class="koboSpan" id="kobo.371.2">
     IAM is a global service and not tied to a region.
    </span>
    <span class="koboSpan" id="kobo.371.3">
     IAM has four
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.372.1">
      core concepts:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.373.1">
       Users
      </span>
     </strong>
     <span class="koboSpan" id="kobo.374.1">
      : A user can be created
     </span>
     <a id="_idIndexMarker036">
     </a>
     <span class="koboSpan" id="kobo.375.1">
      in IAM and given the necessary permissions to access
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.376.1">
       AWS resources.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.377.1">
       Groups
      </span>
     </strong>
     <span class="koboSpan" id="kobo.378.1">
      : Users can be added to groups.
     </span>
     <span class="koboSpan" id="kobo.378.2">
      Permission
     </span>
     <a id="_idIndexMarker037">
     </a>
     <span class="koboSpan" id="kobo.379.1">
      can then be given to groups instead of individual users.
     </span>
     <span class="koboSpan" id="kobo.379.2">
      This is a recommended
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.380.1">
       best practice.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.381.1">
       Policies
      </span>
     </strong>
     <span class="koboSpan" id="kobo.382.1">
      : Policies are JSON documents
     </span>
     <a id="_idIndexMarker038">
     </a>
     <span class="koboSpan" id="kobo.383.1">
      that define the permissions for users
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.384.1">
       or groups.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.385.1">
       Roles
      </span>
     </strong>
     <span class="koboSpan" id="kobo.386.1">
      : Roles are generally used
     </span>
     <a id="_idIndexMarker039">
     </a>
     <span class="koboSpan" id="kobo.387.1">
      for giving users temporary permissions to access an AWS service.
     </span>
     <span class="koboSpan" id="kobo.387.2">
      For example, we can attach a role with S3 permissions to an EC2 service.
     </span>
     <span class="koboSpan" id="kobo.387.3">
      Roles are also used for switching roles, as we will see in
     </span>
     <a href="B21384_02.xhtml#_idTextAnchor043">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.388.1">
         Chapter 2
        </span>
       </em>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.389.1">
       .
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.390.1">
     The root user account is the account that we log in to using the primary email.
    </span>
    <span class="koboSpan" id="kobo.390.2">
     It has access to everything in our account.
    </span>
    <span class="koboSpan" id="kobo.390.3">
     The IAM dashboard provides a set of checklist items to keep our root account secure.
    </span>
    <span class="koboSpan" id="kobo.390.4">
     The first item in the IAM checklist checks whether we have enabled MFA for our root account.
    </span>
    <span class="koboSpan" id="kobo.390.5">
     MFA will enforce an additional level of authentication, apart from the username and password, using tokens from a virtual or hardware
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.391.1">
      MFA device.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.392.1">
     The second item in the checklist checks whether we have active access keys for our root account that can be used for programmatic access.
    </span>
    <span class="koboSpan" id="kobo.392.2">
     It is good practice to use the root for creating other accounts and making necessary configurations, and then use those accounts for our day-to-day activities.
    </span>
    <span class="koboSpan" id="kobo.392.3">
     As we will see in further recipes within this chapter, we can use the IAM Identity Center along with the AWS Organizations service to better manage user identities across AWS accounts in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.393.1">
      an organization.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.394.1">
     We also set up an account alias
    </span>
    <a id="_idIndexMarker040">
    </a>
    <span class="koboSpan" id="kobo.395.1">
     and a billing alarm
    </span>
    <a id="_idIndexMarker041">
    </a>
    <span class="koboSpan" id="kobo.396.1">
     even though they were not part of the IAM security recommendations
    </span>
    <a id="_idIndexMarker042">
    </a>
    <span class="koboSpan" id="kobo.397.1">
     checklist.
    </span>
    <span class="koboSpan" id="kobo.397.2">
     As we saw in the recipe introduction, creating an AWS account alias enhances the user experience, increases security, and allows for branding consistency.
    </span>
    <span class="koboSpan" id="kobo.397.3">
     A billing alarm will trigger an alarm and let us know when we exceed the set limit.
    </span>
    <span class="koboSpan" id="kobo.397.4">
     It is a good practice to always set a billing alarm to avoid accidental usage and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.398.1">
      unplanned expenses.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-28">
    <a id="_idTextAnchor027">
    </a>
    <span class="koboSpan" id="kobo.399.1">
     There’s more...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.400.1">
     Let us also quickly go through some important concepts related to IAM
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.401.1">
      and security:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.402.1">
       Authentication
      </span>
     </strong>
     <span class="koboSpan" id="kobo.403.1">
      is the process of verifying
     </span>
     <a id="_idIndexMarker043">
     </a>
     <span class="koboSpan" id="kobo.404.1">
      a user’s identity with a username and password, or credentials such as the access key and the secret access key.
     </span>
     <span class="koboSpan" id="kobo.404.2">
      There are primarily two types of access credentials
     </span>
     <a id="_idIndexMarker044">
     </a>
     <span class="koboSpan" id="kobo.405.1">
      in AWS for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.406.1">
       authenticating users:
      </span>
     </span>
     <ul>
      <li>
       <strong class="bold">
        <span class="koboSpan" id="kobo.407.1">
         Access key ID and secret access key
        </span>
       </strong>
       <span class="koboSpan" id="kobo.408.1">
        : These are used for programmatic access, and are used with AWS APIs, CLI, SDK, and any
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.409.1">
         development tools.
        </span>
       </span>
      </li>
      <li>
       <strong class="bold">
        <span class="koboSpan" id="kobo.410.1">
         Username and password
        </span>
       </strong>
       <span class="koboSpan" id="kobo.411.1">
        : These are used for managing
       </span>
       <span class="No-Break">
        <span class="koboSpan" id="kobo.412.1">
         console access.
        </span>
       </span>
      </li>
     </ul>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.413.1">
       Authorization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.414.1">
      is the process of checking whether a user
     </span>
     <a id="_idIndexMarker045">
     </a>
     <span class="koboSpan" id="kobo.415.1">
      has the right permissions to perform an action and is usually defined using policies.
     </span>
     <span class="koboSpan" id="kobo.415.2">
      We will learn more about IAM policies in
     </span>
     <a href="B21384_02.xhtml#_idTextAnchor043">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.416.1">
         Chapter 2
        </span>
       </em>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.417.1">
       .
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.418.1">
       Confidentiality
      </span>
     </strong>
     <span class="koboSpan" id="kobo.419.1">
      is making sure that the data
     </span>
     <a id="_idIndexMarker046">
     </a>
     <span class="koboSpan" id="kobo.420.1">
      that’s sent from the source is not read by anyone else during transit.
     </span>
     <span class="koboSpan" id="kobo.420.2">
      This can be made possible
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.421.1">
       using cryptography.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.422.1">
       Data integrity
      </span>
     </strong>
     <span class="koboSpan" id="kobo.423.1">
      is making sure the data
     </span>
     <a id="_idIndexMarker047">
     </a>
     <span class="koboSpan" id="kobo.424.1">
      has come from the right person and has not been tampered in between.
     </span>
     <span class="koboSpan" id="kobo.424.2">
      This is possible
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.425.1">
       using cryptography.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.426.1">
       Availability
      </span>
     </strong>
     <span class="koboSpan" id="kobo.427.1">
      makes sure that the service
     </span>
     <a id="_idIndexMarker048">
     </a>
     <span class="koboSpan" id="kobo.428.1">
      can be used when it
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.429.1">
       is needed.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.430.1">
       Accounting
      </span>
     </strong>
     <span class="koboSpan" id="kobo.431.1">
      helps us identify the responsible
     </span>
     <a id="_idIndexMarker049">
     </a>
     <span class="koboSpan" id="kobo.432.1">
      parties in case of a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.433.1">
       security event.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.434.1">
       Non-repudiation
      </span>
     </strong>
     <span class="koboSpan" id="kobo.435.1">
      prevents a user from denying
     </span>
     <a id="_idIndexMarker050">
     </a>
     <span class="koboSpan" id="kobo.436.1">
      an activity.
     </span>
     <span class="koboSpan" id="kobo.436.2">
      Cryptography comes to our aid here
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.437.1">
       as well.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.438.1">
      The
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.439.1">
       AWS shared responsibility model
      </span>
     </strong>
     <span class="koboSpan" id="kobo.440.1">
      defines the responsibilities
     </span>
     <a id="_idIndexMarker051">
     </a>
     <span class="koboSpan" id="kobo.441.1">
      of AWS and its customers in securing our solutions in the AWS cloud.
     </span>
     <span class="koboSpan" id="kobo.441.2">
      AWS is responsible for the security of the cloud, which involves safeguarding the infrastructure that powers all services provided in the AWS cloud.
     </span>
     <span class="koboSpan" id="kobo.441.3">
      This includes the hardware, software, networking, and facilities that operate AWS cloud services.
     </span>
     <span class="koboSpan" id="kobo.441.4">
      On the other hand, customers are accountable for security in the cloud.
     </span>
     <span class="koboSpan" id="kobo.441.5">
      This responsibility encompasses the management of workloads deployed in the cloud, the guest operating systems used, and the configurations of network, host, IAM, and storage resources for data management and business communication.
     </span>
     <span class="koboSpan" id="kobo.441.6">
      It also involves the regular updating and patching of software on cloud resources
     </span>
     <a id="_idIndexMarker052">
     </a>
     <span class="koboSpan" id="kobo.442.1">
      based on the cloud abstraction (e.g., infrastructure as a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.443.1">
       service) used.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.444.1">
      Third-party
     </span>
     <a id="_idIndexMarker053">
     </a>
     <span class="koboSpan" id="kobo.445.1">
      auditors
     </span>
     <a id="_idIndexMarker054">
     </a>
     <span class="koboSpan" id="kobo.446.1">
      evaluate AWS IAM
     </span>
     <a id="_idIndexMarker055">
     </a>
     <span class="koboSpan" id="kobo.447.1">
      regularly for its compliance
     </span>
     <a id="_idIndexMarker056">
     </a>
     <span class="koboSpan" id="kobo.448.1">
      with a range of standards, including the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.449.1">
       Service Organization Control
      </span>
     </strong>
     <span class="koboSpan" id="kobo.450.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.451.1">
       SOC
      </span>
     </strong>
     <span class="koboSpan" id="kobo.452.1">
      ),
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.453.1">
       Payment Card Industry Data Security Standard
      </span>
     </strong>
     <span class="koboSpan" id="kobo.454.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.455.1">
       PCI DSS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.456.1">
      ),
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.457.1">
       Federal Risk and Authorization Management Program
      </span>
     </strong>
     <span class="koboSpan" id="kobo.458.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.459.1">
       FedRAMP
      </span>
     </strong>
     <span class="koboSpan" id="kobo.460.1">
      ), and
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.461.1">
       International Organization for Standardization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.462.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.463.1">
       ISO
      </span>
     </strong>
     <span class="koboSpan" id="kobo.464.1">
      ), among
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.465.1">
       other standards.
      </span>
     </span>
    </li>
   </ul>
   <h3>
    <span class="koboSpan" id="kobo.466.1">
     More about IAM users and groups
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.467.1">
     In this recipe, we did not create IAM users or user groups because it is now recommended to use IAM Identity Center users instead of IAM users.
    </span>
    <span class="koboSpan" id="kobo.467.2">
     However, if needed, we can create users and user groups from the left sidebar of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.468.1">
      IAM dashboard.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.469.1">
     The primary concern with IAM users
    </span>
    <a id="_idIndexMarker057">
    </a>
    <span class="koboSpan" id="kobo.470.1">
     is that they are associated with long-term credentials such as access keys, which can pose security risks if they are not managed properly.
    </span>
    <span class="koboSpan" id="kobo.470.2">
     Here are some common use cases for AWS access keys as per AWS, along with recommendations
    </span>
    <a id="_idIndexMarker058">
    </a>
    <span class="koboSpan" id="kobo.471.1">
     for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.472.1">
      safer alternatives:
     </span>
    </span>
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table001">
    <colgroup>
     <col/>
     <col/>
     <col/>
    </colgroup>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.473.1">
           Alternative
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.474.1">
           Use case
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.475.1">
           Recommendations
          </span>
         </strong>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.476.1">
           CLI
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.477.1">
         Accessing the AWS account via the
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.478.1">
          AWS CLI.
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.479.1">
         In this case do
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.480.1">
          the following:
         </span>
        </span>
       </p>
       <ul>
        <li>
         <span class="koboSpan" id="kobo.481.1">
          Use
         </span>
         <strong class="bold">
          <span class="koboSpan" id="kobo.482.1">
           AWS CloudShell
          </span>
         </strong>
         <span class="koboSpan" id="kobo.483.1">
          , a browser-integrated CLI, for
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.484.1">
           executing commands.
          </span>
         </span>
        </li>
        <li>
         <span class="koboSpan" id="kobo.485.1">
          Opt for the AWS CLI V2 and set up authentication via a user in the
         </span>
         <strong class="bold">
          <span class="koboSpan" id="kobo.486.1">
           IAM Identity Center
          </span>
         </strong>
         <span class="koboSpan" id="kobo.487.1">
          ; we will delve into the IAM Identity Center later
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.488.1">
           in this.
          </span>
         </span>
        </li>
       </ul>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.489.1">
           Local code
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.490.1">
         Accessing the AWS account from local development
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.491.1">
          environments.
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.492.1">
         Employ an
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.493.1">
          Integrated Development Environment
         </span>
        </strong>
        <span class="koboSpan" id="kobo.494.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.495.1">
          IDE
         </span>
        </strong>
        <span class="koboSpan" id="kobo.496.1">
         ) equipped with the AWS Toolkit, which facilitates authentication through the IAM
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.497.1">
          Identity Center.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.498.1">
          Application running on an AWS compute
         </span>
        </strong>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.499.1">
           service
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.500.1">
         Managing application code on AWS compute services such as Amazon EC2, Amazon ECS, or
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.501.1">
          AWS Lambda.
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.502.1">
         Assign an IAM role to compute resources such as EC2 instances or Lambda functions, ensuring the automatic provision of temporary credentials
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.503.1">
          for access.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.504.1">
          Third-party
         </span>
        </strong>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.505.1">
           Service
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.506.1">
         This is used for enabling third-party applications or services that oversee or interact with
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.507.1">
          AWS resources.
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.508.1">
         As a standard, opt for temporary security credentials through IAM roles, avoiding the creation of enduring credentials such as access keys.
        </span>
        <span class="koboSpan" id="kobo.508.2">
         Refrain from generating AWS account root user
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.509.1">
          access keys.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.510.1">
          Applications running
         </span>
        </strong>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.511.1">
           outside AWS
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.512.1">
         Managing application code on AWS compute services such as Amazon EC2, Amazon ECS, or
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.513.1">
          AWS Lambda.
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.514.1">
         While it’s acceptable to employ an access key for this use case, ensure that you do
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.515.1">
          the following:
         </span>
        </span>
       </p>
       <ul>
        <li>
         <span class="koboSpan" id="kobo.516.1">
          Avoid storing access keys in plaintext, within code repositories, or directly
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.517.1">
           in code.
          </span>
         </span>
        </li>
        <li>
         <span class="koboSpan" id="kobo.518.1">
          Deactivate or remove access keys that
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.519.1">
           are redundant.
          </span>
         </span>
        </li>
        <li>
         <span class="koboSpan" id="kobo.520.1">
          Implement
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.521.1">
           least-privilege permissions.
          </span>
         </span>
        </li>
        <li>
         <span class="koboSpan" id="kobo.522.1">
          Regularly rotate
         </span>
         <span class="No-Break">
          <span class="koboSpan" id="kobo.523.1">
           access keys.
          </span>
         </span>
        </li>
       </ul>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.524.1">
     Table 1.1 – Use cases for AWS access keys as per AWS
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.525.1">
     The preceding recommendations aim to reduce the potential for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.526.1">
      security breaches.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-29">
    <a id="_idTextAnchor028">
    </a>
    <span class="koboSpan" id="kobo.527.1">
     See also
    </span>
   </h2>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.528.1">
      We can learn more about IAM and its security tools and features such as the IAM analyzer, IAM access
     </span>
     <a id="_idIndexMarker059">
     </a>
     <span class="koboSpan" id="kobo.529.1">
      advisor, and IAM credentials report
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.530.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-iam">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.531.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-iam
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.532.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.533.1">
      We learned about billing alarms in this recipe.
     </span>
     <span class="koboSpan" id="kobo.533.2">
      We can learn about AWS Budgets and understand its differences
     </span>
     <a id="_idIndexMarker060">
     </a>
     <span class="koboSpan" id="kobo.534.1">
      from billing alarms
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.535.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-budgets">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.536.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-budgets
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.537.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.538.1">
      We briefly touched on Amazon SNS
     </span>
     <a id="_idIndexMarker061">
     </a>
     <span class="koboSpan" id="kobo.539.1">
      within this recipe.
     </span>
     <span class="koboSpan" id="kobo.539.2">
      To learn more about SNS, we can refer
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.540.1">
       to
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-amazon-sns-service">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.541.1">
        https://www.cloudericks.com/blog/getting-started-with-amazon-sns-service
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.542.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.543.1">
      This book does not cover AWS basics beyond the security domain.
     </span>
     <span class="koboSpan" id="kobo.543.2">
      We can read about cloud computing
     </span>
     <a id="_idIndexMarker062">
     </a>
     <span class="koboSpan" id="kobo.544.1">
      and AWS basics
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.545.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-cloud">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.546.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-cloud
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.547.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.548.1">
      Read more about
     </span>
     <a id="_idIndexMarker063">
     </a>
     <span class="koboSpan" id="kobo.549.1">
      the AWS shared responsibility model
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.550.1">
       at
      </span>
     </span>
     <a href="https://aws.amazon.com/compliance/shared-responsibility-model">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.551.1">
        https://aws.amazon.com/compliance/shared-responsibility-model
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.552.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.553.1">
      Read more about
     </span>
     <a id="_idIndexMarker064">
     </a>
     <span class="koboSpan" id="kobo.554.1">
      compliance validation for AWS IAM
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.555.1">
       at
      </span>
     </span>
     <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/iam-compliance-validation.html">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.556.1">
        https://docs.aws.amazon.com/IAM/latest/UserGuide/iam-compliance-validation.html
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.557.1">
       .
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-30">
    <a id="_idTextAnchor029">
    </a>
    <span class="koboSpan" id="kobo.558.1">
     Multi-account management with AWS Organizations
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.559.1">
     Organizations generally
    </span>
    <a id="_idIndexMarker065">
    </a>
    <span class="koboSpan" id="kobo.560.1">
     have multiple AWS accounts
    </span>
    <a id="_idIndexMarker066">
    </a>
    <span class="koboSpan" id="kobo.561.1">
     categorized based on usages such as production, development, testing, and so on.
    </span>
    <span class="koboSpan" id="kobo.561.2">
     The AWS Organizations service helps us centrally manage
    </span>
    <a id="_idIndexMarker067">
    </a>
    <span class="koboSpan" id="kobo.562.1">
     all our AWS accounts, and its
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.563.1">
      Organizational Units
     </span>
    </strong>
    <span class="koboSpan" id="kobo.564.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.565.1">
      OUs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.566.1">
     ) feature helps us maintain the AWS accounts in usage-based hierarchies.
    </span>
    <span class="koboSpan" id="kobo.566.2">
     In this recipe, we will learn how to create AWS Organization and OUs, as well as add AWS accounts to OUs.
    </span>
    <span class="koboSpan" id="kobo.566.3">
     We will create the AWS Organization from the AWS Management Console but will create OUs and add accounts both from the Management Console and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.567.1">
      the CLI.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-31">
    <a id="_idTextAnchor030">
    </a>
    <span class="koboSpan" id="kobo.568.1">
     Getting ready
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.569.1">
     We will need a working AWS account that is not part of an AWS Organization to complete all the steps within
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.570.1">
      this recipe.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.571.1">
     For parts of the recipe where we use CLI commands, we need AWS CLI V2 configured as discussed wi
    </span>
    <a id="_idTextAnchor031">
    </a>
    <span class="koboSpan" id="kobo.572.1">
     thin the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.573.1">
      Technical
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.574.1">
       requirements
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.575.1">
      section.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-32">
    <a id="_idTextAnchor032">
    </a>
    <span class="koboSpan" id="kobo.576.1">
     How to do it...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.577.1">
     We will first create an AWS Organization
    </span>
    <a id="_idIndexMarker068">
    </a>
    <span class="koboSpan" id="kobo.578.1">
     and will then create OUs
    </span>
    <a id="_idIndexMarker069">
    </a>
    <span class="koboSpan" id="kobo.579.1">
     and AWS accounts within that
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.580.1">
      AWS Organization.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.581.1">
     Creating an AWS organization from the management console
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.582.1">
     Let us first create
    </span>
    <a id="_idIndexMarker070">
    </a>
    <span class="koboSpan" id="kobo.583.1">
     an AWS Organization
    </span>
    <a id="_idIndexMarker071">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.584.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.585.1">
      Log in to the AWS Management Console as a root user or a user with administrator permissions and go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.586.1">
       AWS Organizations
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.587.1">
       service dashboard.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.588.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.589.1">
       Create an organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.590.1">
      .
     </span>
     <span class="koboSpan" id="kobo.590.2">
      It will create an organization and forward us to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.591.1">
       AWS accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.592.1">
      page, which should look like
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.593.1">
       the following:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer013">
     <span class="koboSpan" id="kobo.594.1">
      <img alt="Figure 1.9 – Accounts in AWS Organizations" src="image/B21384_01_9.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.595.1">
     Figure 1.9 – Accounts in AWS Organizations
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.596.1">
     If we check the left sidebar
    </span>
    <a id="_idIndexMarker072">
    </a>
    <span class="koboSpan" id="kobo.597.1">
     on the same page, we can see
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.598.1">
      Organization ID
     </span>
    </strong>
    <span class="koboSpan" id="kobo.599.1">
     as shown
    </span>
    <a id="_idIndexMarker073">
    </a>
    <span class="koboSpan" id="kobo.600.1">
     in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.601.1">
      following figure:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer014">
     <span class="koboSpan" id="kobo.602.1">
      <img alt="Figure 1.10 – The AWS Organizations sidebar" src="image/B21384_01_10.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.603.1">
     Figure 1.10 – The AWS Organizations sidebar
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.604.1">
     Next, we will create an OU under the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.605.1">
      root OU.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.606.1">
     Creating an OU and account from the Management Console
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.607.1">
     To create an OU
    </span>
    <a id="_idIndexMarker074">
    </a>
    <span class="koboSpan" id="kobo.608.1">
     under the root OU, we can proceed
    </span>
    <a id="_idIndexMarker075">
    </a>
    <span class="koboSpan" id="kobo.609.1">
     with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.610.1">
      following steps:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.611.1">
      Go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.612.1">
       AWS accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.613.1">
      page on the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.614.1">
       AWS Organizations
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.615.1">
       service dashboard.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.616.1">
      Select the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.617.1">
       Root
      </span>
     </strong>
     <span class="koboSpan" id="kobo.618.1">
      OU, and from the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.619.1">
       Actions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.620.1">
      menu, select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.621.1">
       Create new
      </span>
     </strong>
     <span class="koboSpan" id="kobo.622.1">
      under
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.623.1">
        Organizational unit
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.624.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer015">
     <span class="koboSpan" id="kobo.625.1">
      <img alt="Figure 1.11 – Creating a new organizational unit" src="image/B21384_01_11.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.626.1">
     Figure 1.11 – Creating a new organizational unit
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.627.1">
      On the next
     </span>
     <a id="_idIndexMarker076">
     </a>
     <span class="koboSpan" id="kobo.628.1">
      screen, enter
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.629.1">
       Sandbox
      </span>
     </strong>
     <span class="koboSpan" id="kobo.630.1">
      under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.631.1">
       Organizational unit name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.632.1">
      and click
     </span>
     <a id="_idIndexMarker077">
     </a>
     <span class="koboSpan" id="kobo.633.1">
      on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.634.1">
       Create
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.635.1">
        organizational unit.
       </span>
      </strong>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.636.1">
     We can now create
    </span>
    <a id="_idIndexMarker078">
    </a>
    <span class="koboSpan" id="kobo.637.1">
     an AWS account
    </span>
    <a id="_idIndexMarker079">
    </a>
    <span class="koboSpan" id="kobo.638.1">
     and move it under the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.639.1">
      Sandbox
     </span>
    </strong>
    <span class="koboSpan" id="kobo.640.1">
     OU
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.641.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.642.1">
      Go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.643.1">
       AWS accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.644.1">
      page on the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.645.1">
       AWS Organizations
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.646.1">
       service dashboard.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.647.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.648.1">
       Add an
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.649.1">
        AWS account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.650.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.651.1">
      Select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.652.1">
       Create an AWS Account
      </span>
     </strong>
     <span class="koboSpan" id="kobo.653.1">
      and provide the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.654.1">
       awsseccb-sandbox-1
      </span>
     </strong>
     <span class="koboSpan" id="kobo.655.1">
      value for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.656.1">
       AWS account name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.657.1">
      .
     </span>
     <span class="koboSpan" id="kobo.657.2">
      For
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.658.1">
       Email address of the account’s owner
      </span>
     </strong>
     <span class="koboSpan" id="kobo.659.1">
      , provide an email address you have access to.
     </span>
     <span class="koboSpan" id="kobo.659.2">
      Enter the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.660.1">
       OrganizationAccountAccessRole
      </span>
     </strong>
     <span class="koboSpan" id="kobo.661.1">
      value for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.662.1">
       IAM
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.663.1">
        role name
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.664.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer016">
     <span class="koboSpan" id="kobo.665.1">
      <img alt="Figure 1.12 – Adding an account to an organization" src="image/B21384_01_12.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.666.1">
     Figure 1.12 – Adding an account to an organization
    </span>
   </p>
   <ol>
    <li value="4">
     <span class="koboSpan" id="kobo.667.1">
      Scroll down and click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.668.1">
       Create
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.669.1">
        AWS account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.670.1">
       .
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.671.1">
       We should immediately
      </span>
      <a id="_idIndexMarker080">
      </a>
      <span class="koboSpan" id="kobo.672.1">
       see a screen with a message
      </span>
      <a id="_idIndexMarker081">
      </a>
      <span class="koboSpan" id="kobo.673.1">
       that says
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.674.1">
        AWS is creating 1 account
       </span>
      </strong>
      <span class="koboSpan" id="kobo.675.1">
       .
      </span>
      <span class="koboSpan" id="kobo.675.2">
       It could take some time for the account to
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.676.1">
        be created.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.677.1">
      Once the account is created, from the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.678.1">
       AWS Accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.679.1">
      page within the Organization, select the newly created account.
     </span>
     <span class="koboSpan" id="kobo.679.2">
      From the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.680.1">
       Actions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.681.1">
      drop-down menu,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.682.1">
       select
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.683.1">
        Move
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.684.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer017">
     <span class="koboSpan" id="kobo.685.1">
      <img alt="Figure 1.13 – Selecting an account and moving between OUs" src="image/B21384_01_13.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.686.1">
     Figure 1.13 – Selecting an account and moving between OUs
    </span>
   </p>
   <ol>
    <li value="6">
     <span class="koboSpan" id="kobo.687.1">
      Select the desired OU
     </span>
     <a id="_idIndexMarker082">
     </a>
     <span class="koboSpan" id="kobo.688.1">
      in the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.689.1">
       Destination
      </span>
     </strong>
     <span class="koboSpan" id="kobo.690.1">
      section
     </span>
     <a id="_idIndexMarker083">
     </a>
     <span class="koboSpan" id="kobo.691.1">
      and click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.692.1">
       Move
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.693.1">
        AWS account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.694.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer018">
     <span class="koboSpan" id="kobo.695.1">
      <img alt="Figure 1.14 – Selecting a destination OU for moving accounts" src="image/B21384_01_14.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.696.1">
     Figure 1.14 – Selecting a destination OU for moving accounts
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.697.1">
     The newly created account should be now part of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.698.1">
      selected OU.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.699.1">
     Creating an OU and account from the CLI
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.700.1">
     In this section, we will create
    </span>
    <a id="_idIndexMarker084">
    </a>
    <span class="koboSpan" id="kobo.701.1">
     an OU and account
    </span>
    <a id="_idIndexMarker085">
    </a>
    <span class="koboSpan" id="kobo.702.1">
     from the CLI.
    </span>
    <span class="koboSpan" id="kobo.702.2">
     Please remember
    </span>
    <a id="_idIndexMarker086">
    </a>
    <span class="koboSpan" id="kobo.703.1">
     to replace my IDs with your own IDs
    </span>
    <a id="_idIndexMarker087">
    </a>
    <span class="koboSpan" id="kobo.704.1">
     from the relevant previous steps while executing the CLI commands.
    </span>
    <span class="koboSpan" id="kobo.704.2">
     Commands are also provided with the code files.
    </span>
    <span class="koboSpan" id="kobo.704.3">
     Also, if we are executing the commands from the AWS CloudShell, we do not have to specify the CLI profile.
    </span>
    <span class="koboSpan" id="kobo.704.4">
     Let us
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.705.1">
      get started:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.706.1">
      Create an OU called
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.707.1">
       Workloads
      </span>
     </strong>
     <span class="koboSpan" id="kobo.708.1">
      under Root OU using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.709.1">
       create-organizational-unit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.710.1">
      subcommand using the ID of our
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.711.1">
       Root OU:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.712.1">aws organizations create-organizational-unit --parent-id r-bim7 --name Workloads --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.713.1">
       This should give us a response similar to
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.714.1">
        the following:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer019">
     <span class="koboSpan" id="kobo.715.1">
      <img alt="Figure 1.15 – The response for the create-organizational-unit subcommand" src="image/B21384_01_15.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.716.1">
     Figure 1.15 – The response for the create-organizational-unit subcommand
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.717.1">
      We can create
     </span>
     <a id="_idIndexMarker088">
     </a>
     <span class="koboSpan" id="kobo.718.1">
      an AWS
     </span>
     <a id="_idIndexMarker089">
     </a>
     <span class="koboSpan" id="kobo.719.1">
      account
     </span>
     <a id="_idIndexMarker090">
     </a>
     <span class="koboSpan" id="kobo.720.1">
      using
     </span>
     <a id="_idIndexMarker091">
     </a>
     <span class="koboSpan" id="kobo.721.1">
      the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.722.1">
        create-account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.723.1">
       subcommand:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.724.1">aws organizations create-account --email awsseccb_sandbox2@cloudericks.com --account-name awsseccb-sandbox-2 --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.725.1">
       This should give us a response similar to
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.726.1">
        the following:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer020">
     <span class="koboSpan" id="kobo.727.1">
      <img alt="Figure 1.16 – The response for the create-account subcommand" src="image/B21384_01_16.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.728.1">
     Figure 1.16 – The response for the create-account subcommand
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.729.1">
      We can check the status of our request using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.730.1">
       describe-create-account-status
      </span>
     </strong>
     <span class="koboSpan" id="kobo.731.1">
      subcommand by providing the request ID we received in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.732.1">
       previous step:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.733.1">aws organizations describe-create-account-status --create-account-request-id car-6582b2c63be845ebaa474c9268cea8c1 --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.734.1">
       If the request succeeds, we should get the
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.735.1">
        following response:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer021">
     <span class="koboSpan" id="kobo.736.1">
      <img alt="Figure 1.17 – The response for describe-create-account-status" src="image/B21384_01_17.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.737.1">
     Figure 1.17 – The response for describe-create-account-status
    </span>
   </p>
   <ol>
    <li value="4">
     <span class="koboSpan" id="kobo.738.1">
      We can verify that the account
     </span>
     <a id="_idIndexMarker092">
     </a>
     <span class="koboSpan" id="kobo.739.1">
      was created
     </span>
     <a id="_idIndexMarker093">
     </a>
     <span class="koboSpan" id="kobo.740.1">
      under the root OU
     </span>
     <a id="_idIndexMarker094">
     </a>
     <span class="koboSpan" id="kobo.741.1">
      and get the root’s ID
     </span>
     <a id="_idIndexMarker095">
     </a>
     <span class="koboSpan" id="kobo.742.1">
      using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.743.1">
       list-parents
      </span>
     </strong>
     <span class="koboSpan" id="kobo.744.1">
      subcommand by providing the account ID we received in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.745.1">
       previous step:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.746.1">aws organizations list-parents --child-id 206722961012 --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.747.1">
       This should give us a response similar to
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.748.1">
        the following:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer022">
     <span class="koboSpan" id="kobo.749.1">
      <img alt="Figure 1.18 – The response for the list-parents subcommand" src="image/B21384_01_18.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.750.1">
     Figure 1.18 – The response for the list-parents subcommand
    </span>
   </p>
   <ol>
    <li value="5">
     <span class="koboSpan" id="kobo.751.1">
      Move our new account from the root OU into the new OU we created earlier from CLI by providing the account ID, root ID, and OU ID from the previous steps using the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.752.1">
        move-account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.753.1">
       subcommand:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.754.1">aws organizations move-account --account-id 206722961012 --source-parent-id r-bim7 --destination-parent-id ou-bim7-0s1nqy2w --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.755.1">
       This command does not
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.756.1">
        return anything.
       </span>
      </span>
     </p>
    </li>
    <li>
     <span class="koboSpan" id="kobo.757.1">
      Check the parent for our account using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.758.1">
       list-parents
      </span>
     </strong>
     <span class="koboSpan" id="kobo.759.1">
      subcommand, as we did in
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.760.1">
       S
      </span>
     </em>
     <em class="italic">
      <span class="koboSpan" id="kobo.761.1">
       tep 4
      </span>
     </em>
     <span class="koboSpan" id="kobo.762.1">
      .
     </span>
     <span class="koboSpan" id="kobo.762.2">
      We should get a response with the new OU as
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.763.1">
       the parent:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer023">
     <span class="koboSpan" id="kobo.764.1">
      <img alt="Figure 1.19 – The response to the list-parents subcommand" src="image/B21384_01_19.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.765.1">
     Figure 1.19 – The response to the list-parents subcommand
    </span>
   </p>
   <ol>
    <li value="7">
     <span class="koboSpan" id="kobo.766.1">
      We can list all the OUs
     </span>
     <a id="_idIndexMarker096">
     </a>
     <span class="koboSpan" id="kobo.767.1">
      under the root OU
     </span>
     <a id="_idIndexMarker097">
     </a>
     <span class="koboSpan" id="kobo.768.1">
      using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.769.1">
       list-children
      </span>
     </strong>
     <span class="koboSpan" id="kobo.770.1">
      subcommand
     </span>
     <a id="_idIndexMarker098">
     </a>
     <span class="koboSpan" id="kobo.771.1">
      with the child type
     </span>
     <a id="_idIndexMarker099">
     </a>
     <span class="koboSpan" id="kobo.772.1">
      set
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.773.1">
       to
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.774.1">
        ORGANIZATIONAL_UNIT
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.775.1">
       :
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.776.1">aws organizations list-children --parent-id r-bim7 --child-type ORGANIZATIONAL_UNIT --profile awssecadmin</span></strong></pre>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.777.1">
       This should give us a response similar to the following if we have a total of two OUs, assuming that we created one in the
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.778.1">
        previous recipe:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer024">
     <span class="koboSpan" id="kobo.779.1">
      <img alt="Figure 1.20 – The response to the list-children subcommand" src="image/B21384_01_20.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.780.1">
     Figure 1.20 – The response to the list-children subcommand
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.781.1">
     To get the details of the OU, along
    </span>
    <a id="_idIndexMarker100">
    </a>
    <span class="koboSpan" id="kobo.782.1">
     with its name, we can use
    </span>
    <a id="_idIndexMarker101">
    </a>
    <span class="koboSpan" id="kobo.783.1">
     the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.784.1">
      describe-organizational-unit
     </span>
    </strong>
    <span class="koboSpan" id="kobo.785.1">
     subcommand
    </span>
    <a id="_idIndexMarker102">
    </a>
    <span class="koboSpan" id="kobo.786.1">
     with a single parameter
    </span>
    <a id="_idIndexMarker103">
    </a>
    <span class="koboSpan" id="kobo.787.1">
     named
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.788.1">
      organizational-unit-id
     </span>
    </strong>
    <span class="koboSpan" id="kobo.789.1">
     by passing in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.790.1">
      the ID.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-33">
    <a id="_idTextAnchor033">
    </a>
    <span class="koboSpan" id="kobo.791.1">
     How it works...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.792.1">
     From the Management Console, we created
    </span>
    <a id="_idIndexMarker104">
    </a>
    <span class="koboSpan" id="kobo.793.1">
     an AWS Organization, created OUs under it, and added accounts
    </span>
    <a id="_idIndexMarker105">
    </a>
    <span class="koboSpan" id="kobo.794.1">
     under the OUs.
    </span>
    <span class="koboSpan" id="kobo.794.2">
     An OU called
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.795.1">
      Root
     </span>
    </strong>
    <span class="koboSpan" id="kobo.796.1">
     was created by default.
    </span>
    <span class="koboSpan" id="kobo.796.2">
     The account used to create
    </span>
    <a id="_idIndexMarker106">
    </a>
    <span class="koboSpan" id="kobo.797.1">
     the Organization
    </span>
    <a id="_idIndexMarker107">
    </a>
    <span class="koboSpan" id="kobo.798.1">
     is called the management account (formerly known as the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.799.1">
      master account
     </span>
    </strong>
    <span class="koboSpan" id="kobo.800.1">
     ) and is created under the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.801.1">
      root OU.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.802.1">
     We can only initiate the creation of a new organization from an AWS account that is not a member of any organization.
    </span>
    <span class="koboSpan" id="kobo.802.2">
     We cannot make another AWS account into a management account later, and hence, the account from which we create an organization needs to be selected carefully.
    </span>
    <span class="koboSpan" id="kobo.802.3">
     We can move an account to any OU, including the root OU.
    </span>
    <span class="koboSpan" id="kobo.802.4">
     We can also create sub-OUs within
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.803.1">
      an OU.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.804.1">
     AWS Organizations’ delegated administrator feature allows specific AWS services, such as AWS IAM Identity Center, to designate a member account within the organization as an administrator for managing that service across all accounts.
    </span>
    <span class="koboSpan" id="kobo.804.2">
     This enables different teams to manage AWS services using separate accounts tailored to their roles and responsibilities.
    </span>
    <span class="koboSpan" id="kobo.804.3">
     Services currently supporting this feature include AWS IAM Identity Center, AWS Config, AWS Firewall Manager, Amazon GuardDuty, AWS IAM Access Analyzer, Amazon Macie, AWS Security Hub, Amazon Detective, AWS Audit Manager, Amazon Inspector, and AWS
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.805.1">
      Systems Manager.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.806.1">
     From the CLI, we created an AWS account using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.807.1">
      create-account
     </span>
    </strong>
    <span class="koboSpan" id="kobo.808.1">
     subcommand.
    </span>
    <span class="koboSpan" id="kobo.808.2">
     This command returns immediately with a request ID and works asynchronously.
    </span>
    <span class="koboSpan" id="kobo.808.3">
     We can check the status of our request using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.809.1">
      describe-create-account-status
     </span>
    </strong>
    <span class="koboSpan" id="kobo.810.1">
     subcommand by providing the request ID.
    </span>
    <span class="koboSpan" id="kobo.810.2">
     To check
    </span>
    <a id="_idIndexMarker108">
    </a>
    <span class="koboSpan" id="kobo.811.1">
     whether an account was created, we can check the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.812.1">
      AWS CloudTrail log
     </span>
    </strong>
    <span class="koboSpan" id="kobo.813.1">
     for the
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.814.1">
       CreateAccountResult
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.815.1">
      event.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.816.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.817.1">
      create-account
     </span>
    </strong>
    <span class="koboSpan" id="kobo.818.1">
     subcommand
    </span>
    <a id="_idIndexMarker109">
    </a>
    <span class="koboSpan" id="kobo.819.1">
     also accepts
    </span>
    <a id="_idIndexMarker110">
    </a>
    <span class="koboSpan" id="kobo.820.1">
     other parameters, namely
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.821.1">
      role-name
     </span>
    </strong>
    <span class="koboSpan" id="kobo.822.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.823.1">
      iam-user-access-to-billing
     </span>
    </strong>
    <span class="koboSpan" id="kobo.824.1">
     .
    </span>
    <span class="koboSpan" id="kobo.824.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.825.1">
      role-name
     </span>
    </strong>
    <span class="koboSpan" id="kobo.826.1">
     parameter is used to specify the name of an IAM role that will be automatically pre-configured in the new member account.
    </span>
    <span class="koboSpan" id="kobo.826.2">
     This role provides administrator permissions to the member account and trusts the management account.
    </span>
    <span class="koboSpan" id="kobo.826.3">
     This means that users in the management account can assume the role, provided the management account administrator allows this.
    </span>
    <span class="koboSpan" id="kobo.826.4">
     The default value is
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.827.1">
      OrganizationAccountAccessRole
     </span>
    </strong>
    <span class="koboSpan" id="kobo.828.1">
     .
    </span>
    <span class="koboSpan" id="kobo.828.2">
     If we log in to the child account and check the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.829.1">
      OrganizationAccountAccessRole
     </span>
    </strong>
    <span class="koboSpan" id="kobo.830.1">
     role, we will see that it has the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.831.1">
      Administrator Access
     </span>
    </strong>
    <span class="koboSpan" id="kobo.832.1">
     policy attached to it.
    </span>
    <span class="koboSpan" id="kobo.832.2">
     If we check the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.833.1">
      Trust relationships
     </span>
    </strong>
    <span class="koboSpan" id="kobo.834.1">
     section, we will see that our management account has been added as a trusted entity.
    </span>
    <span class="koboSpan" id="kobo.834.2">
     An administrator from the management account can now switch roles to the child account and have administrator access.
    </span>
    <span class="koboSpan" id="kobo.834.3">
     For non-admin users to assume the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.835.1">
      OrganizationAccountAccessRole
     </span>
    </strong>
    <span class="koboSpan" id="kobo.836.1">
     role in the child account and switch roles to log into the child account, the user should be given the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.837.1">
      AssumeRole
     </span>
    </strong>
    <span class="koboSpan" id="kobo.838.1">
     permission for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.839.1">
      the role.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.840.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.841.1">
      iam-user-access-to-billing
     </span>
    </strong>
    <span class="koboSpan" id="kobo.842.1">
     parameter has to be set to
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.843.1">
      ALLOW
     </span>
    </strong>
    <span class="koboSpan" id="kobo.844.1">
     for IAM users to access account billing information.
    </span>
    <span class="koboSpan" id="kobo.844.2">
     If it is set to
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.845.1">
      DENY
     </span>
    </strong>
    <span class="koboSpan" id="kobo.846.1">
     , only the root user can access account billing information.
    </span>
    <span class="koboSpan" id="kobo.846.2">
     The default value is
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.847.1">
      ALLOW
     </span>
    </strong>
    <span class="koboSpan" id="kobo.848.1">
     .
    </span>
    <span class="koboSpan" id="kobo.848.2">
     We also created an OU and moved our account under the OU.
    </span>
    <span class="koboSpan" id="kobo.848.3">
     Within the examples, we used
    </span>
    <a id="_idIndexMarker111">
    </a>
    <span class="koboSpan" id="kobo.849.1">
     the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.850.1">
      list-children
     </span>
    </strong>
    <span class="koboSpan" id="kobo.851.1">
     subcommand
    </span>
    <a id="_idIndexMarker112">
    </a>
    <span class="koboSpan" id="kobo.852.1">
     with the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.853.1">
      ORGANIZATIONAL_UNIT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.854.1">
     child type to list all the OUs under the root.
    </span>
    <span class="koboSpan" id="kobo.854.2">
     We can set
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.855.1">
      child-type
     </span>
    </strong>
    <span class="koboSpan" id="kobo.856.1">
     to
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.857.1">
      ACCOUNT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.858.1">
     to list all the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.859.1">
      accounts instead.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-34">
    <a id="_idTextAnchor034">
    </a>
    <span class="koboSpan" id="kobo.860.1">
     There’s more...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.861.1">
     Let’s quickly go through some important details
    </span>
    <a id="_idIndexMarker113">
    </a>
    <span class="koboSpan" id="kobo.862.1">
     about the AWS
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.863.1">
      Organizations service:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.864.1">
      The AWS Organizations service is supported in all regions; however, the endpoints are located in the US East (N.
     </span>
     <span class="koboSpan" id="kobo.864.2">
      Virginia) for commercial organizations and AWS GovCloud (US-West) for AWS GovCloud (
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.865.1">
       US) organizations.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.866.1">
      The AWS Organizations service is a global service.
     </span>
     <span class="koboSpan" id="kobo.866.2">
      We don’t have to select or specify any region to create
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.867.1">
       organization entities.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.868.1">
      There is no additional cost for using
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.869.1">
       AWS Organizations.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.870.1">
      The number of accounts we can manage within an AWS Organization varies.
     </span>
     <span class="koboSpan" id="kobo.870.2">
      We can ask AWS support to increase
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.871.1">
       this limit.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.872.1">
      An account can only be part of one organization at a time and within an organization, an account can only be part of one OU at
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.873.1">
       a time.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.874.1">
      We can nest the OUs and accounts up to five levels (including
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.875.1">
       the root).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.876.1">
      We can use
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.877.1">
       Service Control Policies
      </span>
     </strong>
     <span class="koboSpan" id="kobo.878.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.879.1">
       SCPs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.880.1">
      ) to restrict AWS service actions
     </span>
     <a id="_idIndexMarker114">
     </a>
     <span class="koboSpan" id="kobo.881.1">
      to root accounts, IAM users, and IAM roles in the accounts of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.882.1">
       our organization.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.883.1">
      SCPs can only deny access; they cannot
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.884.1">
       allow access.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.885.1">
      When both the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.886.1">
       permissions boundary
      </span>
     </strong>
     <span class="koboSpan" id="kobo.887.1">
      (an IAM feature) and SCP
     </span>
     <a id="_idIndexMarker115">
     </a>
     <span class="koboSpan" id="kobo.888.1">
      are present, the action
     </span>
     <a id="_idIndexMarker116">
     </a>
     <span class="koboSpan" id="kobo.889.1">
      is only allowed if the permission boundary, the SCP, and the identity-based policy all allow
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.890.1">
       the action.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.891.1">
      The current list of supported services that can be integrated with AWS Organizations include AWS Account Management, AWS
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.892.1">
       Application Migration Service
      </span>
     </strong>
     <span class="koboSpan" id="kobo.893.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.894.1">
       MGN
      </span>
     </strong>
     <span class="koboSpan" id="kobo.895.1">
      ), AWS Artifact, AWS Audit Manager, AWS Backup, AWS CloudFormation Stacksets, AWS CloudTrail, Amazon CloudWatch Events, AWS Compute Optimizer, AWS Config, AWS Control Tower, Amazon Detective, Amazon DevOps Guru, AWS Directory Service, AWS Firewall Manager, Amazon GuardDuty, AWS Health, AWS IAM, IAM Access Analyzer, Amazon Inspector, AWS License Manager, Amazon Macie, AWS Marketplace, AWS Network Manager, AWS Resource Access Manager, AWS Security Hub, Amazon S3 Storage Lens, Amazon Security Lake, AWS Service Catalog, Service Quotas, AWS IAM Identity Center (the successor to AWS SSO), AWS Systems Manager, tag policies, AWS Trusted Advisor, AWS Well-Architected Tool,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.896.1">
       Amazon VPC IP Address Manager
      </span>
     </strong>
     <span class="koboSpan" id="kobo.897.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.898.1">
       IPAM
      </span>
     </strong>
     <span class="koboSpan" id="kobo.899.1">
      ), and Amazon VPC Reachability Analyzer.
     </span>
     <span class="koboSpan" id="kobo.899.2">
      We can enable integration from the supported service’s dashboard.
     </span>
     <span class="koboSpan" id="kobo.899.3">
      For an updated list
     </span>
     <a id="_idIndexMarker117">
     </a>
     <span class="koboSpan" id="kobo.900.1">
      of services, refer to the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.901.1">
       See also
      </span>
     </em>
     <span class="koboSpan" id="kobo.902.1">
      section of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.903.1">
       this recipe.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.904.1">
     Let’s also go through some of the useful
    </span>
    <a id="_idIndexMarker118">
    </a>
    <span class="koboSpan" id="kobo.905.1">
     AWS CLI subcommands for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.906.1">
      AWS Organizations:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.907.1">
       create-gov-cloud-account
      </span>
     </strong>
     <span class="koboSpan" id="kobo.908.1">
      can be used to create accounts in the AWS GovCloud (US) region if we are authorized to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.909.1">
       do so.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.910.1">
       invite-account-to-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.911.1">
      sends an invitation to another account to join
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.912.1">
       our organization.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.913.1">
       remove-account-from-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.914.1">
      removes an account from
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.915.1">
       the organization.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.916.1">
       create-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.917.1">
      creates an AWS Organization, while
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.918.1">
       delete-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.919.1">
      deletes an
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.920.1">
       AWS Organization.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.921.1">
       leave-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.922.1">
      removes an account from its
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.923.1">
       parent organization.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.924.1">
       create-organizational-unit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.925.1">
      creates an OU, while
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.926.1">
       delete-organizational-unit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.927.1">
      deletes an OU.
     </span>
     <span class="koboSpan" id="kobo.927.2">
      To delete an OU, we must remove all accounts and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.928.1">
       child OUs.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.929.1">
       update-organizational-unit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.930.1">
      renames
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.931.1">
       an OU.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.932.1">
       describe-account
      </span>
     </strong>
     <span class="koboSpan" id="kobo.933.1">
      retrieves information about that account and should be called from the master account.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.934.1">
       describe-organization
      </span>
     </strong>
     <span class="koboSpan" id="kobo.935.1">
      retrieves information about the organization.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.936.1">
       describe-organizational-unit
      </span>
     </strong>
     <span class="koboSpan" id="kobo.937.1">
      retrieves information about
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.938.1">
       an OU.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.939.1">
       list-accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.940.1">
      lists all the accounts in the organization.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.941.1">
       list-accounts-for-parent
      </span>
     </strong>
     <span class="koboSpan" id="kobo.942.1">
      lists the child accounts of the given target root or OU.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.943.1">
       list-create-account-status
      </span>
     </strong>
     <span class="koboSpan" id="kobo.944.1">
      lists the account creation requests that match the given status.
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.945.1">
       list-roots
      </span>
     </strong>
     <span class="koboSpan" id="kobo.946.1">
      lists the roots that are defined in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.947.1">
       current organization.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.948.1">
       tag-resource
      </span>
     </strong>
     <span class="koboSpan" id="kobo.949.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.950.1">
       untag-resource
      </span>
     </strong>
     <span class="koboSpan" id="kobo.951.1">
      can be used for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.952.1">
       managing
      </span>
     </span>
     <span class="No-Break">
      <a id="_idIndexMarker119">
      </a>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.953.1">
       tags.
      </span>
     </span>
    </li>
   </ul>
   <h3>
    <span class="koboSpan" id="kobo.954.1">
     Different ways to interact with AWS
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.955.1">
     We can interact with AWS
    </span>
    <a id="_idIndexMarker120">
    </a>
    <span class="koboSpan" id="kobo.956.1">
     in a variety
    </span>
    <a id="_idIndexMarker121">
    </a>
    <span class="koboSpan" id="kobo.957.1">
     of ways, including, the AWS Management Console, AWS CLI, AWS
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.958.1">
      Software Development Kits
     </span>
    </strong>
    <span class="koboSpan" id="kobo.959.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.960.1">
      SDKs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.961.1">
     ), AWS CloudFormation, external tools such as Terraform by HashiCorp, direct AWS API calls, AWS Tools
    </span>
    <a id="_idIndexMarker122">
    </a>
    <span class="koboSpan" id="kobo.962.1">
     for PowerShell, AWS
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.963.1">
      Cloud Development Kit
     </span>
    </strong>
    <span class="koboSpan" id="kobo.964.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.965.1">
      CDK
     </span>
    </strong>
    <span class="koboSpan" id="kobo.966.1">
     ), and the AWS
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.967.1">
      Serverless Application Model
     </span>
    </strong>
    <span class="koboSpan" id="kobo.968.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.969.1">
      SAM
     </span>
    </strong>
    <span class="koboSpan" id="kobo.970.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.970.2">
     Each of these methods
    </span>
    <a id="_idIndexMarker123">
    </a>
    <span class="koboSpan" id="kobo.971.1">
     offers unique advantages depending on the specific task and the level of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.972.1">
      automation required.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.973.1">
     For the scope of the recipes within this book, we will predominantly focus on the AWS Management Console and the CLI.
    </span>
    <span class="koboSpan" id="kobo.973.2">
     The Management Console is typically utilized for one-time configurations and activities, providing an intuitive and visual means to manage AWS resources.
    </span>
    <span class="koboSpan" id="kobo.973.3">
     On the other hand, the CLI is particularly suited for repetitive tasks, enabling automation and scriptability.
    </span>
    <span class="koboSpan" id="kobo.973.4">
     Gaining proficiency in the CLI not only streamlines our AWS operations and lays a solid foundation but also aids in grasping the nuances of other interaction methods, such as AWS SDKs, CloudFormation, Terraform,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.974.1">
      and more.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-35">
    <a id="_idTextAnchor035">
    </a>
    <span class="koboSpan" id="kobo.975.1">
     See also
    </span>
   </h2>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.976.1">
      We can learn more about AWS Organizations
     </span>
     <a id="_idIndexMarker124">
     </a>
     <span class="koboSpan" id="kobo.977.1">
      including best practices and quotas
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.978.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-organizations">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.979.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-organizations
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.980.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.981.1">
      To learn about all the commands that we can use to work with the AWS CLI, refer to the
     </span>
     <a id="_idIndexMarker125">
     </a>
     <span class="koboSpan" id="kobo.982.1">
      AWS CLI documentation for organizations
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.983.1">
       at
      </span>
     </span>
     <a href="https://docs.aws.amazon.com/cli/latest/reference/organizations/index.htm">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.984.1">
        https://docs.aws.amazon.com/cli/latest/reference/organizations/index.htm
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.985.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.986.1">
      The services that can be integrated
     </span>
     <a id="_idIndexMarker126">
     </a>
     <span class="koboSpan" id="kobo.987.1">
      with AWS Organizations can be found
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.988.1">
       at
      </span>
     </span>
     <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_integrate_services_list.html">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.989.1">
        https://docs.aws.amazon.com/organizations/latest/userguide/orgs_integrate_services_list.html
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.990.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.991.1">
      We use AWS CLI within this book.
     </span>
     <span class="koboSpan" id="kobo.991.2">
      However, if you would
     </span>
     <a id="_idIndexMarker127">
     </a>
     <span class="koboSpan" id="kobo.992.1">
      like to learn more about CloudShell, you can do this
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.993.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-cloudshell">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.994.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-cloudshell
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.995.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.996.1">
      We can learn about
     </span>
     <a id="_idIndexMarker128">
     </a>
     <span class="koboSpan" id="kobo.997.1">
      using AWS Control Tower, instead of using AWS Organizations directly,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.998.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-control-tower">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.999.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-control-tower
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1000.1">
       .
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-36">
    <a id="_idTextAnchor036">
    </a>
    <span class="koboSpan" id="kobo.1001.1">
     User management and SSO with IAM Identity Center
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.1002.1">
     In this recipe, we will first
    </span>
    <a id="_idIndexMarker129">
    </a>
    <span class="koboSpan" id="kobo.1003.1">
     enable the
    </span>
    <a id="_idIndexMarker130">
    </a>
    <span class="koboSpan" id="kobo.1004.1">
     IAM Identity Center service (previously AWS SSO) and learn
    </span>
    <a id="_idIndexMarker131">
    </a>
    <span class="koboSpan" id="kobo.1005.1">
     to create users and groups
    </span>
    <a id="_idIndexMarker132">
    </a>
    <span class="koboSpan" id="kobo.1006.1">
     within IAM Identity Center.
    </span>
    <span class="koboSpan" id="kobo.1006.2">
     We will then create a permission set and assign a group to an AWS account along with that permission set.
    </span>
    <span class="koboSpan" id="kobo.1006.3">
     Finally, we will see how to log in to the AWS Management Console and AWS CLI from the AWS access portal
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1007.1">
      using SSO.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1008.1">
     SSO is a user authentication process
    </span>
    <a id="_idIndexMarker133">
    </a>
    <span class="koboSpan" id="kobo.1009.1">
     that allows a user to access multiple applications or systems with one set of login credentials.
    </span>
    <span class="koboSpan" id="kobo.1009.2">
     This means that after logging in once, the user can access other AWS accounts and apps without needing to log in again for each system.
    </span>
    <span class="koboSpan" id="kobo.1009.3">
     This simplifies the user experience and enhances security by reducing the number of passwords a user must remember
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1010.1">
      and maintain.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-37">
    <a id="_idTextAnchor037">
    </a>
    <span class="koboSpan" id="kobo.1011.1">
     Getting ready
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1012.1">
     We need an AWS account with AWS organizations enabled.
    </span>
    <span class="koboSpan" id="kobo.1012.2">
     To set up AWS Organizations, we can follow the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1013.1">
      Multi-account management with AWS Organizations
     </span>
    </em>
    <span class="koboSpan" id="kobo.1014.1">
     recipe from
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1015.1">
      this chapter.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1016.1">
     For working with CLI and IAM Identity Center, w
    </span>
    <a id="_idTextAnchor038">
    </a>
    <span class="koboSpan" id="kobo.1017.1">
     e need to install and configure AWS CLI V2 as discussed in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1018.1">
      Technical requirements
     </span>
    </em>
    <span class="koboSpan" id="kobo.1019.1">
     section in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1020.1">
      this chapter.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-38">
    <a id="_idTextAnchor039">
    </a>
    <span class="koboSpan" id="kobo.1021.1">
     How to do it...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1022.1">
     First, we will enable the IAM Identity Center.
    </span>
    <span class="koboSpan" id="kobo.1022.2">
     Then, we will create a group and a user and add that user to that group.
    </span>
    <span class="koboSpan" id="kobo.1022.3">
     After that, we will create a permission set and assign access for the group to an AWS account making use of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1023.1">
      permission set.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1024.1">
     Enabling the IAM Identity Center and creating users and groups
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1025.1">
     To enable IAM Identity Center
    </span>
    <a id="_idIndexMarker134">
    </a>
    <span class="koboSpan" id="kobo.1026.1">
     and create
    </span>
    <a id="_idIndexMarker135">
    </a>
    <span class="koboSpan" id="kobo.1027.1">
     a group and user, we can
    </span>
    <a id="_idIndexMarker136">
    </a>
    <span class="koboSpan" id="kobo.1028.1">
     proceed with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1029.1">
      following steps:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1030.1">
      Log in to AWS Management Console and go to
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1031.1">
       IAM
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1032.1">
        Identity Center
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1033.1">
       .
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1034.1">
       If we have not enabled IAM Identity Center, we should see a screen like
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1035.1">
        the following:
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer025">
     <span class="koboSpan" id="kobo.1036.1">
      <img alt="Figure 1.21 – The IAM Identity Center dashboard" src="image/B21384_01_21.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1037.1">
     Figure 1.21 – The IAM Identity Center dashboard
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.1038.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1039.1">
       Enable
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1040.1">
      from the IAM Identity Center Dashboard as shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1041.1">
        Figure 1
       </span>
      </em>
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1042.1">
        .21
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1043.1">
       .
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1044.1">
       We should now be taken
      </span>
      <a id="_idIndexMarker137">
      </a>
      <span class="koboSpan" id="kobo.1045.1">
       to the
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1046.1">
        IAM Identity
       </span>
      </strong>
      <span class="No-Break">
       <strong class="bold">
        <span class="koboSpan" id="kobo.1047.1">
         Center
        </span>
       </strong>
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1048.1">
        dashboard.
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer026">
     <span class="koboSpan" id="kobo.1049.1">
      <img alt="Figure 1.22 – The recommended setup steps for IAM Identity Center" src="image/B21384_01_22.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1050.1">
     Figure 1.22 – The recommended setup steps for IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.1051.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1052.1">
       Choose your identity source
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1053.1">
      under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1054.1">
       Step 1
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1055.1">
      as shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1056.1">
        Figure 1
       </span>
      </em>
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1057.1">
        .22
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1058.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1059.1">
      Leave the value
     </span>
     <a id="_idIndexMarker138">
     </a>
     <span class="koboSpan" id="kobo.1060.1">
      for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1061.1">
       Identity Source
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1062.1">
      as
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1063.1">
       Identity
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1064.1">
        Center directory
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1065.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1066.1">
      For
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1067.1">
       Attributes for access control
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1068.1">
      ,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1069.1">
       click
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1070.1">
        Enable
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1071.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1072.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1073.1">
       Groups
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1074.1">
      from
     </span>
     <a id="_idIndexMarker139">
     </a>
     <span class="koboSpan" id="kobo.1075.1">
      the left
     </span>
     <a id="_idIndexMarker140">
     </a>
     <span class="koboSpan" id="kobo.1076.1">
      sidebar and click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1077.1">
       Create group
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1078.1">
      as shown in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1079.1">
       following figure:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer027">
     <span class="koboSpan" id="kobo.1080.1">
      <img alt="Figure 1.23 – The IAM Identity Center sidebar and Groups page" src="image/B21384_01_23.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1081.1">
     Figure 1.23 – The IAM Identity Center sidebar and Groups page
    </span>
   </p>
   <ol>
    <li value="7">
     <span class="koboSpan" id="kobo.1082.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1083.1">
       Create group
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1084.1">
      page, within the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1085.1">
       Group details
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1086.1">
      section, enter
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1087.1">
       awsseccbadmins
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1088.1">
      as the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1089.1">
       Group name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1090.1">
      and set
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1091.1">
       AWS Sec Cookbook Admins group
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1092.1">
       under
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1093.1">
        Description
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1094.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1095.1">
      Scroll down, leave the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1096.1">
       Add users to group
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1097.1">
      section as-is without adding any users for now, and click on
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1098.1">
        Create group
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1099.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1100.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1101.1">
       Users
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1102.1">
      from the left sidebar of IAM Identity Center dashboard and click on
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1103.1">
        Add user
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1104.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1105.1">
      In the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1106.1">
       Primary information
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1107.1">
      section, specify
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1108.1">
       awsseccbadmin1
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1109.1">
      under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1110.1">
       Username
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1111.1">
      and under
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1112.1">
       Password
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1113.1">
      , select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1114.1">
       Send an email to this user with the password setup instructions
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1115.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1115.2">
      We can also generate
     </span>
     <a id="_idIndexMarker141">
     </a>
     <span class="koboSpan" id="kobo.1116.1">
      a one-time password
     </span>
     <a id="_idIndexMarker142">
     </a>
     <span class="koboSpan" id="kobo.1117.1">
      and share that with the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1118.1">
       user instead.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer028">
     <span class="koboSpan" id="kobo.1119.1">
      <img alt="Figure 1.24 – The Specify user details page in IAM Identity Center" src="image/B21384_01_24.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1120.1">
     Figure 1.24 – The Specify user details page in IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="11">
     <span class="koboSpan" id="kobo.1121.1">
      Fill in the other fields within the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1122.1">
       Primary Information
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1123.1">
      section, namely
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1124.1">
       Email address
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1125.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1126.1">
       Confirm email address
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1127.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1128.1">
       First name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1129.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1130.1">
       Last name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1131.1">
      , and
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1132.1">
        Display name
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1133.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1134.1">
      Leave the other sections, namely
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1135.1">
       Contact methods
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1136.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1137.1">
       Job-related information
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1138.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1139.1">
       Address
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1140.1">
      ,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1141.1">
       Preferences
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1142.1">
      , and
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1143.1">
       Additional attributes
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1144.1">
      as-is.
     </span>
     <span class="koboSpan" id="kobo.1144.2">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1145.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1146.1">
      on the bottom-right side of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1147.1">
       the page.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1148.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1149.1">
       Add user to group
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1150.1">
      page, select the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1151.1">
       awsseccbadmins
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1152.1">
      group that we created earlier in this recipe and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1153.1">
       click
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1154.1">
        Next
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1155.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1156.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1157.1">
       Review and add user
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1158.1">
      page, review the details and click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1159.1">
       Add user
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1160.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1160.2">
      We should now see that the new user is added to the
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1161.1">
        Users
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1162.1">
       page.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1163.1">
      The newly added user
     </span>
     <a id="_idIndexMarker143">
     </a>
     <span class="koboSpan" id="kobo.1164.1">
      needs to check the email and follow
     </span>
     <a id="_idIndexMarker144">
     </a>
     <span class="koboSpan" id="kobo.1165.1">
      the instructions to accept the invitation and complete the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1166.1">
       password setup.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer029">
     <span class="koboSpan" id="kobo.1167.1">
      <img alt="Figure 1.25 – The invitation email for the new user in IAM Identity Center" src="image/B21384_01_25.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1168.1">
     Figure 1.25 – The invitation email for the new user in IAM Identity Center
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.1169.1">
     After completing
    </span>
    <a id="_idIndexMarker145">
    </a>
    <span class="koboSpan" id="kobo.1170.1">
     the instructions, we should be logged
    </span>
    <a id="_idIndexMarker146">
    </a>
    <span class="koboSpan" id="kobo.1171.1">
     in to the AWS access portal, where we can see the applications allocated to us.
    </span>
    <span class="koboSpan" id="kobo.1171.2">
     Currently, since we have not allocated any applications, we should see a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1172.1">
      You do not have any
     </span>
    </strong>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.1173.1">
       applications
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1174.1">
      message.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1175.1">
     Next, we will create a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1176.1">
      permission set.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1177.1">
     Creating a permission set with an AWS managed policy
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1178.1">
     Follow the instructions
    </span>
    <a id="_idIndexMarker147">
    </a>
    <span class="koboSpan" id="kobo.1179.1">
     to create a permission set that
    </span>
    <a id="_idIndexMarker148">
    </a>
    <span class="koboSpan" id="kobo.1180.1">
     we can use while assigning access to AWS accounts in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1181.1">
      next section:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1182.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1183.1">
       Permission sets
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1184.1">
      from the left sidebar as shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1185.1">
        Figure 1
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1186.1">
       .23
      </span>
     </em>
     <span class="koboSpan" id="kobo.1187.1">
      , and on the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1188.1">
       Permission sets
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1189.1">
      page, click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1190.1">
       Create
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1191.1">
        permission set
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1192.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1193.1">
      Select
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1194.1">
       Predefined permission set
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1195.1">
      as the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1196.1">
       Permission set type
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1197.1">
      , and for
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1198.1">
       Select an AWS managed policy
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1199.1">
      ,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1200.1">
       select
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1201.1">
        AdministratorAccess
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1202.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer030">
     <span class="koboSpan" id="kobo.1203.1">
      <img alt="Figure 1.26 – Permission set type selection in IAM Identity Center" src="image/B21384_01_26.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1204.1">
     Figure 1.26 – Permission set type selection in IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.1205.1">
      Scroll down and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1206.1">
       click
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1207.1">
        Next
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1208.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1209.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1210.1">
       Specify permission set details
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1211.1">
      page, keep
     </span>
     <a id="_idIndexMarker149">
     </a>
     <span class="koboSpan" id="kobo.1212.1">
      the value
     </span>
     <a id="_idIndexMarker150">
     </a>
     <span class="koboSpan" id="kobo.1213.1">
      of
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1214.1">
       Permission set name
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1215.1">
      as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1216.1">
       AdministratorAccess
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1217.1">
      and
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1218.1">
       Session duration
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1219.1">
      as
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1220.1">
       1 hour
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1221.1">
      , add a meaningful description, leave values for other fields empty, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1222.1">
       click
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1223.1">
        Next
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1224.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1225.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1226.1">
       Review and create
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1227.1">
      page, review everything and click
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1228.1">
       on
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1229.1">
        Create
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1230.1">
       .
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1231.1">
       The new permission set should now appear on the
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1232.1">
        Permission
       </span>
      </strong>
      <span class="No-Break">
       <strong class="bold">
        <span class="koboSpan" id="kobo.1233.1">
         sets
        </span>
       </strong>
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1234.1">
        page.
       </span>
      </span>
     </p>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1235.1">
     Next, we will assign the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1236.1">
      awsseccbadmins
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1237.1">
     group to an
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1238.1">
      AWS account.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1239.1">
     Providing access to AWS accounts
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1240.1">
     We can provide access
    </span>
    <a id="_idIndexMarker151">
    </a>
    <span class="koboSpan" id="kobo.1241.1">
     for a group
    </span>
    <a id="_idIndexMarker152">
    </a>
    <span class="koboSpan" id="kobo.1242.1">
     to one or more AWS accounts
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1243.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1244.1">
      Click on the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1245.1">
       AWS Accounts
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1246.1">
      option from the left sidebar as shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1247.1">
        Figure 1
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1248.1">
       .23
      </span>
     </em>
     <span class="koboSpan" id="kobo.1249.1">
      to go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1250.1">
       AWS
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1251.1">
        accounts
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1252.1">
       page.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1253.1">
      Select all the AWS accounts we want to give access to and click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1254.1">
       Assign users or groups
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1255.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1255.2">
      I have selected the
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1256.1">
        aws-sec-cookbook-1
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1257.1">
       account.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer031">
     <span class="koboSpan" id="kobo.1258.1">
      <img alt="Figure 1.27 – The AWS accounts page in IAM Identity Center" src="image/B21384_01_27.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1259.1">
     Figure 1.27 – The AWS accounts page in IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.1260.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1261.1">
       Select users and groups
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1262.1">
      page, in the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1263.1">
       Groups
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1264.1">
      tab, select the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1265.1">
       awsseccbadmins
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1266.1">
      group that we created earlier in this recipe and click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1267.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1268.1">
      to go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1269.1">
       Assign permission
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1270.1">
        sets
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1271.1">
       page.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1272.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1273.1">
       Assign permission sets
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1274.1">
      page, select
     </span>
     <a id="_idIndexMarker153">
     </a>
     <span class="koboSpan" id="kobo.1275.1">
      the permission set
     </span>
     <a id="_idIndexMarker154">
     </a>
     <span class="koboSpan" id="kobo.1276.1">
      for our group to the selected AWS account.
     </span>
     <span class="koboSpan" id="kobo.1276.2">
      Click
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1277.1">
       Next
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1278.1">
      to go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1279.1">
       Review and submit
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1280.1">
        assignments
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1281.1">
       page.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer032">
     <span class="koboSpan" id="kobo.1282.1">
      <img alt="Figure 1.28 – Permission set selection in IAM Identity Center" src="image/B21384_01_28.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1283.1">
     Figure 1.28 – Permission set selection in IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="5">
     <span class="koboSpan" id="kobo.1284.1">
      On the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1285.1">
       Review and submit assignments
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1286.1">
      page, review everything and click
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1287.1">
       on
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1288.1">
        Submit
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1289.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1290.1">
      Log in to the AWS access
     </span>
     <a id="_idIndexMarker155">
     </a>
     <span class="koboSpan" id="kobo.1291.1">
      portal using the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1292.1">
       AWS access portal URL
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1293.1">
      of AWS Identity Center.
     </span>
     <span class="koboSpan" id="kobo.1293.2">
      We can get the URL from our Identity Center dashboard.
     </span>
     <span class="koboSpan" id="kobo.1293.3">
      It is also present in the invitation email sent to the user’s email address when the user
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1294.1">
       was created.
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1295.1">
       You need to click on
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1296.1">
        AWS Account (1)
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1297.1">
       to see the newly assigned
      </span>
      <a id="_idIndexMarker156">
      </a>
      <span class="koboSpan" id="kobo.1298.1">
       AWS account and then click
      </span>
      <a id="_idIndexMarker157">
      </a>
      <span class="koboSpan" id="kobo.1299.1">
       on the account to get the options to log in to
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1300.1">
        Management Console
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1301.1">
       or
      </span>
      <strong class="bold">
       <span class="koboSpan" id="kobo.1302.1">
        Command line or programmatic access
       </span>
      </strong>
      <span class="koboSpan" id="kobo.1303.1">
       , making use of
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1304.1">
        short-term credentials.
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer033">
     <span class="koboSpan" id="kobo.1305.1">
      <img alt="Figure 1.29 – The AWS access portal" src="image/B21384_01_29.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1306.1">
     Figure 1.29 – The AWS access portal
    </span>
   </p>
   <ol>
    <li value="7">
     <span class="koboSpan" id="kobo.1307.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1308.1">
       Management console
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1309.1">
      to log in to the AWS account assigned to us.
     </span>
     <span class="koboSpan" id="kobo.1309.2">
      Click on the drop-down menu next to our username to verify the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1310.1">
       account details.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1311.1">
     We can follow the same steps to give access to one or more AWS accounts for users (instead of groups).
    </span>
    <span class="koboSpan" id="kobo.1311.2">
     However, it is a good practice to assign permissions to groups and add or remove users to those groups
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1312.1">
      as needed.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1313.1">
     Configuring SSO for AWS CLI with IAM Identity Center
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1314.1">
     In the previous section, we saw how to log in to the
    </span>
    <a id="_idIndexMarker158">
    </a>
    <span class="koboSpan" id="kobo.1315.1">
     AWS Management Console
    </span>
    <a id="_idIndexMarker159">
    </a>
    <span class="koboSpan" id="kobo.1316.1">
     using IAM Identity Center from the AWS access portal.
    </span>
    <span class="koboSpan" id="kobo.1316.2">
     In this section, we will learn how to configure AWS CLI V2 with IAM
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1317.1">
      Identity Center:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1318.1">
      Log in to the AWS access portal as an IAM Identity Center user.
     </span>
     <span class="koboSpan" id="kobo.1318.2">
      We should see a screen like
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1319.1">
        Figure 1
       </span>
      </em>
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1320.1">
        .29
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1321.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1322.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1323.1">
       Command line or programmatic access
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1324.1">
      from the AWS access portal instead of the Management Console as we did in
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1325.1">
       Step 7
      </span>
     </em>
     <span class="koboSpan" id="kobo.1326.1">
      of the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1327.1">
       Providing access to AWS
      </span>
     </em>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1328.1">
        accounts
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1329.1">
       sub-section.
      </span>
     </span>
     <p class="list-inset">
      <span class="koboSpan" id="kobo.1330.1">
       We should see a popup that lists different options along with the required steps to work with
      </span>
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1331.1">
        a CLI.
       </span>
      </span>
     </p>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer034">
     <span class="koboSpan" id="kobo.1332.1">
      <img alt="Figure 1.30 – The steps to work with AWS CLI when using IAM Identity Center" src="image/B21384_01_30.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1333.1">
     Figure 1.30 – The steps to work with AWS CLI when using IAM Identity Center
    </span>
   </p>
   <ol>
    <li value="3">
     <span class="koboSpan" id="kobo.1334.1">
      Assuming that we have already
     </span>
     <a id="_idIndexMarker160">
     </a>
     <span class="koboSpan" id="kobo.1335.1">
      installed AWS CLI V2, open the command
     </span>
     <a id="_idIndexMarker161">
     </a>
     <span class="koboSpan" id="kobo.1336.1">
      prompt (or terminal), run the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1337.1">
       aws configure sso
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1338.1">
      command, and follow the instructions shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1339.1">
        Figure 1
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1340.1">
       .30
      </span>
     </em>
     <span class="koboSpan" id="kobo.1341.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1341.2">
      Provide
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1342.1">
       SSO start URL
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1343.1">
      and
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1344.1">
       SSO region
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1345.1">
      , and optionally a name for the SSO session, as shown in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1346.1">
       following figure:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer035">
     <span class="koboSpan" id="kobo.1347.1">
      <img alt="Figure 1.31 – Configuring SSO with AWS CLI V2" src="image/B21384_01_31.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1348.1">
     Figure 1.31 – Configuring SSO with AWS CLI V2
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.1349.1">
     Once we have provided values for
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1350.1">
      SSO session name
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1351.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1352.1">
      SSO start URL
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1353.1">
     ,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1354.1">
      SSO region
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1355.1">
     , and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1356.1">
      SSO registration scopes
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1357.1">
     , a browser will open for authorization.
    </span>
    <span class="koboSpan" id="kobo.1357.2">
     Please note that I have provided the customized
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1358.1">
      SSO start URL
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1359.1">
     instead of the default one as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1360.1">
       Figure 1
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1361.1">
      .30
     </span>
    </em>
    <span class="koboSpan" id="kobo.1362.1">
     ; both will work.
    </span>
    <span class="koboSpan" id="kobo.1362.2">
     The command prompt will resume once the authorization
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1363.1">
      is complete.
     </span>
    </span>
   </p>
   <ol>
    <li value="4">
     <span class="koboSpan" id="kobo.1364.1">
      Verify by running the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1365.1">
       aws s3 ls
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1366.1">
      command along with the profile name, as shown in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1367.1">
        Figure 1
       </span>
      </em>
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1368.1">
        .31
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1369.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1370.1">
     We only need to configure SSO
    </span>
    <a id="_idIndexMarker162">
    </a>
    <span class="koboSpan" id="kobo.1371.1">
     once for a combination of AWS accounts
    </span>
    <a id="_idIndexMarker163">
    </a>
    <span class="koboSpan" id="kobo.1372.1">
     and roles as explained in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1373.1">
      How it works…
     </span>
    </em>
    <span class="koboSpan" id="kobo.1374.1">
     section that follows.
    </span>
    <span class="koboSpan" id="kobo.1374.2">
     Once configured, we can make use of that profile to log in and log out using the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1375.1">
      aws sso login
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1376.1">
     and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1377.1">
      aws sso logout
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1378.1">
     commands respectively, as we will
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1379.1">
      see next.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1380.1">
     Logging in and out for SSO with IAM Identity Center in AWS CLI
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1381.1">
     We can log in to and out
    </span>
    <a id="_idIndexMarker164">
    </a>
    <span class="koboSpan" id="kobo.1382.1">
     of the AWS account
    </span>
    <a id="_idIndexMarker165">
    </a>
    <span class="koboSpan" id="kobo.1383.1">
     using a configured AWS CLI V2 profile
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1384.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1385.1">
      Log in using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1386.1">
       aws sso login
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1387.1">
      command, providing the CLI profile name we already configured (as we saw in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1388.1">
        Figure 1
       </span>
      </em>
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1389.1">
       .31
      </span>
     </em>
     <span class="koboSpan" id="kobo.1390.1">
      ).
     </span>
     <span class="koboSpan" id="kobo.1390.2">
      Execute the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1391.1">
       aws s3 ls
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1392.1">
      command, providing the same profile name,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1393.1">
       as follows:
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer036">
     <span class="koboSpan" id="kobo.1394.1">
      <img alt="Figure 1.32 – Logging into an AWS account from CLI using SSO" src="image/B21384_01_32.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1395.1">
     Figure 1.32 – Logging into an AWS account from CLI using SSO
    </span>
   </p>
   <p class="list-inset">
    <span class="koboSpan" id="kobo.1396.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1397.1">
      aws sso login
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1398.1">
     command will open
    </span>
    <a id="_idIndexMarker166">
    </a>
    <span class="koboSpan" id="kobo.1399.1">
     a browser for authorization
    </span>
    <a id="_idIndexMarker167">
    </a>
    <span class="koboSpan" id="kobo.1400.1">
     similar to the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1401.1">
      aws configure sso
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1402.1">
     command.
    </span>
    <span class="koboSpan" id="kobo.1402.2">
     The command prompt will resume once the authorization
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1403.1">
      is complete.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1404.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1405.1">
     If we have multiple profiles or if we are not using the default profile, we will need to specify the profile when executing AWS CLI commands even after the SSO login.
    </span>
    <span class="koboSpan" id="kobo.1405.2">
     Also, if we try to use a profile for which we don’t have access, we will get an error that says that an error occurred (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1406.1">
      ForbiddenException
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1407.1">
     ) when calling the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1408.1">
      GetRoleCredentials
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1409.1">
     operation:
    </span>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1410.1">
       No access
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1411.1">
      .
     </span>
    </span>
   </p>
   <ol>
    <li value="2">
     <span class="koboSpan" id="kobo.1412.1">
      Log out using the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1413.1">
       aws sso logout
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1414.1">
      command and execute the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1415.1">
       aws s3 ls
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1416.1">
      command, providing the same profile name
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1417.1">
       as before.
      </span>
     </span>
    </li>
   </ol>
   <div>
    <div class="IMG---Figure" id="_idContainer037">
     <span class="koboSpan" id="kobo.1418.1">
      <img alt="Figure 1.33 – Logging out from the AWS account from CLI using SSO" src="image/B21384_01_33.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1419.1">
     Figure 1.33 – Logging out from the AWS account from CLI using SSO
    </span>
   </p>
   <h2 id="_idParaDest-39">
    <a id="_idTextAnchor040">
    </a>
    <span class="koboSpan" id="kobo.1420.1">
     How it works...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1421.1">
     AWS IAM Identity Center
    </span>
    <a id="_idIndexMarker168">
    </a>
    <span class="koboSpan" id="kobo.1422.1">
     is the successor to AWS SSO
    </span>
    <a id="_idIndexMarker169">
    </a>
    <span class="koboSpan" id="kobo.1423.1">
     and helps us securely manage access
    </span>
    <a id="_idIndexMarker170">
    </a>
    <span class="koboSpan" id="kobo.1424.1">
     centrally across multiple AWS accounts
    </span>
    <a id="_idIndexMarker171">
    </a>
    <span class="koboSpan" id="kobo.1425.1">
     and applications.
    </span>
    <span class="koboSpan" id="kobo.1425.2">
     The IAM Identity Center is the suggested method for handling authentication and authorization on AWS.
    </span>
    <span class="koboSpan" id="kobo.1425.3">
     It is suitable for organizations big
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1426.1">
      and small.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1427.1">
     From the AWS IAM Identity Center dashboard, we can configure access to AWS accounts within an AWS Organization, numerous cloud applications such as Microsoft 365, salesforce, and so on, EC2 Windows
    </span>
    <a id="_idIndexMarker172">
    </a>
    <span class="koboSpan" id="kobo.1428.1">
     instances, and even other
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1429.1">
      SAML 2.0-enabled applications
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1430.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1430.2">
     Once configured, we only need to log in to the AWS access portal and then we can log in to all the configured AWS accounts and applications through SSO without providing any other
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1431.1">
      additional credentials.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1432.1">
     An
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1433.1">
      Identity Provider
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1434.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1435.1">
      IdP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1436.1">
     ) is a service that stores
    </span>
    <a id="_idIndexMarker173">
    </a>
    <span class="koboSpan" id="kobo.1437.1">
     and verifies user identity.
    </span>
    <span class="koboSpan" id="kobo.1437.2">
     We can make use of an IdP to log in to multiple applications without providing additional credentials using SSO.
    </span>
    <span class="koboSpan" id="kobo.1437.3">
     We used the built-in IdP of the IAM Identity Center within our recipe.
    </span>
    <span class="koboSpan" id="kobo.1437.4">
     However, instead of the built-in IdP, we can also use one of the many supported IdPs such as Microsoft Entra ID (previously Active Directory or Azure AD), Okta, Ping Identity, Jump Cloud, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1438.1">
      Google Workspace.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1439.1">
     Within this recipe, while enabling
    </span>
    <a id="_idIndexMarker174">
    </a>
    <span class="koboSpan" id="kobo.1440.1">
     IAM Identity Center, we also enabled
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1441.1">
      attributes for access control
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1442.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1442.2">
     We can assign users to workloads in AWS based on existing attributes in the user’s identity source to control access
    </span>
    <a id="_idIndexMarker175">
    </a>
    <span class="koboSpan" id="kobo.1443.1">
     to resources, and thus implement
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1444.1">
      Attribute-Based Access Control
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1445.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1446.1">
      ABAC
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1447.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.1447.2">
     ABAC is a method of regulating access based on attributes (characteristics or properties) associated with users, resources, or the environment.
    </span>
    <span class="koboSpan" id="kobo.1447.3">
     Unlike
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1448.1">
      Role-Based Access Control
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1449.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1450.1">
      RBAC
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1451.1">
     ), which grants access based on the roles
    </span>
    <a id="_idIndexMarker176">
    </a>
    <span class="koboSpan" id="kobo.1452.1">
     of users within an organization, ABAC uses a wide range of attributes, such as user location, time of access, and even sensitivity of the accessed resource.
    </span>
    <span class="koboSpan" id="kobo.1452.2">
     This allows for more flexible, context-aware, and policy-driven access control, enabling more granular and dynamic
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1453.1">
      permission management.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1454.1">
     We can assign varying permission
    </span>
    <a id="_idIndexMarker177">
    </a>
    <span class="koboSpan" id="kobo.1455.1">
     levels to users or groups
    </span>
    <a id="_idIndexMarker178">
    </a>
    <span class="koboSpan" id="kobo.1456.1">
     for different AWS accounts
    </span>
    <a id="_idIndexMarker179">
    </a>
    <span class="koboSpan" id="kobo.1457.1">
     and applications using permission
    </span>
    <a id="_idIndexMarker180">
    </a>
    <span class="koboSpan" id="kobo.1458.1">
     sets.
    </span>
    <span class="koboSpan" id="kobo.1458.2">
     For example, we can give developers complete access to developer accounts and read-only access to production accounts.
    </span>
    <span class="koboSpan" id="kobo.1458.3">
     We can select the predefined permission set option as we did in this recipe selecting one of the available AWS-managed policies or we can create a custom permission set.
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1459.1">
     The following screenshot from the IAM Identity Center lists down policies available currently when we select the predefined permission
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1460.1">
      set option.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer038">
     <span class="koboSpan" id="kobo.1461.1">
      <img alt="Figure 1.34 – Policies for the predefined permission set" src="image/B21384_01_34.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1462.1">
     Figure 1.34 – Policies for the predefined permission set
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1463.1">
     With the custom permission set option, we can choose from an AWS-managed policy, a customer-managed policy, and an inline policy, and even optionally set a permissions boundary.
    </span>
    <span class="koboSpan" id="kobo.1463.2">
     We will see a custom permission set in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1464.1">
      Creating customer-managed policies in IAM Identity Center
     </span>
    </em>
    <span class="koboSpan" id="kobo.1465.1">
     recipe in
    </span>
    <a href="B21384_02.xhtml#_idTextAnchor043">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1466.1">
        Chapter 2
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1467.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1468.1">
     In the recipe, our user had
    </span>
    <a id="_idIndexMarker181">
    </a>
    <span class="koboSpan" id="kobo.1469.1">
     one permission set assigned
    </span>
    <a id="_idIndexMarker182">
    </a>
    <span class="koboSpan" id="kobo.1470.1">
     to one AWS account.
    </span>
    <span class="koboSpan" id="kobo.1470.2">
     If we have users
    </span>
    <a id="_idIndexMarker183">
    </a>
    <span class="koboSpan" id="kobo.1471.1">
     with multiple
    </span>
    <a id="_idIndexMarker184">
    </a>
    <span class="koboSpan" id="kobo.1472.1">
     permission sets and access to multiple AWS accounts, we can choose the AWS account and the permission set to log in from the AWS access portal, as shown in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1473.1">
      following figure:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer039">
     <span class="koboSpan" id="kobo.1474.1">
      <img alt="Figure 1.35 – The AWS access portal with multiple AWS accounts and permissions" src="image/B21384_01_35.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1475.1">
     Figure 1.35 – The AWS access portal with multiple AWS accounts and permissions
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1476.1">
     Even when configuring AWS SSO for CLI, we will be given options to select the AWS account and permission set.
    </span>
    <span class="koboSpan" id="kobo.1476.2">
     First, we will be asked to select the AWS account
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1477.1">
      as follows:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer040">
     <span class="koboSpan" id="kobo.1478.1">
      <img alt="Figure 1.36 – AWS CLI account selection" src="image/B21384_01_36.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1479.1">
     Figure 1.36 – AWS CLI account selection
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1480.1">
     After we select the account, we will be given the option to choose the role (which is based on the permission set) if we have multiple
    </span>
    <a id="_idIndexMarker185">
    </a>
    <span class="koboSpan" id="kobo.1481.1">
     roles available
    </span>
    <a id="_idIndexMarker186">
    </a>
    <span class="koboSpan" id="kobo.1482.1">
     to choose
    </span>
    <a id="_idIndexMarker187">
    </a>
    <span class="koboSpan" id="kobo.1483.1">
     from in the selected
    </span>
    <a id="_idIndexMarker188">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1484.1">
      AWS account.
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer041">
     <span class="koboSpan" id="kobo.1485.1">
      <img alt="Figure 1.37 – AWS CLI role selection" src="image/B21384_01_37.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1486.1">
     Figure 1.37 – AWS CLI role selection
    </span>
   </p>
   <h2 id="_idParaDest-40">
    <a id="_idTextAnchor041">
    </a>
    <span class="koboSpan" id="kobo.1487.1">
     There’s more...
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1488.1">
     We can administer IAM Identity Center from only the management account of the Organization or a member account registered as an IAM Identity Center delegated administrator.
    </span>
    <span class="koboSpan" id="kobo.1488.2">
     Otherwise, we will see an error message that looks like
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1489.1">
      the following:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer042">
     <span class="koboSpan" id="kobo.1490.1">
      <img alt="Figure 1.38 – An error message for a member account that is not a delegated administrator" src="image/B21384_01_38.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1491.1">
     Figure 1.38 – An error message for a member account that is not a delegated administrator
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1492.1">
     We can make a member account as a delegated administrator
    </span>
    <a id="_idIndexMarker189">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1493.1">
      as follows:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.1494.1">
      Log in to the AWS Management Console of the management account of our organization and go to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1495.1">
       IAM Identity
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1496.1">
        Center
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1497.1">
       dashboard.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1498.1">
      Click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1499.1">
       Settings
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1500.1">
      from the left sidebar of IAM
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1501.1">
       Identity Center.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1502.1">
      Go to the
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1503.1">
        Management
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1504.1">
       tab.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1505.1">
      Find the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1506.1">
       Delegated administrator
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1507.1">
      section and click on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1508.1">
       Register account
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1509.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1509.2">
      This will show us the organizational structure of our
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1510.1">
       AWS Organization.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1511.1">
      Under the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1512.1">
       Organizational structure
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1513.1">
      section, select the member account we want to make a delegated administrator and click on
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1514.1">
        Register account
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1515.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1516.1">
     We should see a message that the member account was registered successfully as an IAM Identity Center delegated administrator.
    </span>
    <span class="koboSpan" id="kobo.1516.2">
     It might take some time to grant administrative access to the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1517.1">
      member account.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1518.1">
     We can customize the default AWS access portal URL (e.g.,
    </span>
    <a href="https://d-90679fa661.awsapps.com/start/">
     <span class="koboSpan" id="kobo.1519.1">
      https://d-90679fa661.awsapps.com/start/
     </span>
    </a>
    <span class="koboSpan" id="kobo.1520.1">
     ) to one that uses a custom subdomain (e.g.,
    </span>
    <a href="https://awsseccb.awsapps.com/start">
     <span class="koboSpan" id="kobo.1521.1">
      https://awsseccb.awsapps.com/start
     </span>
    </a>
    <span class="koboSpan" id="kobo.1522.1">
     ) to make it more memorable for our users.
    </span>
    <span class="koboSpan" id="kobo.1522.2">
     For customizing the URL, we can click on the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1523.1">
      Customize
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1524.1">
     button from the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1525.1">
      Settings summary
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1526.1">
     section on the right side of the IAM Identity Center dashboard, as shown in
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1527.1">
       Figure 1
      </span>
     </em>
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1528.1">
      .22
     </span>
    </em>
    <span class="koboSpan" id="kobo.1529.1">
     , and configure a custom subdomain.
    </span>
    <span class="koboSpan" id="kobo.1529.2">
     Once it has been customized, we won’t be able to change
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1530.1">
      it again.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-41">
    <a id="_idTextAnchor042">
    </a>
    <span class="koboSpan" id="kobo.1531.1">
     See also
    </span>
   </h2>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1532.1">
      We can explore more about
     </span>
     <a id="_idIndexMarker190">
     </a>
     <span class="koboSpan" id="kobo.1533.1">
      IAM Identity Center
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1534.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/demystifying-aws-iam-identity-center-formerly-aws-sso">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1535.1">
        https://www.cloudericks.com/blog/demystifying-aws-iam-identity-center-formerly-aws-sso
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1536.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1537.1">
      We can learn more about
     </span>
     <a id="_idIndexMarker191">
     </a>
     <span class="koboSpan" id="kobo.1538.1">
      AWS CLI
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1539.1">
       at
      </span>
     </span>
     <a href="https://www.cloudericks.com/blog/getting-started-with-aws-cli">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.1540.1">
        https://www.cloudericks.com/blog/getting-started-with-aws-cli
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1541.1">
       .
      </span>
     </span>
    </li>
   </ul>
  </div>
 </body></html>