<html><head></head><body>
  <div id="_idContainer016">
   <h1 class="chapter-number" id="_idParaDest-17">
    <a id="_idTextAnchor017">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     1
    </span>
   </h1>
   <h1 id="_idParaDest-18">
    <a id="_idTextAnchor018">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Bash Command-Line and Its Hacking Environment
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.3.1">
     In this foundational chapter, you will embark on your journey into the world of Bash shell scripting for
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.4.1">
      penetration testers
     </span>
    </strong>
    <span class="koboSpan" id="kobo.5.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.6.1">
      pentesters
     </span>
    </strong>
    <span class="koboSpan" id="kobo.7.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.7.2">
     You will gain a clear understanding of what Bash is, why it is essential for
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.8.1">
      penetration testing
     </span>
    </strong>
    <span class="koboSpan" id="kobo.9.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.10.1">
      pentesting
     </span>
    </strong>
    <span class="koboSpan" id="kobo.11.1">
     ), and how to set up your scripting environment.
    </span>
    <span class="koboSpan" id="kobo.11.2">
     Through hands-on examples and explanations, you will lay the groundwork for becoming a proficient Bash scripter in the context
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.12.1">
      of cybersecurity.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.13.1">
     Bash is more than just a command interpreter – it’s a tool for automating the complex and tedious tasks that we encounter daily in cybersecurity.
    </span>
    <span class="koboSpan" id="kobo.13.2">
     In the hands of the untrained, Bash is a club.
    </span>
    <span class="koboSpan" id="kobo.13.3">
     It seems heavy, overly complex, and uncomfortable.
    </span>
    <span class="koboSpan" id="kobo.13.4">
     In the hands of those able to see the benefits and invest time in learning its intricacies, it’s a scalpel that you can use to slice through data with the skill of a surgeon and automate pentesting methodology like a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.14.1">
      robotics engineer.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.15.1">
     In this chapter, we’re going to cover the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.16.1">
      main topics:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.17.1">
      Introduction
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.18.1">
       to Bash
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.19.1">
       Lab setup
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.20.1">
      Configuring your
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.21.1">
       hacker shell
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.22.1">
      Setting up essential
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.23.1">
       pentesting tools
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-19">
    <a id="_idTextAnchor019">
    </a>
    <span class="koboSpan" id="kobo.24.1">
     Technical requirements
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.25.1">
     To follow along with the exercises in this chapter, you’ll need a Linux environment.
    </span>
    <span class="koboSpan" id="kobo.25.2">
     This book assumes you have enough skill to install an operating system and are familiar with installing and configuring virtual machine environments.
    </span>
    <span class="koboSpan" id="kobo.25.3">
     If you need help setting up your lab environment, the VirtualBox online manual (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.26.1">
      Oracle VM VirtualBox User Manual
     </span>
    </em>
    <span class="koboSpan" id="kobo.27.1">
     , (
    </span>
    <a href="https://download.virtualbox.org/virtualbox/UserManual.pdf">
     <span class="koboSpan" id="kobo.28.1">
      https://download.virtualbox.org/virtualbox/UserManual.pdf
     </span>
    </a>
    <span class="koboSpan" id="kobo.29.1">
     ) and several YouTube videos (VirtualBox – YouTube
    </span>
    <a href="https://www.youtube.com/results?search_query=virtualbox">
     <span class="koboSpan" id="kobo.30.1">
      https://www.youtube.com/results?search_query=virtualbox
     </span>
    </a>
    <span class="koboSpan" id="kobo.31.1">
     ) will
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.32.1">
      be helpful.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.33.1">
     Fortunately, there are many ways to configure a Bash learning environment for free.
    </span>
    <span class="koboSpan" id="kobo.33.2">
     All examples will be shown using Kali Linux.
    </span>
    <span class="koboSpan" id="kobo.33.3">
     However, any Linux or macOS environment
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.34.1">
      will work.
     </span>
    </span>
   </p>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.35.1">
      “Kali Linux is an open source, Debian-based Linux distribution geared toward various information security tasks, such as penetration testing, security research, computer forensics, and reverse engineering.”
     </span>
    </em>
    <span class="koboSpan" id="kobo.36.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.37.1">
      Kali
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.38.1">
       Linux
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.39.1">
      ,
     </span>
    </span>
    <a href="https://www.kali.org/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.40.1">
       https://www.kali.org/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.41.1">
      )
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.42.1">
     I strongly suggest that you use a fresh Kali Linux virtual machine to follow along with the exercises or when performing pentests.
    </span>
    <span class="koboSpan" id="kobo.42.2">
     Throughout this book and your pentests, you will be installing a lot of tools and their dependencies.
    </span>
    <span class="koboSpan" id="kobo.42.3">
     It’s common for tool dependencies to clash and
    </span>
    <a id="_idIndexMarker000">
    </a>
    <span class="koboSpan" id="kobo.43.1">
     create what is known as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.44.1">
      dependency hell
     </span>
    </em>
    <span class="koboSpan" id="kobo.45.1">
     .
    </span>
    <span class="koboSpan" id="kobo.45.2">
     This could result in damage to your main system if you haven’t properly isolated the tools during installation.
    </span>
    <span class="koboSpan" id="kobo.45.3">
     You also don’t want to risk infecting your main system
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.46.1">
      with malware.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.47.1">
     Kali offers a wide
    </span>
    <a id="_idIndexMarker001">
    </a>
    <span class="koboSpan" id="kobo.48.1">
     variety of solutions.
    </span>
    <span class="koboSpan" id="kobo.48.2">
     They provide installer images, virtual machines, cloud images, and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.49.1">
      Windows Subsystem for Linux
     </span>
    </strong>
    <span class="koboSpan" id="kobo.50.1">
     (
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.51.1">
       WSL
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.52.1">
      ) packages.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.53.1">
     You can download Kali
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.54.1">
      from
     </span>
    </span>
    <a href="https://www.kali.org/get-kali/#kali-platforms">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.55.1">
       https://www.kali.org/get-kali/#kali-platforms
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.56.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.57.1">
     All the commands that will be used in this chapter can be found in this book’s GitHub repository
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.58.1">
      at
     </span>
    </span>
    <a href="https://github.com/PacktPublishing/Bash-Shell-Scripting-for-Pentesters/tree/main/Chapter01">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.59.1">
       https://github.com/PacktPublishing/Bash-Shell-Scripting-for-Pentesters/tree/main/Chapter01
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.60.1">
      .
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-20">
    <a id="_idTextAnchor020">
    </a>
    <span class="koboSpan" id="kobo.61.1">
     Introduction to Bash
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.62.1">
     Bash, also known as the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.63.1">
      Bourne Again Shell
     </span>
    </em>
    <span class="koboSpan" id="kobo.64.1">
     , is a
    </span>
    <a id="_idIndexMarker002">
    </a>
    <span class="koboSpan" id="kobo.65.1">
     command-line shell interpreter and scripting language.
    </span>
    <span class="koboSpan" id="kobo.65.2">
     Bash
    </span>
    <a id="_idIndexMarker003">
    </a>
    <span class="koboSpan" id="kobo.66.1">
     was created by Brian Fox in 1989 as a free software replacement for the Bourne shell, which was proprietary software.
    </span>
    <span class="koboSpan" id="kobo.66.2">
     (Bash – GNU Project – Free Software Foundation,
    </span>
    <a href="https://www.gnu.org/software/bash/">
     <span class="koboSpan" id="kobo.67.1">
      https://www.gnu.org/software/bash/
     </span>
    </a>
    <span class="koboSpan" id="kobo.68.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.68.2">
     It’s the most common Linux shell.
    </span>
    <span class="koboSpan" id="kobo.68.3">
     Bash also introduced the ability to combine multiple commands into shell scripts that could be run by entering
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.69.1">
      one command.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.70.1">
     When you open a Terminal on a Linux system and enter commands, your Bash shell manages interactions with the operating system and running executables and scripts.
    </span>
    <span class="koboSpan" id="kobo.70.2">
     Bash and Linux executables form a symbiotic relationship, each enhancing the functionality and efficiency of the other.
    </span>
    <span class="koboSpan" id="kobo.70.3">
     Bash serves as the gateway for users and scripts to interact with the Linux kernel, the core of the operating system.
    </span>
    <span class="koboSpan" id="kobo.70.4">
     It interprets user commands, whether entered directly into the Terminal or scripted in files, and initiates actions within the system.
    </span>
    <span class="koboSpan" id="kobo.70.5">
     Linux executables, on the other hand, are the workhorses that carry out these actions.
    </span>
    <span class="koboSpan" id="kobo.70.6">
     They are binary files, often written in programming languages such as C or C++, compiled to run efficiently on Linux systems.
    </span>
    <span class="koboSpan" id="kobo.70.7">
     When a user issues a command in
    </span>
    <a id="_idIndexMarker004">
    </a>
    <span class="koboSpan" id="kobo.71.1">
     Bash, it often involves invoking one or more of these executables to perform
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.72.1">
      a task.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.73.1">
     The following are some of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.74.1">
      Bash’s features:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.75.1">
       Command execution with arguments
      </span>
     </strong>
     <span class="koboSpan" id="kobo.76.1">
      : Commands can be binaries, built-in shell commands,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.77.1">
       and scripts.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.78.1">
       Command completion
      </span>
     </strong>
     <span class="koboSpan" id="kobo.79.1">
      : A feature that helps
     </span>
     <a id="_idIndexMarker005">
     </a>
     <span class="koboSpan" id="kobo.80.1">
      the user by automatically completing partially typed commands or filenames upon the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.81.1">
       Tab
      </span>
     </em>
     <span class="koboSpan" id="kobo.82.1">
      key
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.83.1">
       being pressed.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.84.1">
       Command history
      </span>
     </strong>
     <span class="koboSpan" id="kobo.85.1">
      : Command history allows you to quickly reuse commands previously entered in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.86.1">
       the shell.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.87.1">
       Job control
      </span>
     </strong>
     <span class="koboSpan" id="kobo.88.1">
      : Sending commands to the background and bringing them to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.89.1">
       the foreground.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.90.1">
       Shell functions and alias
      </span>
     </strong>
     <span class="koboSpan" id="kobo.91.1">
      : A function groups related code under a name that can be called when needed.
     </span>
     <span class="koboSpan" id="kobo.91.2">
      An alias allows the user to shorten complex commands to a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.92.1">
       single name.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.93.1">
       Arrays
      </span>
     </strong>
     <span class="koboSpan" id="kobo.94.1">
      : Arrays store elements in a list that we can later retrieve
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.95.1">
       and process.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.96.1">
       Command and brace expansion
      </span>
     </strong>
     <span class="koboSpan" id="kobo.97.1">
      : Command expansion uses the result of a command as the input for another command.
     </span>
     <span class="koboSpan" id="kobo.97.2">
      Brace expansion allows strings to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.98.1">
       be generated.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.99.1">
       Pipelines and redirection
      </span>
     </strong>
     <span class="koboSpan" id="kobo.100.1">
      : The output of one command is used as input for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.101.1">
       another command.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.102.1">
       Environment variables
      </span>
     </strong>
     <span class="koboSpan" id="kobo.103.1">
      : Dynamic values are assigned to name tags, which are frequently used to represent system configuration or store information about
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.104.1">
       the environment.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.105.1">
       Filesystem navigation
      </span>
     </strong>
     <span class="koboSpan" id="kobo.106.1">
      : Bash provides commands to change directories, print the current directory, and find files
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.107.1">
       and directories.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.108.1">
       Help
      </span>
     </strong>
     <span class="koboSpan" id="kobo.109.1">
      : The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.110.1">
       man
      </span>
     </strong>
     <span class="koboSpan" id="kobo.111.1">
      command, short for
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.112.1">
       manual
      </span>
     </em>
     <span class="koboSpan" id="kobo.113.1">
      , provides the user with information and examples of how to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.114.1">
       execute
      </span>
     </span>
     <span class="No-Break">
      <a id="_idIndexMarker006">
      </a>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.115.1">
       commands.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.116.1">
     Bash scripting is one of the most important skills that I’ve learned in my pentesting career and that I use daily.
    </span>
    <span class="koboSpan" id="kobo.116.2">
     When you’re developing applications, at some point, you’ll find the need to use another scripting language, such as Python.
    </span>
    <span class="koboSpan" id="kobo.116.3">
     In most cases, anything you could want to do at the Terminal can be done in Bash, with Bash orchestrating the input and output and parsing the data from multiple tools.
    </span>
    <span class="koboSpan" id="kobo.116.4">
     Bash is so deeply integrated with the Linux operating system that it makes sense to learn it before branching out into scripting languages such as Python or Ruby.
    </span>
    <span class="koboSpan" id="kobo.116.5">
     Despite knowing multiple scripting and programming languages, Bash is the one that I use most often due to its tight integration with the shell and how easy it is to quickly get results with a one-line or even
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.117.1">
      one-word command.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.118.1">
     On any given day in my work as a
    </span>
    <a id="_idIndexMarker007">
    </a>
    <span class="koboSpan" id="kobo.119.1">
     pentester, I use Bash to parse data or automate chaining together multiple tools.
    </span>
    <span class="koboSpan" id="kobo.119.2">
     When a customer gives me scoping data, I must frequently copy a list of scoped IP addresses or hostnames from a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.120.1">
      Rules of Engagement
     </span>
    </em>
    <span class="koboSpan" id="kobo.121.1">
     document, email, or Excel spreadsheet and paste it into a text file.
    </span>
    <span class="koboSpan" id="kobo.121.2">
     Inevitably, there are stray characters in the data, or the data isn’t formatted cleanly for use as a list of scan targets.
    </span>
    <span class="koboSpan" id="kobo.121.3">
     I can use Bash to clean up the file data and format it as I need for testing purposes with one simple line of code entered in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.122.1">
      my Terminal.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.123.1">
     Pentesting tools accept data in various formats, and output scan results or data in common formats such as XML, JSON, or plain text.
    </span>
    <span class="koboSpan" id="kobo.123.2">
     The plain text output may be formatted with multiple spaces, tabs, or a combination.
    </span>
    <span class="koboSpan" id="kobo.123.3">
     I pipe the contents of a source file and pass it through the Bash pipeline to parse, clean, reformat, and sort the data.
    </span>
    <span class="koboSpan" id="kobo.123.4">
     I may use a combination of Bash commands to perform these actions in between the output of one command and the input of another in an automation pipeline.
    </span>
    <span class="koboSpan" id="kobo.123.5">
     Bash truly is an indispensable tool in a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.124.1">
      pentester’s toolbox.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.125.1">
     The following are some common uses for Bash scripting in my
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.126.1">
      pentesting workflow:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.127.1">
       Automated network scanning
      </span>
     </strong>
     <span class="koboSpan" id="kobo.128.1">
      : I frequently
     </span>
     <a id="_idIndexMarker008">
     </a>
     <span class="koboSpan" id="kobo.129.1">
      process the output of Masscan, a fast TCP scanner, and feed it to Nmap for in-depth service detection and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.130.1">
       script scanning.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.131.1">
       Password cracking
      </span>
     </strong>
     <span class="koboSpan" id="kobo.132.1">
      : I use a Bash script for a complex series of password cracking functions related to cracking Microsoft LM and NTLM hashes and formatting the output of Hashcat for input into a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.133.1">
       reporting tool.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.134.1">
       Searching text
      </span>
     </strong>
     <span class="koboSpan" id="kobo.135.1">
      : Searching for IP addresses or other details
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.136.1">
       in text.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.137.1">
       Scoping automation
      </span>
     </strong>
     <span class="koboSpan" id="kobo.138.1">
      : I use subdomain enumeration tools with a Bash script to ensure the discovered subdomains
     </span>
     <a id="_idIndexMarker009">
     </a>
     <span class="koboSpan" id="kobo.139.1">
      are in the scope of the pentest rules
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.140.1">
       of engagement.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.141.1">
       Formatting data
      </span>
     </strong>
     <span class="koboSpan" id="kobo.142.1">
      : I use Bash to parse and reformat the output of Nuclei scans to enumerate subdomains and web applications from TLS certificates and reformat the data for
     </span>
     <a id="_idIndexMarker010">
     </a>
     <span class="koboSpan" id="kobo.143.1">
      use in bypassing
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.144.1">
       content delivery networks
      </span>
     </strong>
     <span class="koboSpan" id="kobo.145.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.146.1">
       CDNs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.147.1">
      ) to bypass
     </span>
     <a id="_idIndexMarker011">
     </a>
     <span class="koboSpan" id="kobo.148.1">
      a
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.149.1">
       web application firewall
      </span>
     </strong>
     <span class="koboSpan" id="kobo.150.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.151.1">
       WAF
      </span>
     </strong>
     <span class="koboSpan" id="kobo.152.1">
      ) and scan the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.153.1">
       target directly.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.154.1">
       Searching and sorting Nmap reports
      </span>
     </strong>
     <span class="koboSpan" id="kobo.155.1">
      : After scanning hundreds or even thousands of IP addresses, I use Bash to parse the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.156.1">
       gnmap
      </span>
     </strong>
     <span class="koboSpan" id="kobo.157.1">
      files to create text files containing targets organized by TCP or UDP ports for use in more targeted scans.
     </span>
     <span class="koboSpan" id="kobo.157.2">
      For example, all SMB servers or HTTP servers’ IP addresses are carved out and placed into files named
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.158.1">
       smb.txt
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.159.1">
       and
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.160.1">
        http.txt
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.161.1">
       .
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.162.1">
       Sorting data and deduplication
      </span>
     </strong>
     <span class="koboSpan" id="kobo.163.1">
      : Sort the unique IP addresses into a file
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.164.1">
       for deduplication.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.165.1">
       Data conversion
      </span>
     </strong>
     <span class="koboSpan" id="kobo.166.1">
      : Convert first and last names into various formats for password spraying.
     </span>
     <span class="koboSpan" id="kobo.166.2">
      If I can get a list of employee
     </span>
     <a id="_idIndexMarker012">
     </a>
     <span class="koboSpan" id="kobo.167.1">
      names through
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.168.1">
       Open Source Intelligence
      </span>
     </strong>
     <span class="koboSpan" id="kobo.169.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.170.1">
       OSINT
      </span>
     </strong>
     <span class="koboSpan" id="kobo.171.1">
      ), I’ll look at anything that may tip me off to how their Active Directory names are formatted, such as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.172.1">
       f.last
      </span>
     </strong>
     <span class="koboSpan" id="kobo.173.1">
      or
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.174.1">
       first.last
      </span>
     </strong>
     <span class="koboSpan" id="kobo.175.1">
      , and use Bash to format the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.176.1">
       names appropriately.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.177.1">
       Data filtering
      </span>
     </strong>
     <span class="koboSpan" id="kobo.178.1">
      : Occasionally, I have to remove Terminal color codes from tool output log files for use in reporting because I forgot to include a command-line flag for no color, or the tool may not have this option.
     </span>
     <span class="koboSpan" id="kobo.178.2">
      I don’t want to screenshot data for my customer’s report with it containing color codes that make the data confusing
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.179.1">
       to read.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.180.1">
       Iterating over data
      </span>
     </strong>
     <span class="koboSpan" id="kobo.181.1">
      : I use Bash
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.182.1">
       for
      </span>
     </strong>
     <span class="koboSpan" id="kobo.183.1">
      and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.184.1">
       while
      </span>
     </strong>
     <span class="koboSpan" id="kobo.185.1">
      loops to loop through a file and run a command on each line.
     </span>
     <span class="koboSpan" id="kobo.185.2">
      A good example of this is when you need to use a tool that scans one host
     </span>
     <a id="_idIndexMarker013">
     </a>
     <span class="koboSpan" id="kobo.186.1">
      at a time with no option to process
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.187.1">
       multiple targets.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.188.1">
     I’m confident that learning Bash scripting will make you more efficient with your time and more effective in your job.
    </span>
    <span class="koboSpan" id="kobo.188.2">
     When you can automate time-intensive, boring tasks using Bash, it frees up your time to take on more important things.
    </span>
    <span class="koboSpan" id="kobo.188.3">
     Wouldn’t it be great to have more time for learning or research instead of wasting it on manual tasks that can be automated with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.189.1">
      little effort?
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.190.1">
     Now that we have a basic understanding of Bash and why it’s useful in our pentesting endeavors, let’s explore how to set up a lab environment where you can safely learn and follow along with the exercises.
    </span>
    <span class="koboSpan" id="kobo.190.2">
     In the next section, we’ll explore setting up your lab environment so that you can follow along
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.191.1">
      with me.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-21">
    <a id="_idTextAnchor021">
    </a>
    <span class="koboSpan" id="kobo.192.1">
     Lab setup
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.193.1">
     Bash isn’t the only shell interpreter for Linux and Unix systems, but it is the most common.
    </span>
    <span class="koboSpan" id="kobo.193.2">
     Other shells were influenced by Bash.
    </span>
    <span class="koboSpan" id="kobo.193.3">
     You may also encounter Zsh on macOS and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.194.1">
      Kali Linux.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.195.1">
     You might be wondering why this book has chosen to focus on Bash, despite some operating systems switching to Zsh.
    </span>
    <span class="koboSpan" id="kobo.195.2">
     While macOS and Kali have switched to Zsh for new user accounts, they still have Bash installed.
    </span>
    <span class="koboSpan" id="kobo.195.3">
     Most code written for Bash will also work on Zsh with a few minor changes.
    </span>
    <span class="koboSpan" id="kobo.195.4">
     You
    </span>
    <a id="_idIndexMarker014">
    </a>
    <span class="koboSpan" id="kobo.196.1">
     can include a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.197.1">
      shebang
     </span>
    </strong>
    <span class="koboSpan" id="kobo.198.1">
     line in your shell scripts to ensure that the Bash interpreter runs your script on systems where multiple shells are installed.
    </span>
    <span class="koboSpan" id="kobo.198.2">
     While performing
    </span>
    <a id="_idIndexMarker015">
    </a>
    <span class="koboSpan" id="kobo.199.1">
     security assessments, you’re very likely to encounter Linux servers where Bash is the default shell.
    </span>
    <span class="koboSpan" id="kobo.199.2">
     It will be essential for a pentester to understand how to interact with Bash to exploit applications, escalate privileges, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.200.1">
      move laterally.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.201.1">
     Fortunately, there are many ways you can access a Bash shell for free.
    </span>
    <span class="koboSpan" id="kobo.201.2">
     This section will explore a variety of ways you can access a Bash shell in an ideal setting so that you can follow along and learn how to use Bash for pentesting.
    </span>
    <span class="koboSpan" id="kobo.201.3">
     We will also explore vulnerable lab environments where you can safely practice using Bash and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.202.1">
      pentesting tools.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.203.1">
     Virtual machines are the preferred way to follow along with this book’s activities, as well as when performing pentesting.
    </span>
    <span class="koboSpan" id="kobo.203.2">
     You may be tempted to install your pentesting tools and exploit code on the same system you use for business or personal activities.
    </span>
    <span class="koboSpan" id="kobo.203.3">
     It’s easy to damage your system by installing software prerequisites for various tools.
    </span>
    <span class="koboSpan" id="kobo.203.4">
     There’s always a risk of hacking tools containing malware and infecting the same system that you use from day to day to send emails or access the web.
    </span>
    <span class="koboSpan" id="kobo.203.5">
     A virtual machine provides a convenient sandbox environment with everything you need to quickly refresh or replace a testing environment.
    </span>
    <span class="koboSpan" id="kobo.203.6">
     I have chosen to use Kali Linux in all demonstrations.
    </span>
    <span class="koboSpan" id="kobo.203.7">
     We want to avoid installing pentesting tools and exploit code in the same system we use daily for business or personal use.
    </span>
    <span class="koboSpan" id="kobo.203.8">
     It’s
    </span>
    <a id="_idIndexMarker016">
    </a>
    <span class="koboSpan" id="kobo.204.1">
     best to use a clean testing environment to avoid creating software dependency issues for us.
    </span>
    <span class="koboSpan" id="kobo.204.2">
     Kali makes it easy to install the needed software packages related
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.205.1">
      to pentesting.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-22">
    <a id="_idTextAnchor022">
    </a>
    <span class="koboSpan" id="kobo.206.1">
     Virtual machines
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.207.1">
     Using a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.208.1">
      virtual machine
     </span>
    </strong>
    <span class="koboSpan" id="kobo.209.1">
     is the preferred method.
    </span>
    <span class="koboSpan" id="kobo.209.2">
     During a pentest, you’ll likely install a multitude of tools and exploit proof of concept code.
    </span>
    <span class="koboSpan" id="kobo.209.3">
     At some point, you’ll also save sensitive data about your customer or target.
    </span>
    <span class="koboSpan" id="kobo.209.4">
     A virtual machine provides a convenient container that you can snapshot and restore, or
    </span>
    <a id="_idIndexMarker017">
    </a>
    <span class="koboSpan" id="kobo.210.1">
     delete and replace easily after
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.211.1">
      an assessment.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.212.1">
     There are numerous free and paid virtualization solutions to fit
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.213.1">
      any need:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.214.1">
      Oracle VirtualBox is a free x86 virtualization hypervisor.
     </span>
     <span class="koboSpan" id="kobo.214.2">
      It’s available for Windows, macOS (Intel chipset), and Linux.
     </span>
     <span class="koboSpan" id="kobo.214.3">
      VirtualBox is user-friendly, making it a popular choice for beginners and professionals alike.
     </span>
     <span class="koboSpan" id="kobo.214.4">
      It supports a wide range of guest operating systems and offers features such as snapshots, seamless mode, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.215.1">
       shared folders.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.216.1">
      VMware offers a free version of their virtualization
     </span>
     <a id="_idIndexMarker018">
     </a>
     <span class="koboSpan" id="kobo.217.1">
      software called VMware Workstation Player for non-commercial use.
     </span>
     <span class="koboSpan" id="kobo.217.2">
      It’s compatible with Windows and Linux hosts.
     </span>
     <span class="koboSpan" id="kobo.217.3">
      Workstation Player is easy to use and supports VMware’s VMDK virtual disk format, and it’s also compatible with virtual machines created by other
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.218.1">
       VMware products.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.219.1">
      Microsoft Hyper-V is free and available on Windows 10 Pro, Enterprise, and Education editions.
     </span>
     <span class="koboSpan" id="kobo.219.2">
      While it’s more commonly used in server environments, Hyper-V can also be a good option for desktop virtualization on Microsoft
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.220.1">
       Windows hosts.
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.221.1">
     Tip
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.222.1">
     For those on macOS with the Apple CPU, your virtualization options are UTM, Parallels, and VMWare Fusion.
    </span>
    <span class="koboSpan" id="kobo.222.2">
     UTM is the
    </span>
    <a id="_idIndexMarker019">
    </a>
    <span class="koboSpan" id="kobo.223.1">
     only
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.224.1">
      free option.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-23">
    <a id="_idTextAnchor023">
    </a>
    <span class="koboSpan" id="kobo.225.1">
     Docker containers
    </span>
   </h2>
   <p>
    <strong class="bold">
     <span class="koboSpan" id="kobo.226.1">
      Docker containers
     </span>
    </strong>
    <span class="koboSpan" id="kobo.227.1">
     offer a lightweight option over virtual machines.
    </span>
    <span class="koboSpan" id="kobo.227.2">
     Docker offers a runtime for Windows, Linux, and macOS.
    </span>
    <span class="koboSpan" id="kobo.227.3">
     Containers are more lightweight and efficient on lower-end hardware than virtual machines because they use the host’s kernel, so they don’t have to virtualize hardware as traditional
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.228.1">
      hypervisors do.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.229.1">
     Because Docker uses the host’s kernel, you’re limited to running containers while utilizing the same operating system as the host.
    </span>
    <span class="koboSpan" id="kobo.229.2">
     Docker Desktop is an alternative that uses a virtual machine to run containers with a different operating system from
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.230.1">
      the host.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.231.1">
     Based on my experience, there are
    </span>
    <a id="_idIndexMarker020">
    </a>
    <span class="koboSpan" id="kobo.232.1">
     some positive and negative points to consider about
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.233.1">
      using Docker.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.234.1">
     Docker is more lightweight and is a good alternative to traditional hypervisors when your hardware is less robust.
    </span>
    <span class="koboSpan" id="kobo.234.2">
     The minimum hardware resources I would assign to a virtual machine running Kali Linux is 4 GB of RAM and 40 GB of disk space.
    </span>
    <span class="koboSpan" id="kobo.234.3">
     You’re not always going to be using that 4 GB/40 GB.
    </span>
    <span class="koboSpan" id="kobo.234.4">
     At the same time, you’re limited to those values unless you shut down the virtual machine, adjust the RAM, and extend the disk.
    </span>
    <span class="koboSpan" id="kobo.234.5">
     A Docker container runs in a native process (excluding Docker Desktop), so it uses only as much memory and disk space as needed to run
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.235.1">
      the container.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.236.1">
     On a Linux host, you can attach a container directly to the host network and open and close ports as needed, provided you include specific command-line arguments.
    </span>
    <span class="koboSpan" id="kobo.236.2">
     This allows you to dynamically open listening server ports on the host’s network adapter without stopping and starting the container.
    </span>
    <span class="koboSpan" id="kobo.236.3">
     You can also attach a container to a USB or serial port to interface with hardware devices.
    </span>
    <span class="koboSpan" id="kobo.236.4">
     I sometimes use this option when I need to run an old Python2 pentesting application that interfaces with a USB or serial device for radio frequency and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.237.1">
      hardware hacking.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.238.1">
     When using Docker Desktop, NAT is used to connect container network ports to the host’s network, so the container must be stopped and restarted if you need to close or open additional ports.
    </span>
    <span class="koboSpan" id="kobo.238.2">
     With Docker Desktop, it isn’t possible to attach a container to hardware devices.
    </span>
    <span class="koboSpan" id="kobo.238.3">
     This can be aggravating when you’ve configured an application and its dependencies on a container and then lose your work and have to start over when you destroy the container and
    </span>
    <a id="_idIndexMarker021">
    </a>
    <span class="koboSpan" id="kobo.239.1">
     start a new instance, just to open another TCP port for a reverse listener or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.240.1">
      server application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.241.1">
     In summary, my preference is to use Docker only on a Linux host, and I use it for three specific pentesting
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.242.1">
      use cases:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.243.1">
      It provides an easy way to isolate old Python 2 applications and avoid dependency hell.
     </span>
     <span class="koboSpan" id="kobo.243.2">
      There are official Docker containers for all Python 2 and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.244.1">
       3 versions.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.245.1">
      I use it to create and run applications that aren’t available through my package manager, and I want to avoid wasting time solving dependency issues.
     </span>
     <span class="koboSpan" id="kobo.245.2">
      For example, a particular hacking tool is available through the Kali software repository, but not in Ubuntu.
     </span>
     <span class="koboSpan" id="kobo.245.3">
      I can create a thin Kali container that uses only enough resources to run the contained application and use an alias in my
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.246.1">
       ~/.bashrc
      </span>
     </strong>
     <span class="koboSpan" id="kobo.247.1">
      file to reduce a long
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.248.1">
       docker run
      </span>
     </strong>
     <span class="koboSpan" id="kobo.249.1">
      command to a single word I can enter in my Terminal.
     </span>
     <span class="koboSpan" id="kobo.249.2">
      This is a much faster and more lightweight option than a heavy virtual machine when I just want to run a single application that can’t be run or would be difficult to run on my
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.250.1">
       host system.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.251.1">
      When I want to practice exploiting or creating an exploit tool for a recently announced vulnerable web application, I can frequently find a Docker container that allows me to immediately start the vulnerable application without spending precious time installing and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.252.1">
       configuring it.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.253.1">
     Docker containers are perfect for specific use cases.
    </span>
    <span class="koboSpan" id="kobo.253.2">
     However, they’re less preferred than virtual machines.
    </span>
    <span class="koboSpan" id="kobo.253.3">
     Next, we’ll explore using live USB systems as an alternative to virtual machines
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.254.1">
      and containers.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-24">
    <a id="_idTextAnchor024">
    </a>
    <span class="koboSpan" id="kobo.255.1">
     Live USB
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.256.1">
     A
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.257.1">
      live USB
     </span>
    </strong>
    <span class="koboSpan" id="kobo.258.1">
     is an operating system image written to a USB disk in a way that makes it bootable.
    </span>
    <span class="koboSpan" id="kobo.258.2">
     Live USB is a good choice to use when your computer doesn’t have the hardware resources to run a virtual machine.
    </span>
    <span class="koboSpan" id="kobo.258.3">
     You can use imaging software to burn Linux ISO disks to USB and boot a Linux operating system.
    </span>
    <span class="koboSpan" id="kobo.258.4">
     After you finish your work on Linux, you simply restart the computer and remove the USB drive to revert to the installed operating system.
    </span>
    <span class="koboSpan" id="kobo.258.5">
     Some Linux
    </span>
    <a id="_idIndexMarker022">
    </a>
    <span class="koboSpan" id="kobo.259.1">
     distributions enable you to create persistent storage on the USB drive so that you don’t lose your changes when
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.260.1">
      you reboot.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.261.1">
     The following are some general steps for
    </span>
    <a id="_idIndexMarker023">
    </a>
    <span class="koboSpan" id="kobo.262.1">
     running a Linux distribution from
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.263.1">
      live USB:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.264.1">
      Download the ISO image.
     </span>
     <span class="koboSpan" id="kobo.264.2">
      Some popular Linux distributions for pentesters include Kali, Parrot Security OS,
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.265.1">
       and BlackArch.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.266.1">
      Create a live USB drive.
     </span>
     <span class="koboSpan" id="kobo.266.2">
      Common tools for this purpose include Rufus, balenaEtcher, and the Linux
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.267.1">
        dd
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.268.1">
       command.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.269.1">
      Configure persistence (optional).
     </span>
     <span class="koboSpan" id="kobo.269.2">
      This usually involves creating a separate partition on the USB drive and configuring the bootloader to recognize and use this partition.
     </span>
     <span class="koboSpan" id="kobo.269.3">
      You can find the documented steps required to create a live USB Kali system
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.270.1">
       at
      </span>
     </span>
     <a href="https://www.kali.org/docs/usb/usb-persistence/">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.271.1">
        https://www.kali.org/docs/usb/usb-persistence/
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.272.1">
       .
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.273.1">
     There are some considerations and drawbacks to using
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.274.1">
      live USB:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.275.1">
      USB storage is usually much slower than running directly from an SSD.
     </span>
     <span class="koboSpan" id="kobo.275.2">
      If you use live USB, be sure to use the
     </span>
     <a id="_idIndexMarker024">
     </a>
     <span class="koboSpan" id="kobo.276.1">
      USB 3.0 or 3.1 standard for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.277.1">
       best performance.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.278.1">
      Always download the ISO image from official sources and verify the checksum before
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.279.1">
       trusting it.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.280.1">
      If you’re planning to use it for production use, be sure to use encrypted persistence due to the risk of exposing the sensitive data on the drive to someone not authorized to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.281.1">
       have it.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.282.1">
     Now, let’s move on and discuss
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.283.1">
      cloud-based systems.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-25">
    <a id="_idTextAnchor025">
    </a>
    <span class="koboSpan" id="kobo.284.1">
     Cloud-based systems
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.285.1">
     Many cloud platforms create free tiers for access to Linux systems with enough resources for modest workloads.
    </span>
    <span class="koboSpan" id="kobo.285.2">
     Cloud
    </span>
    <a id="_idIndexMarker025">
    </a>
    <span class="koboSpan" id="kobo.286.1">
     providers with free tiers include
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.287.1">
      Google Cloud Platform
     </span>
    </strong>
    <span class="koboSpan" id="kobo.288.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.289.1">
      GCP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.290.1">
     ), Microsoft Azure, and
    </span>
    <a id="_idIndexMarker026">
    </a>
    <span class="koboSpan" id="kobo.291.1">
     Amazon EC2.
    </span>
    <span class="koboSpan" id="kobo.291.2">
     Be aware that the free tier may not provide enough RAM for production use and will not be suitable for running Kali
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.292.1">
      Linux images.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.293.1">
     Kali Linux provides
    </span>
    <a id="_idIndexMarker027">
    </a>
    <span class="koboSpan" id="kobo.294.1">
     documentation and marketplace images for running on AWS, Digital Ocean, Linode, and Azure (
    </span>
    <a href="https://www.kali.org/docs/cloud/">
     <span class="koboSpan" id="kobo.295.1">
      https://www.kali.org/docs/cloud/
     </span>
    </a>
    <span class="koboSpan" id="kobo.296.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.296.2">
     I have experience with customers who have configured Kali in the cloud for cloud security assessments, or connected via VPN to their internal network infrastructure to facilitate internal network pentests.
    </span>
    <span class="koboSpan" id="kobo.296.3">
     If the customer’s internal network is already connected to a cloud provider over VPN, it’s relatively easy for them to spin up a Kali image and create a firewall rule to allow SSH access from my IP address.
    </span>
    <span class="koboSpan" id="kobo.296.4">
     Now that we’ve explored options for running a pentesting system with Bash, let’s discover a few vulnerable systems we can use to practice within
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.297.1">
      our lab.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-26">
    <a id="_idTextAnchor026">
    </a>
    <span class="koboSpan" id="kobo.298.1">
     Vulnerable lab targets
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.299.1">
     While following along with some of the later chapters related to pentesting methodology, it will be beneficial for
    </span>
    <a id="_idIndexMarker028">
    </a>
    <span class="koboSpan" id="kobo.300.1">
     you to have access to vulnerable targets when running the commands and developing your Bash scripts.
    </span>
    <span class="koboSpan" id="kobo.300.2">
     There are several great sources of vulnerable targets you can use for practice in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.301.1">
      your lab.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.302.1">
     Metasploitable 2 is a vulnerable virtual machine provided by Rapid7.
    </span>
    <span class="koboSpan" id="kobo.302.2">
     It was designed to showcase the capabilities of the Metasploit Framework.
    </span>
    <span class="koboSpan" id="kobo.302.3">
     Metasploitable 2 is also a good beginner-level challenge for developing your hacker methodology and learning Bash for pentesting.
    </span>
    <span class="koboSpan" id="kobo.302.4">
     The project requires modest resources to run the virtual machine and includes documentation on the machine’s vulnerabilities (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.303.1">
      Metasploitable 2 | Metasploit
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.304.1">
       Documentation
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.305.1">
      ,
     </span>
    </span>
    <a href="https://docs.rapid7.com/metasploit/metasploitable-2/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.306.1">
       https://docs.rapid7.com/metasploit/metasploitable-2/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.307.1">
      ).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.308.1">
     Game of Active Directory (GOAD) is also
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.309.1">
      an option.
     </span>
    </span>
   </p>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.310.1">
      “GOAD is a pentesting Active Directory LAB project.
     </span>
     <span class="koboSpan" id="kobo.310.2">
      The purpose of this lab is to give pentesters a vulnerable Active Directory environment ready to use for them to practice usual attack techniques
     </span>
    </em>
    <em class="italic">
     <span class="koboSpan" id="kobo.311.1">
      .”
     </span>
    </em>
    <span class="koboSpan" id="kobo.312.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.313.1">
      Game of Active Directory –
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.314.1">
       Orange-CyberDefense
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.315.1">
      ,
     </span>
    </span>
    <a href="https://github.com/Orange-Cyberdefense/GOAD">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.316.1">
       https://github.com/Orange-Cyberdefense/GOAD
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.317.1">
      )
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.318.1">
     Note that GOAD is free to use and uses free Microsoft Windows licenses that are activated for 180 days.
    </span>
    <span class="koboSpan" id="kobo.318.2">
     GOAD is the best resource I’ve found for practicing hacking on internal Active Directory
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.319.1">
      network environments.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.320.1">
     MayFly is the creator of GOAD.
    </span>
    <span class="koboSpan" id="kobo.320.2">
     Their website contains plenty of articles on how to set GOAD up on different virtual machine hypervisors, as well as lab guides for using common pentesting tools to
    </span>
    <a id="_idIndexMarker029">
    </a>
    <span class="koboSpan" id="kobo.321.1">
     hack
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.322.1">
      Active Directory.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.323.1">
     Tip
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.324.1">
     MayFly also published a comprehensive mind map for pentesting Active Directory.
    </span>
    <span class="koboSpan" id="kobo.324.2">
     Despite having years of experience in hacking Active Directory, I still find times that I’m running out of things to test and will refer to this mind map when I get stuck or want to ensure that I’ve left no stone unturned.
    </span>
    <span class="koboSpan" id="kobo.324.3">
     This mind map is also the number one resource I recommend to junior pentesters who are learning Active Directory hacking techniques and tools (you can find more details
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.325.1">
      at
     </span>
    </span>
    <a href="https://orange-cyberdefense.github.io/ocd-mindmaps/img/pentest_ad_dark_2022_11.svg">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.326.1">
       https://orange-cyberdefense.github.io/ocd-mindmaps/img/pentest_ad_dark_2022_11.svg
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.327.1">
      ).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.328.1">
     If you wish to practice your Bash scripts, tools, and methodology on web applications, OWASP Juice Shop is a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.329.1">
      great resource.
     </span>
    </span>
   </p>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.330.1">
      “OWASP Juice Shop is probably the most modern and sophisticated insecure web application!
     </span>
     <span class="koboSpan" id="kobo.330.2">
      It can be used in security training, awareness demos, CTFs, and as a guinea pig for security tools!
     </span>
     <span class="koboSpan" id="kobo.330.3">
      Juice Shop encompasses vulnerabilities from the entire OWASP Top Ten
     </span>
    </em>
    <span class="koboSpan" id="kobo.331.1">
     (
    </span>
    <a href="https://owasp.org/www-project-top-ten/">
     <span class="koboSpan" id="kobo.332.1">
      https://owasp.org/www-project-top-ten/
     </span>
    </a>
    <span class="koboSpan" id="kobo.333.1">
     )
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.334.1">
      , along with many other security flaws found in real-world applications!”
     </span>
    </em>
    <span class="koboSpan" id="kobo.335.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.336.1">
      OWASP Juice Shop – OWASP
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.337.1">
       Foundation
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.338.1">
      ,
     </span>
    </span>
    <a href="https://owasp.org/www-project-juice-shop/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.339.1">
       https://owasp.org/www-project-juice-shop/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.340.1">
      )
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.341.1">
     An older yet still very relevant vulnerable web application is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.342.1">
      Mutillidae II.
     </span>
    </span>
   </p>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.343.1">
      “OWASP Mutillidae II is a free, open source, deliberately vulnerable web application that provides a target for web-security training.
     </span>
     <span class="koboSpan" id="kobo.343.2">
      With dozens of vulnerabilities and hints to help the user, this is an easy-to-use web hacking environment designed for labs, security enthusiasts, classrooms, CTF, and vulnerability assessment tool targets.”
     </span>
    </em>
    <span class="koboSpan" id="kobo.344.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.345.1">
      OWASP Mutillidae II – OWASP
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.346.1">
       Foundation
      </span>
     </em>
    </span>
    <span class="No-Break">
    </span>
    <a href="https://owasp.org/www-project-mutillidae-ii/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.347.1">
       https://owasp.org/www-project-mutillidae-ii/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.348.1">
      )
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.349.1">
     One of the things I love about Mutillidae is that it embeds hints, tutorials, and video tutorials in the content.
    </span>
    <span class="koboSpan" id="kobo.349.2">
     Mutillidae is a resource I used many years ago to learn web app testing when I was a junior pentester.
    </span>
    <span class="koboSpan" id="kobo.349.3">
     The difference between Juice Shop and Mutillidae is that Juice Shop is a modern web application that uses JavaScript frameworks, whereas Mutillidae is a more traditional web application.
    </span>
    <span class="koboSpan" id="kobo.349.4">
     While Juice Shop has a scoreboard and you can find third-party walkthroughs online, Mutillidae has a large amount of training text and video embedded in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.350.1">
      the application.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.351.1">
     The cybersecurity landscape is always changing, and new vulnerabilities are discovered regularly.
    </span>
    <span class="koboSpan" id="kobo.351.2">
     A lab setup is an ideal place for research and development, allowing you to experiment with these vulnerabilities safely.
    </span>
    <span class="koboSpan" id="kobo.351.3">
     It’s where you can contribute to the cybersecurity community by
    </span>
    <a id="_idIndexMarker030">
    </a>
    <span class="koboSpan" id="kobo.352.1">
     discovering new vulnerabilities or enhancing existing
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.353.1">
      pentesting methodologies.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.354.1">
     Now that we’ve explored vulnerable targets for your pentesting lab, next up, we’ll talk about customizing your Bash shell so that it suits your needs and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.355.1">
      personal style.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-27">
    <a id="_idTextAnchor027">
    </a>
    <span class="koboSpan" id="kobo.356.1">
     Configuring your hacker shell
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.357.1">
     If you’re following along using Kali Linux or macOS, note that your Terminal shell uses Zsh by default instead of Bash.
    </span>
    <span class="koboSpan" id="kobo.357.2">
     Zsh has more features (such as better tab completion and theme support) but Bash is more
    </span>
    <a id="_idIndexMarker031">
    </a>
    <span class="koboSpan" id="kobo.358.1">
     widespread and standard.
    </span>
    <span class="koboSpan" id="kobo.358.2">
     Bash has been around since the late 80s, making it a veteran in the shell world.
    </span>
    <span class="koboSpan" id="kobo.358.3">
     It’s the default on most Linux distributions and macOS (up until Catalina, where Zsh took over).
    </span>
    <span class="koboSpan" id="kobo.358.4">
     Bash’s longevity means it’s extremely stable
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.359.1">
      and well-supported.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.360.1">
     Zsh, on the other hand, came a bit later.
    </span>
    <span class="koboSpan" id="kobo.360.2">
     It’s known for its improvements over Bash, including better interactive use and more powerful
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.361.1">
      scripting capabilities.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.362.1">
     You can determine which shell is configured by entering the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.363.1">
      echo $SHELL
     </span>
    </strong>
    <span class="koboSpan" id="kobo.364.1">
     command in your terminal.
    </span>
    <span class="koboSpan" id="kobo.364.2">
     Almost all code shown in this book will work in both Bash and Zsh, except where noted.
    </span>
    <span class="koboSpan" id="kobo.364.3">
     In my day-to-day pentesting activities, I rarely notice any difference.
    </span>
    <span class="koboSpan" id="kobo.364.4">
     However, if you want to change your shell from Zsh to Bash, execute the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.365.1">
      chsh -s /bin/bash
     </span>
    </strong>
    <span class="koboSpan" id="kobo.366.1">
     command in your Terminal, then log out and log in to see the change
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.367.1">
      take place.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.368.1">
     Bash configuration files can be found in the user home directory,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.369.1">
      /home/username
     </span>
    </strong>
    <span class="koboSpan" id="kobo.370.1">
     .
    </span>
    <span class="koboSpan" id="kobo.370.2">
     Because the filenames begin with a period character, they are commonly referred to as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.371.1">
      dotfiles
     </span>
    </em>
    <span class="koboSpan" id="kobo.372.1">
     .
    </span>
    <span class="koboSpan" id="kobo.372.2">
     The following configuration files
    </span>
    <a id="_idIndexMarker032">
    </a>
    <span class="koboSpan" id="kobo.373.1">
     are used to configure the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.374.1">
      Bash shell:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.375.1">
       ~/.bash_profile
      </span>
     </strong>
     <span class="koboSpan" id="kobo.376.1">
      : This file is executed at the start of an interactive login and is used to initialize the user environment.
     </span>
     <span class="koboSpan" id="kobo.376.2">
      Think of an interactive login as logging in via the command line via a text-based Terminal such as an
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.377.1">
       SSH session.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.378.1">
       ~/.bashrc
      </span>
     </strong>
     <span class="koboSpan" id="kobo.379.1">
      : This file is used to configure the Terminal when you’ve logged in through the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.380.1">
       graphical user interface
      </span>
     </strong>
     <span class="koboSpan" id="kobo.381.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.382.1">
       GUI
      </span>
     </strong>
     <span class="koboSpan" id="kobo.383.1">
      ).
     </span>
     <span class="koboSpan" id="kobo.383.2">
      This file contains settings including aliases, functions, prompt
     </span>
     <a id="_idIndexMarker033">
     </a>
     <span class="koboSpan" id="kobo.384.1">
      customizations, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.385.1">
       environment variables.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.386.1">
       ~/.bash_logout
      </span>
     </strong>
     <span class="koboSpan" id="kobo.387.1">
      : This file is
     </span>
     <a id="_idIndexMarker034">
     </a>
     <span class="koboSpan" id="kobo.388.1">
      executed when your session ends.
     </span>
     <span class="koboSpan" id="kobo.388.2">
      It’s used to perform tasks related to cleaning up the environment when you
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.389.1">
       log out.
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.390.1">
     Tip
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.391.1">
     If you don’t understand the purpose of the tilde (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.392.1">
      ~
     </span>
    </strong>
    <span class="koboSpan" id="kobo.393.1">
     ) character and forward slash preceding the dotfile name, the tilde character represents the user’s home directory.
    </span>
    <span class="koboSpan" id="kobo.393.2">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.394.1">
      ~/.bashrc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.395.1">
     path is equivalent to
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.396.1">
      /home/username/.bashrc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.397.1">
     .
    </span>
    <span class="koboSpan" id="kobo.397.2">
     This concept will be covered in
    </span>
    <a href="B22229_02.xhtml#_idTextAnchor034">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.398.1">
        Chapter 2
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.399.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.400.1">
     The most common edits you’ll want to make will include adding aliases and functions and customizing your command prompt in your
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.401.1">
      ~/.bashrc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.402.1">
     file.
    </span>
    <span class="koboSpan" id="kobo.402.2">
     Aliases are a great way to shorten long or complex commands to a single word.
    </span>
    <span class="koboSpan" id="kobo.402.3">
     Functions are more complex.
    </span>
    <span class="koboSpan" id="kobo.402.4">
     Think of functions as a short script that you can include in your shell configuration and call by name in your Terminal.
    </span>
    <span class="koboSpan" id="kobo.402.5">
     Functions will be discussed later in
    </span>
    <a href="B22229_05.xhtml#_idTextAnchor089">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.403.1">
        Chapter 5
       </span>
      </em>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.404.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.405.1">
     Here’s an example alias from my
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.406.1">
      ~/.bashrc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.407.1">
     file that I use to search for IP addresses
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.408.1">
      in text:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.409.1">
alias grepip="grep -Eo '([0-9]{1,3}\.){3}[0-9]{1,3}'"</span></pre>
   <p>
    <span class="koboSpan" id="kobo.410.1">
     You can see how this command would be difficult to remember, so it helps to create an alias for any complex command you may need to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.411.1">
      use repeatedly.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.412.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.413.1">
     When you make edits to your Bash configuration files, you must either log out and log in or source the file to enact
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.414.1">
      the change.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.415.1">
     Enter the following command to source a file and enact
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.416.1">
      changes immediately:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.417.1">
$ source ~/.bashrc</span></pre>
   <p>
    <span class="koboSpan" id="kobo.418.1">
     Now that you understand the purpose of Bash’s dotfiles, let’s move on and take a look at how we can edit them to
    </span>
    <a id="_idIndexMarker035">
    </a>
    <span class="koboSpan" id="kobo.419.1">
     personalize
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.420.1">
      our environment.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-28">
    <a id="_idTextAnchor028">
    </a>
    <span class="koboSpan" id="kobo.421.1">
     Customizing the Bash prompt
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.422.1">
     The prompt is where you enter
    </span>
    <a id="_idIndexMarker036">
    </a>
    <span class="koboSpan" id="kobo.423.1">
     commands in the Bash Terminal.
    </span>
    <span class="koboSpan" id="kobo.423.2">
     Your prompt can be as simple or complex as you desire to meet your tastes and reflect your personality.
    </span>
    <span class="koboSpan" id="kobo.423.3">
     Think of your prompt design choices like how a painter chooses
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.424.1">
      their palate.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.425.1">
     You can find your currently configured prompt by looking in your
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.426.1">
      ~/.bashrc
     </span>
    </strong>
    <span class="koboSpan" id="kobo.427.1">
     file for a line that begins with
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.428.1">
      PS1
     </span>
    </strong>
    <span class="koboSpan" id="kobo.429.1">
     .
    </span>
    <span class="koboSpan" id="kobo.429.2">
     A common Bash prompt would use a
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.430.1">
      PS1
     </span>
    </strong>
    <span class="koboSpan" id="kobo.431.1">
     value such as
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.432.1">
      export PS1="\u@\h \w\$ "
     </span>
    </strong>
    <span class="koboSpan" id="kobo.433.1">
     , and it would look like
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.434.1">
      username@hostname ~$
     </span>
    </strong>
    <span class="koboSpan" id="kobo.435.1">
     at the prompt.
    </span>
    <span class="koboSpan" id="kobo.435.2">
     Let’s break this down.
    </span>
    <span class="koboSpan" id="kobo.435.3">
     Here’s what each
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.436.1">
      part does:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.437.1">
       \u
      </span>
     </strong>
     <span class="koboSpan" id="kobo.438.1">
      will be replaced by the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.439.1">
       current username.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.440.1">
       @
      </span>
     </strong>
     <span class="koboSpan" id="kobo.441.1">
      is a literal character and will appear after
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.442.1">
       the username.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.443.1">
       \h
      </span>
     </strong>
     <span class="koboSpan" id="kobo.444.1">
      will be replaced by the hostname up to the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.445.1">
       first period.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.446.1">
       \w
      </span>
     </strong>
     <span class="koboSpan" id="kobo.447.1">
      will be replaced by the current working directory, with
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.448.1">
       $HOME
      </span>
     </strong>
     <span class="koboSpan" id="kobo.449.1">
      abbreviated to a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.450.1">
       tilde character.
      </span>
     </span>
    </li>
    <li>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.451.1">
       \$
      </span>
     </strong>
     <span class="koboSpan" id="kobo.452.1">
      displays a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.453.1">
       $
      </span>
     </strong>
     <span class="koboSpan" id="kobo.454.1">
      character for a regular user, or
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.455.1">
       #
      </span>
     </strong>
     <span class="koboSpan" id="kobo.456.1">
      for the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.457.1">
       root user.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.458.1">
     Once you edit your
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.459.1">
      PS1
     </span>
    </strong>
    <span class="koboSpan" id="kobo.460.1">
     prompt, be sure to source the file to see the changes
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.461.1">
      take effect.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.462.1">
     You can also get really fancy with your prompt.
    </span>
    <span class="koboSpan" id="kobo.462.2">
     I’ve been known to insert the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.463.1">
      $(ip a show eth0 | grep -m 1 inet | tr -s ' ' | cut -d ' ' -f 3)
     </span>
    </strong>
    <span class="koboSpan" id="kobo.464.1">
     string in the middle of my
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.465.1">
      PS1
     </span>
    </strong>
    <span class="koboSpan" id="kobo.466.1">
     prompt to show my IP address for capturing in my logs or report screenshots for the
    </span>
    <a id="_idIndexMarker037">
    </a>
    <span class="koboSpan" id="kobo.467.1">
     customer to correlate my activity with their
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.468.1">
      Security Information and Event Management
     </span>
    </strong>
    <span class="koboSpan" id="kobo.469.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.470.1">
      SIEM
     </span>
    </strong>
    <span class="koboSpan" id="kobo.471.1">
     ) alerts.
    </span>
    <span class="koboSpan" id="kobo.471.2">
     See
    </span>
    <a href="https://bash-prompt-generator.org/">
     <span class="koboSpan" id="kobo.472.1">
      https://bash-prompt-generator.org/
     </span>
    </a>
    <span class="koboSpan" id="kobo.473.1">
     for a graphical Bash prompt generator, or the
    </span>
    <a id="_idIndexMarker038">
    </a>
    <span class="koboSpan" id="kobo.474.1">
     official Bash manual for
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.475.1">
      all options.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.476.1">
     Customizing your Bash environment is about making your Terminal work for you.
    </span>
    <span class="koboSpan" id="kobo.476.2">
     It’s a process of trial and improvement, finding what makes you more productive, and what brings a bit of joy into your
    </span>
    <a id="_idIndexMarker039">
    </a>
    <span class="koboSpan" id="kobo.477.1">
     command-line sessions.
    </span>
    <span class="koboSpan" id="kobo.477.2">
     Start small, experiment, and see how a few changes can make a big difference in your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.478.1">
      daily tasks.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-29">
    <a id="_idTextAnchor029">
    </a>
    <span class="koboSpan" id="kobo.479.1">
     Setting up essential pentesting tools
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.480.1">
     In this section, we’ll go over setting up
    </span>
    <a id="_idIndexMarker040">
    </a>
    <span class="koboSpan" id="kobo.481.1">
     our pentesting environment by updating system software packages and installing the tools required to follow along.
    </span>
    <span class="koboSpan" id="kobo.481.2">
     Most of the tools needed will already be installed in Kali, so we’ll only need to install a few more
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.482.1">
      software packages.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-30">
    <a id="_idTextAnchor030">
    </a>
    <span class="koboSpan" id="kobo.483.1">
     Update the package manager
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.484.1">
     Your first step when using a
    </span>
    <a id="_idIndexMarker041">
    </a>
    <span class="koboSpan" id="kobo.485.1">
     new Linux installation should be updating packages.
    </span>
    <span class="koboSpan" id="kobo.485.2">
     As stated earlier, I’ll be using Kali Linux in all demonstrations.
    </span>
    <span class="koboSpan" id="kobo.485.3">
     Kali is based on the Debian Linux distribution, which uses the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.486.1">
      Advanced Package Tool
     </span>
    </strong>
    <span class="koboSpan" id="kobo.487.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.488.1">
      APT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.489.1">
     ) package manager.
    </span>
    <span class="koboSpan" id="kobo.489.2">
     At its core,
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.490.1">
      apt
     </span>
    </strong>
    <span class="koboSpan" id="kobo.491.1">
     streamlines software management.
    </span>
    <span class="koboSpan" id="kobo.491.2">
     It automates the
    </span>
    <a id="_idIndexMarker042">
    </a>
    <span class="koboSpan" id="kobo.492.1">
     process of retrieving, configuring, and installing software packages from predefined repositories.
    </span>
    <span class="koboSpan" id="kobo.492.2">
     This automation not only saves time but also ensures that software dependencies are resolved without
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.493.1">
      manual intervention.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.494.1">
     Running
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.495.1">
      sudo apt update
     </span>
    </strong>
    <span class="koboSpan" id="kobo.496.1">
     refreshes the local database of available packages and their versions, ensuring you have the latest information from the repositories.
    </span>
    <span class="koboSpan" id="kobo.496.2">
     This step is crucial before installing new software or updating existing packages to ensure you’re getting the latest versions.
    </span>
    <span class="koboSpan" id="kobo.496.3">
     If you’re using Kali, Ubuntu, or Debian Linux, the following commands to update and upgrade will work as expected because they all use the
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.497.1">
      apt
     </span>
    </strong>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.498.1">
      package manager:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.499.1">
$ sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp; reboot</span></pre>
   <p>
    <span class="koboSpan" id="kobo.500.1">
     In the preceding command, we use
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.501.1">
      sudo
     </span>
    </strong>
    <span class="koboSpan" id="kobo.502.1">
     to elevate privileges and
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.503.1">
      apt
     </span>
    </strong>
    <span class="koboSpan" id="kobo.504.1">
     to update the list of available packages.
    </span>
    <span class="koboSpan" id="kobo.504.2">
     The double ampersand symbols (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.505.1">
      &amp;&amp;
     </span>
    </strong>
    <span class="koboSpan" id="kobo.506.1">
     ) operate like a logical AND operator; the second command to upgrade packages without prompting (
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.507.1">
      -y
     </span>
    </strong>
    <span class="koboSpan" id="kobo.508.1">
     ) is only run if the first command results in success.
    </span>
    <span class="koboSpan" id="kobo.508.2">
     Finally, we reboot to ensure that all services and kernel updates
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.509.1">
      take effect.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-31">
    <a id="_idTextAnchor031">
    </a>
    <span class="koboSpan" id="kobo.510.1">
     Install ProjectDiscovery tools
    </span>
   </h2>
   <p>
    <strong class="bold">
     <span class="koboSpan" id="kobo.511.1">
      ProjectDiscovery
     </span>
    </strong>
    <span class="koboSpan" id="kobo.512.1">
     offers some great tools I recommend for pentesting (PDTM – ProjectDiscovery,
    </span>
    <a href="https://github.com/projectdiscovery/pdtm">
     <span class="koboSpan" id="kobo.513.1">
      https://github.com/projectdiscovery/pdtm
     </span>
    </a>
    <span class="koboSpan" id="kobo.514.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.514.2">
     Before we can install them, we must install the Go programming language runtime and libraries.
    </span>
    <span class="koboSpan" id="kobo.514.3">
     Follow these steps to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.515.1">
      do so:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.516.1">
      In your web browser, navigate
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.517.1">
       to
      </span>
     </span>
     <a href="https://go.dev/dl/">
      <span class="No-Break">
       <span class="koboSpan" id="kobo.518.1">
        https://go.dev/dl/
       </span>
      </span>
     </a>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.519.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.520.1">
      Download the correct
     </span>
     <a id="_idIndexMarker043">
     </a>
     <span class="koboSpan" id="kobo.521.1">
      package for your Linux distribution.
     </span>
     <span class="koboSpan" id="kobo.521.2">
      Be sure
     </span>
     <a id="_idIndexMarker044">
     </a>
     <span class="koboSpan" id="kobo.522.1">
      to look closely at the processor architecture.
     </span>
     <span class="koboSpan" id="kobo.522.2">
      Typically, this would be a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.523.1">
       Kind
      </span>
     </strong>
     <span class="koboSpan" id="kobo.524.1">
      value of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.525.1">
       archive
      </span>
     </strong>
     <span class="koboSpan" id="kobo.526.1">
      , an
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.527.1">
       OS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.528.1">
      value of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.529.1">
       Linux
      </span>
     </strong>
     <span class="koboSpan" id="kobo.530.1">
      , and an
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.531.1">
       Arch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.532.1">
      value of either
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.533.1">
       x86-64
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.534.1">
       or
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.535.1">
        ARM64
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.536.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.537.1">
      Extract the downloaded archive.
     </span>
     <span class="koboSpan" id="kobo.537.2">
      Be sure to change the package version so that it matches what
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.538.1">
       you downloaded:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.539.1">$ sudo tar -C /usr/local -xzf go1.22.0.linux-amd64.tar.gz</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.540.1">
      Add
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.541.1">
       /usr/local/go/bin
      </span>
     </strong>
     <span class="koboSpan" id="kobo.542.1">
      to the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.543.1">
       PATH
      </span>
     </strong>
     <span class="koboSpan" id="kobo.544.1">
      environment variable in your
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.545.1">
       ~/.bashrc
      </span>
     </strong>
     <span class="koboSpan" id="kobo.546.1">
      file.
     </span>
     <span class="koboSpan" id="kobo.546.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.547.1">
       PATH
      </span>
     </strong>
     <span class="koboSpan" id="kobo.548.1">
      environment variable tells your Bash shell where to find the full path to an executable program when you don’t include the path before
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.549.1">
       your command.
      </span>
     </span>
     <span class="koboSpan" id="kobo.550.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.551.1">
       echo
      </span>
     </strong>
     <span class="koboSpan" id="kobo.552.1">
      command prints the text inside quotes to the Terminal and the greater-than symbol (
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.553.1">
       &gt;
      </span>
     </strong>
     <span class="koboSpan" id="kobo.554.1">
      ) redirects the output to a file.
     </span>
     <span class="koboSpan" id="kobo.554.2">
      Notice that we use two greater-than symbols here to redirect the output.
     </span>
     <span class="koboSpan" id="kobo.554.3">
      If we were to use only one, it would overwrite the file contents.
     </span>
     <span class="koboSpan" id="kobo.554.4">
      We want to append to the file by
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.555.1">
       using two:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.556.1">$ echo "export PATH=$PATH:/usr/local/go/bin" &gt;&gt; ~/.bashrc</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.557.1">
      Source the file to enact
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.558.1">
       your changes:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.559.1">$ source ~/.bashrc</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.560.1">
      Check to ensure that
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.561.1">
       /usr/local/go/bin
      </span>
     </strong>
     <span class="koboSpan" id="kobo.562.1">
      has been appended to your
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.563.1">
       PATH
      </span>
     </strong>
     <span class="koboSpan" id="kobo.564.1">
      (look after the last
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.565.1">
       colon character):
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.566.1">$ echo $PATH</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.567.1">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/games:/usr/games:/usr/local/go/bin</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.568.1">
      Verify that Go has been installed properly and can be found in your
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.569.1">
       PATH
      </span>
     </strong>
     <span class="koboSpan" id="kobo.570.1">
      .
     </span>
     <span class="koboSpan" id="kobo.570.2">
      Your version and architecture
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.571.1">
       may vary:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.572.1">$ go version</span></strong>
<strong class="bold"><span class="koboSpan" id="kobo.573.1">go version go1.22.0 linux/arm64</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.574.1">
      Install
     </span>
     <a id="_idIndexMarker045">
     </a>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.575.1">
       pdtm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.576.1">
      from ProjectDiscovery.
     </span>
     <span class="koboSpan" id="kobo.576.2">
      This is
     </span>
     <a id="_idIndexMarker046">
     </a>
     <span class="koboSpan" id="kobo.577.1">
      the tool that installs and manages updates for all of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.578.1">
       ProjectDiscovery
      </span>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.579.1">
       ’s tools:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.580.1">$ go install -v github.com/projectdiscovery/pdtm/cmd/pdtm@latest</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.581.1">
      Add
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.582.1">
       pdtm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.583.1">
      to
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.584.1">
       your path:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.585.1">$ echo "export PATH=$PATH:$HOME/.pdtm/go/bin" &gt;&gt; ~/.bashrc</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.586.1">
      Run the following
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.587.1">
       pdtm
      </span>
     </strong>
     <span class="koboSpan" id="kobo.588.1">
      command to install
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.589.1">
       all tools:
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.590.1">$ pdtm -install-all</span></strong></pre>
    </li>
    <li>
     <span class="koboSpan" id="kobo.591.1">
      Install
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.592.1">
       libpcap
      </span>
     </strong>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.593.1">
       for
      </span>
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.594.1">
        naabu
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.595.1">
       :
      </span>
     </span>
     <pre class="source-code">
<strong class="bold"><span class="koboSpan" id="kobo.596.1">$ sudo apt install -y libpcap-dev</span></strong></pre>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.597.1">
     That wraps up installing all of the needed
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.598.1">
      ProjectDiscovery
     </span>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.599.1">
      tools.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-32">
    <a id="_idTextAnchor032">
    </a>
    <span class="koboSpan" id="kobo.600.1">
     Install NetExec
    </span>
   </h2>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.601.1">
      NetExec is a network service exploitation tool that helps automate assessing the security of large networks
     </span>
    </em>
    <span class="koboSpan" id="kobo.602.1">
     (
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.603.1">
      NetExec
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.604.1">
       wiki
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.605.1">
      ,
     </span>
    </span>
    <a href="https://www.netexec.wiki/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.606.1">
       https://www.netexec.wiki/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.607.1">
      ).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.608.1">
     In my opinion, NetExec is one
    </span>
    <a id="_idIndexMarker047">
    </a>
    <span class="koboSpan" id="kobo.609.1">
     of the most useful tools for internal network
    </span>
    <a id="_idIndexMarker048">
    </a>
    <span class="koboSpan" id="kobo.610.1">
     pentesting.
    </span>
    <span class="koboSpan" id="kobo.610.2">
     It supports most of the network protocols needed during internal network pentesting, plus Microsoft Active
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.611.1">
      Directory testing.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.612.1">
     There are far too many features to list here.
    </span>
    <span class="koboSpan" id="kobo.612.2">
     Some of the things I use NetExec for include
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.613.1">
      the following:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.614.1">
      Scanning for vulnerabilities; NetExec includes some useful modules to test for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.615.1">
       common vulnerabilities
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.616.1">
      Brute-force attacks on authentication to test for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.617.1">
       weak passwords
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.618.1">
      Spraying a password or password hash against servers to find where the supplied credentials have local
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.619.1">
       administrator access
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.620.1">
       Command execution
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.621.1">
       Gathering credentials
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.622.1">
      Enumerating SMB shares for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.623.1">
       read/write access
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.624.1">
     Enter the following
    </span>
    <a id="_idIndexMarker049">
    </a>
    <span class="koboSpan" id="kobo.625.1">
     command to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.626.1">
      install NetExec:
     </span>
    </span>
   </p>
   <pre class="console"><span class="koboSpan" id="kobo.627.1">
$ sudo apt install -y pipx git &amp;&amp; pipx ensurepath &amp;&amp; pipx install git+https://github.com/Pennyw0rth/NetExec</span></pre>
   <p>
    <span class="koboSpan" id="kobo.628.1">
     That wraps up the process of installing the most common pentesting tools that are not installed
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.629.1">
      by default.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-33">
    <a id="_idTextAnchor033">
    </a>
    <span class="koboSpan" id="kobo.630.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.631.1">
     In this chapter, you were introduced to the indispensable world of Bash shell scripting, a cornerstone skill for anyone aspiring to excel in pentesting.
    </span>
    <span class="koboSpan" id="kobo.631.2">
     This chapter began by demystifying what Bash is and underscoring its significance in cybersecurity tasks.
    </span>
    <span class="koboSpan" id="kobo.631.3">
     It wasn’t just about memorizing commands; it was about leveraging Bash to automate repetitive tasks, manipulate data, and conduct security assessments with efficiency.
    </span>
    <span class="koboSpan" id="kobo.631.4">
     The journey continued with guidance on selecting the appropriate operating system that supports Bash, setting the stage for successful scripting endeavors.
    </span>
    <span class="koboSpan" id="kobo.631.5">
     Then, we rolled up our sleeves to configure our hacker shell, customizing its appearance and behavior to reflect personal tastes and preferences.
    </span>
    <span class="koboSpan" id="kobo.631.6">
     This customization wasn’t just for aesthetics; it was about creating a functional and efficient working environment.
    </span>
    <span class="koboSpan" id="kobo.631.7">
     Finally, this chapter introduced essential pentesting tools, walking you through their installation and basic usage.
    </span>
    <span class="koboSpan" id="kobo.631.8">
     At this point, you're equipped with a well-prepared environment and a foundational understanding of how Bash scripting can significantly enhance your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.632.1">
      pentesting capabilities.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.633.1">
     The next chapter will cover techniques for working with files
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.634.1">
      and directories.
     </span>
    </span>
   </p>
  </div>
 </body></html>