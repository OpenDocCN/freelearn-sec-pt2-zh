- en: Server-Level Security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the previous chapter, we discussed how to build a secure network infrastructure.
    In this chapter, we will discuss how to build and ensure security for servers
    inside a secure network.
  prefs: []
  type: TYPE_NORMAL
- en: Server/computer security is a critical part of the infrastructure for running
    business smoothly. Information security has evolved over the years due to an increasing
    dependency on public networks not to disclose personal, financial, and other restricted
    information. Consequently, it becomes important to maintain data confidentiality,
    integrity and availability. This chapter focuses on securing data and implementing
    various policies to secure a server infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: 'We will cover the following topics in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Classification of data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Physical security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Disk encryption
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hardening server security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Authentication NTLM versus Kerberos
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Password policies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Server-level permissions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Server antivirus and malware protection
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Local security policies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Classification of data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The main motive for setting up IT infrastructure is to get your applications
    up and running. However, after classifying our assets, we need to address the
    security when it comes to one layer on a server specific infrastructure. In a
    big network of multi-vendor servers and multi-operating system environments, different
    sets of applications are expected. A grouping server based on role, permission,
    and operating system can address multiple security concerns.
  prefs: []
  type: TYPE_NORMAL
- en: Physical security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In most cases, physical access translates to a total loss of security. Even
    if they can''t access your data, an attacker can do a lot of damage. We''ll take
    a look at the most essential security measures everyone should implement, if they
    haven''t already been done:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Lock up the server room**:The server room is the power station of your physical
    network, and someone with physical access to the servers, switches, routers, cables,
    and other devices in that room can do enormous damage.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Set up surveillance**: You need a way to monitor who goes in and out, what
    they do and when they do it. A better solution is to set up biometric scanners
    that are required in order to unlock the doors, and the identity of each technician
    is then recorded. Surveillance cameras can monitor continuously, or they can use
    motion detection technology to record a person''s movement. They can even send
    an email or cell phone notification if motion is detected when it shouldn''t be.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Disable the drives**:Of course, for a protected environment, we don''t want
    anybody copying company information to removable media. You should simply disable
    or remove USB ports and other ways of connecting external drives.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Educate your employees**:Apart from technology, this is the most important
    factor behind security. It is necessary to train staff on security related issues
    such as password selection, social engineering tactics, and email phishing. This
    will make it almost impossible for an outsider to intrude.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Disk encryption
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It is important to secure any server that manages business critical data and
    its customers. The fact that servers reside in a secured facility doesn't prevent
    them from being at risk to data loss or theft. Sometimes storage drives in a server
    are misplaced during transportation, which can lead to data loss. Another example
    would be to prevent offline attacks. If data drives are stolen and inserted into
    another system to boot with another operating system, this basically bypasses
    the password protection. If that drive isn't encrypted, its information can be
    retrieved and exposed to unwanted audiences, leaving an organization at risk of
    regulatory violations, personal lawsuits, and damage to its corporate reputation.
  prefs: []
  type: TYPE_NORMAL
- en: Full-disk encryption
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let's explore the process in detail, looking at how the whole disk encryption
    works. Full disk encryption encrypts an entire disk drive. When an authenticated
    user accesses a file from a fully encrypted drive, the encryption technology decrypts
    the file using the decryption key provided at system startup, and the rest of
    the drive remains encrypted. This method ensures the protection of the hard drive
    if a system failure occurs or the system is deliberately shutdown. The primary
    goal of full disk encryption is that the drive and files remain encrypted during
    the system shutdown state. On a running system, the encryption is technically
    not in place for users to access files. This is because the operating system has
    the decryption key to access files on the disk.
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/cd8aa858-52d3-43f9-8689-ea9a6cffcec2.jpg)Full disk encryption is
    a perfect solution for devices like notebooks and desktops, which shutdown at
    some point. Full disk encryption helps to protect data in the event of the physical
    loss of a disk and makes more sense for portable devices.'
  prefs: []
  type: TYPE_NORMAL
- en: Bitlocker
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: BitLocker is Microsoft native technology that enables you to encrypt entire
    hard disks, including the operating system. To get the best results from BitLocker,
    a hardware system must be equipped with a **Trusted Platform Module** (**TPM**)
    chip. This is a special microchip that enables your device to support advanced
    security features. However, you can also use BitLocker without a TPM by using
    a software-based encryption.
  prefs: []
  type: TYPE_NORMAL
- en: 'The TPM chip 2.0 can be seen under security devices in the device manager:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/eeea5130-7947-4225-bf89-70be1c0a7430.png)'
  prefs: []
  type: TYPE_IMG
- en: Virtual Trusted Platform Module – vTPM
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Trusted Computing Group** (**TCG**) introduced TPM in 2009\. A **Trusted
    Platform Module** (**TPM**) is a microchip that is often built into the motherboard
    to provide hardware-based security. This can be also be added later for customized
    systems if your motherboard supports it. A TPM chip is a secure crypto-processor
    that is designed to carry out cryptographic operations. If you are using BitLocker
    encryption on a computer with the TPM, part of the key is stored in the TPM itself,
    rather than just on the disk. This means that an attacker can''t just remove the
    drive from the computer and attempt to access its files elsewhere.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In Windows server 2016 Hyper-v and Windows 10, you can enable vTPM into a VM.
    Virtual instance will be mapped to each VM, as shown in the following diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/1cc9c5aa-e00d-40fd-8b31-383c6dbcae39.png)'
  prefs: []
  type: TYPE_IMG
- en: 'This is what the hardware TPM chip looks like:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/6babc25c-7ada-4770-8fed-7f31f109d0a4.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Encrypt your Hyper-V Guest VMs
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In a virtualized environment, encrypting guest virtual machines is another layer
    of protection that you can add in Hyper-V. You may wonder what the need is for
    this if encrypting the Hyper-V host itself can protect against stolen physical
    disks. Enabling BitLocker inside your virtual machines protects against stolen
    virtual disks as well. For example, if an attacker manages to gain access to an
    online Hyper-V, host and VHDX or VHD files can be downloaded or stolen.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is the screenshot from Hyper-V 2016 in which the vTPM option is disabled
    by default. As soon you turn on the feature, it can share virtualized TPM instances
    with VMs:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/30cb6462-d061-4974-a669-67f42adfa866.png)'
  prefs: []
  type: TYPE_IMG
- en: Cloud VM disk encryption
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this diagram, I have taken a screenshot of the running Azure VM which shows
    a disk associated with a VM that is not encrypted (ENCRYPTION not enabled). Having
    said that, it also states that the disk is encrypted at rest with **Storage Service
    Encryption** (**SSE**). For more information, you can refer to Azure documentation.
    Rest is the default data protection technique achieved by encrypting the service
    provider''s full disk in order to protect data in case of physical theft or loss
    of the disk:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/e09838c1-f3cb-48cb-8ec2-e02e3b2e83b5.png)'
  prefs: []
  type: TYPE_IMG
- en: What is encryption at rest?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Encryption at rest refers to the cryptographic encoding of data when it is persevered
    on physical media. Encryption at rest is supposed to protect data from at rest
    attacks, including attempts to obtain physical media access where the data is
    stored. In such an attack, a server's hard drive may have been stolen or misplaced,
    allowing an attacker to recover data from the hard drive by putting it into a
    compute device of their own. Encryption at rest is designed to prevent critical
    data access by unauthorized persons by ensuring that the data remains encrypted
    when it resides on a disk. An attacker can obtain a hard drive with data in an
    encrypted format, but without access to the encryption keys, they would not be
    able to decode the data. Encryption at rest is highly recommended and is a high-priority
    requirement for many organizations, including cloud service providers, to allow
    them to comply with state law government regulations and industry standards such
    as HIPAA and PCI.
  prefs: []
  type: TYPE_NORMAL
- en: Google, Amazon, and Azure Cloud service providers encrypt customer data stored
    at rest by default, with no additional action required from you.
  prefs: []
  type: TYPE_NORMAL
- en: Hardening server security
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Most of us assume that systems or servers are already secure, and this might
    be a false assumption. Imagine if any system server, firewall or router is stolen
    without first being hardened. An attacker would probably first try to crack a
    targeted system with a default username and password. For a Linux based machine,
    my default username would be `root`*,* the password would be `root`, and most
    of us would continue to use it. Server hardening involves identifying and re-mediating
    security vulnerabilities. We will discuss server hardening and the best practices
    you can implement immediately in order to reduce the risk of attackers compromising
    your business's critical systems and data.
  prefs: []
  type: TYPE_NORMAL
- en: Check for open ports or services
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Identifying open ports on servers requires the port to be opened and unnecessary
    services to be disabled or shutdown. The server should have a minimal operating
    system configuration.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, run the following command using the Command Prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'The ouptu of the preceding command is as shown in the screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/4f606062-9e39-4ad5-9d3d-256915530d93.png)'
  prefs: []
  type: TYPE_IMG
- en: 'For Linux/Unix, run the following command using the shell prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![](Images/4c83620a-c0b7-4480-abd5-8aab6fdd40db.png)'
  prefs: []
  type: TYPE_IMG
- en: System firewall configuration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To restrict traffic based on firewall rules, traffic should only be allowed
    into ports that need to be open for services. For example, secure web servers
    will need to provide access to TCP port `443` to most users, but they do not need
    **Remote Desktop Protocol** (**RDP**) or **Secure Shell** (**SSH**) management
    access from all source IPs.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, you can configure new inbound and outbound rules using advanced
    security options:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/ae27dcf7-4b07-4ba0-a5a8-0b4b46eb87db.png)'
  prefs: []
  type: TYPE_IMG
- en: 'For Linux, `sudo iptables -L` lists your current rules in `iptables`. If you
    have just set up your server, you will have no rules and the output should be
    similar to the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/755345e6-210d-4528-b3df-fa0991a2aab9.png)'
  prefs: []
  type: TYPE_IMG
- en: System update
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The first thing to do after the first boot is to update the system. Critical
    updates should be applied as soon as possible. Be sure to test these updates in
    test environments. First, do this to confirm proper function. If there are no
    compatibility issues, you should then test them in production.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot is from 2016 Server, which you can update using the
    PowerShell prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/0ca73993-23f9-4606-9219-7f795e003e92.png)'
  prefs: []
  type: TYPE_IMG
- en: 'For Linux, you can run a command to fetch all updates:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![](Images/ecc81001-c78c-443b-b6b5-8b7df7d6247e.png)'
  prefs: []
  type: TYPE_IMG
- en: Disable USB
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Universal Serial Bus** (**USB**) connections are typically plug and play
    devices. For example, hard disks or pen drives for your computer. Being plug and
    play in nature, an operating system automatically identifies the device and installs
    a driver for it. Since USB devices are portable and can be connected easily to
    computers, these devices can cause real security threats. To prevent employees
    from saving sensitive information on USB drives, financial organizations do not
    allow USB devices. The system administrator can disable or block USB devices using
    group policy. We will now take a look at the steps on how to disable USB devices
    using group policy.'
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, from Group Policy Management Editor, you can enable All Removal
    Storage classes: Deny all access as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/60c4c44f-745a-44a6-9ada-f2494357a760.png)'
  prefs: []
  type: TYPE_IMG
- en: For Linux, you can edit this file by adding `blacklist usb_storage`.
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/796a7bc7-2e21-49e6-8d45-35fe8880d2d2.png)'
  prefs: []
  type: TYPE_IMG
- en: Hard disk encryption
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Disk encryption is important in the case of theft. This is because the attackers
    who stole your computer won't be able to decode your data if they connect the
    hard disk to their machine and try to retrieve the data. We have already discussed
    this option in detail in the *Full-disk encryption* section of this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: BIOS protection
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It is important to protect the BIOS of the system with a password so that attackers
    won't be able to use it to change security settings. You also need to disable
    the booting from external media devices (USB/CD/DVD). BIOS protection is only
    an authentication mechanism designed to prevent unauthorized physical access to
    BIOS. BIOS now comes with out-of-band access, meaning that, with the right hardware
    configuration, you have full remote access to your computer, no matter what state
    it is in.
  prefs: []
  type: TYPE_NORMAL
- en: Check the installed packages
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: List all packages installed on your operating system, and remove the unnecessary
    ones. Disabling unnecessary services will reduce the attack surface. Let's look
    at how to check installed packages on different OSes.
  prefs: []
  type: TYPE_NORMAL
- en: 'For Windows, run the following command from PowerShell in admin mode:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![](Images/7f977d2b-793a-4487-88d7-5e8ff58d1502.png)'
  prefs: []
  type: TYPE_IMG
- en: For Linux, Telnet comes with a default configuration. Do we need Telnet in a
    secured environment? Maybe, but personally I don't recommend using it in a secured
    environment because the data exchange used by a Telnet connection is in plain
    text.
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/754f8603-23a5-481a-a143-882695bc28e1.png)'
  prefs: []
  type: TYPE_IMG
- en: Password policies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Don't forget to protect your passwords and do not reuse them. Use a password
    policy to ensure that accounts on the server can't be compromised or broken by
    some sort of brute-force attack. If your server is a member of **Active Directory
    Domain Services** (**ADDS**), the password policy will be set at the domain level.
    We will discuss password policies in detail in an upcoming section.
  prefs: []
  type: TYPE_NORMAL
- en: Secure and encrypt remote access
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: SSH uses the cryptography process running at the backend, and therefore is considered
    very secure. However, you still need to harden this service as well. Make sure
    you are running the latest version of SSH protocol, and SSH sources can be further
    restricted with IP subnet. Remote Desktop sessions operate over an encrypted channel,
    preventing anyone from snooping your session on the network. However, there is
    a vulnerability in the method used to encrypt sessions in earlier versions of
    RDP. The best approach would be to update your software, restrict access using
    firewalls, and set an account lockout policy for additional security. You can
    also change your RDP port from `3389` to something else, using RDP gateways and
    then finally using 2FA.
  prefs: []
  type: TYPE_NORMAL
- en: Implement activity logging
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You need to make sure that your logs and monitoring are configured and are capturing
    the data you want so that whenever there is a problem, you can quickly discover
    who, when, and what you need to fix it. You must set up a centralized log management
    solution to monitor logs, server health like disk space, CPU, memory, and network
    activity.
  prefs: []
  type: TYPE_NORMAL
- en: Document the host information
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Finally, you should have proper documents which include host information such
    as the system name, IP address, MAC address, asset tag, and owner information.
  prefs: []
  type: TYPE_NORMAL
- en: Authentication NTLM versus Kerberos
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**NT LAN Manager** (**NTLM**) and Kerberos are both authentication protocols
    that do not play any role in terms of authorization. NTLM is a proprietary authentication
    protocol developed by Microsoft, whereas Kerberos is a standard protocol. Starting
    with Win2K, Microsoft implements Kerberos as the default authentication protocol
    for the Windows OS. However, if the Kerberos protocol is not negotiated for some
    reason, then **Active Directory** (**AD**) will use LM, NTLM, or **NTLM version
    2** (**NTLMv2**).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Kerberos is a cryptographic network protocol that works for authenticating
    users to resources, which involves a client, server, and a **Key Distribution
    Center** (**KDC**). Kerberos was named after Cerberus, the three-headed dog of
    Greek mythology, because of its three components. KDC has two components: an **Authentication
    Server** and a **Ticket Granting Service**, as well as the **Client** and the
    **Print Server** that the Client wants to access, as shown in the following diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/b627e6c4-7223-420c-b78a-1b7bce774efa.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Let''s try to understand the process step by step:'
  prefs: []
  type: TYPE_NORMAL
- en: For network domain authentication, a Client provides a username and a password,
    which is validated by the Authentication Server, a component of KDC.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The KDC grants a **Ticket Getting Ticket** (**TGT**) with a default duration
    of 10 hours.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When the client attempts to access the Print Server in the domain, the TGT is
    used to make the request instead of entering credentials again and again. The
    Client obtains a service ticket from the Ticket Granting Server, a component of
    KDC.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A service ticket is created for the Client and the Server that the Client wants
    to access. The service ticket consists of a ticket and a session key.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Client presents the service ticket to create a session with the service
    on the Server. The Server uses its key to decrypt the information from the TGS,
    and the Client is authenticated to the Server.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The major differences can be seen in the following table:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/b12f93ae-23c9-4557-8c12-b59b36099f33.png)System admins need to make
    sure they run Kerberos by default. In any scenarios where you need to turn on
    NTLM, it should be used with caution, keeping risks in mind.'
  prefs: []
  type: TYPE_NORMAL
- en: Password policies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Passwords are an important characteristic of computer security. A poorly constructed,
    weak password may result in unauthorized access or exploitation of organization
    IT resources. This password construction guideline applies to all passwords, including
    (but not limited to) user-level accounts, system-level accounts, web accounts,
    email accounts, and local router logins. On a Windows system, you can run `secpol.msc`
    from the Command Prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/1461fc27-69e3-45c0-ad72-3bf71e46feca.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Strong passwords have the following characteristics:'
  prefs: []
  type: TYPE_NORMAL
- en: They contain at least twelve alphanumeric characters
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: They contain both upper and lowercase letters
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: They contain at least one number (for example, 0-9)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: They contain at least one special character (for example, !$%^*()_+|~-=\`{}[]:";'?,/)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Following are some of the password policies we must remember:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Protect your password**:It is very challenging to remember your password
    without writing it down somewhere, so choose a strong password or passphrase that
    you will easily remember. If you have a lot of passwords, you can use password
    management tools or vaults, but make sure you choose a strong master key and remember
    it. Change your password periodically. Even if it hasn''t been compromised, you
    can set a policy to change the password every 90 days, as a standard guideline.
    Do not use the same password for multiple websites containing sensitive information.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Set a lockout policy**: We''ve all forgotten a password at some point, and
    it has taken a few tries to get back into the system. However, you should set
    an acceptable number of login attempts that when exceeded with unsuccessful attempts,
    will lock the user out. This will protect your system from any type of Brute-Force
    attack.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Enforce password history**:This security setting determines the number of
    unique new passwords that have to be associated with a user account before an
    old password can be reused. The value must be between zero and twenty four passwords
    on domain controllers.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Minimum password age**: This setting determines the minimum number of days
    a password must be in use before it can be changed. Only when the minimum password
    age expires are users allowed to change their password. This ensures that users
    don''t change their password too often. The value can be set between zero and
    nine hundred and ninety-nine days. The default value is one for domain controllers
    and zero for standalone servers.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Minimum password length**:This setting determines the minimum number of characters
    a password should contain. The value can be set between zero and fourteen. The
    default value is seven on domain controllers and zero on stand-alone servers.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Server-level permissions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In an organization, firstly you need to identify assets based on the type of
    server, where each server has a specific role to perform. Server-level roles are
    server-wide in their permissions scope. You can add server-level principals (server
    logins, user accounts, and Windows security groups) into server-level roles. Security
    groups can provide an efficient way to assign access to resources on your network:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Security groups in Active Directory**:User rights are assigned to a security
    group to determine what members of that group can do within the scope of a domain
    or forest. For example, default domain admins have full permission on all server
    parts of that specific domain irrespective of server roles. However, we can create
    user defined groups and add the required user account to that group to limit access.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Windows service accounts**: There are applications that run on Windows servers
    that need an account that is specific to that service. A service account helps
    in solving this problem and acts as a user identity that is associated with a
    service executable for the purpose of providing a security context for that service.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Server antivirus and malware protection
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Understanding the difference between malware, spyware, trojans, ransomware,
    scareware, and viruses is very important. For example, a computer virus is the
    most famous type of malware. *Malware* is short for malicious software or code
    and is used as a single term to refer to a virus, spyware, worm, and so on, written
    to disrupt, exploit, steal data, or disable computers over networks. It is important
    that all users know how to recognize and protect themselves from malware in all
    of its forms. By nature, computer viruses and worms spread by making copies of
    themselves. Most of us feel that a firewall does protect us from malware, but,
    in reality, normal stateful (we will discuss how stateful firewalls work in detail
    in the [Chapter 10](8f12cf3b-642b-4bef-a5ec-431ebeef98c9.xhtml), *Firewall Placement
    and Detection Techniques*) firewalls don't protect against malicious content on
    websites, but anti-malware protects servers and workstations. I would like to
    clarify here that next-generation firewalls come with antivirus and malware protection,
    but it has to be configured for the traffic you would like to inspect. You still
    need endpoint protection.
  prefs: []
  type: TYPE_NORMAL
- en: 'A robust antivirus software package is the primary layer of technological defenses
    that every personal and business computer system must have. Well-designed antivirus
    protection comes with several characteristics:'
  prefs: []
  type: TYPE_NORMAL
- en: Ransomware protection
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Malware protection
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Email security
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scan engine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Anti-keylogger
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The WannaCry ransomware outbreak infected millions of Windows based systems
    across the globe in May 2017\. WannaCry searches for and encrypts 176 different
    file types. The ransom note indicates that the payment amount will be doubled
    after three days. If payment is not made after seven days, it claims that the
    encrypted files will be deleted. WannaCry has affected individuals, as well as
    government organizations, hospitals, and universities. You can finally remove
    WannaCry using an antivirus software, but unfortunately this doesn't magically
    decrypt your files owing to a strong combined encryption of AES-128 with the RSA-2048
    being used.
  prefs: []
  type: TYPE_NORMAL
- en: To stay safe from WannaCry ransomware attacks, it's important to keep your software,
    especially your operating system, up to date. It is recommended to install a second
    layer of protection through an endpoint antivirus package.
  prefs: []
  type: TYPE_NORMAL
- en: Local security policies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Local security polices are specific to local systems or machines. This makes
    it possible to enforce many systems, user- and security-related settings, such
    as password policies, audit policies and user permissions. Most of the default
    policy settings in Windows are okay, but a few need adjustments for enhanced security. These
    policies can be modified using the local group policy editor, which normally contains
    account policies, local policies, firewalls, security, and so on. On a Windows
    system, you can access the policy editor by running the `gpedit.msc` command, using
    the Command Prompt. The following screenshot shows the Local Group Policy Editor:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/6296810d-a30e-45ef-a658-aeaf0eda9732.png)'
  prefs: []
  type: TYPE_IMG
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: No matter how secure your network infrastructure is and no matter what services
    your server runs, there are certain basic hardening techniques you must apply.
    In this chapter, we focused specifically on hardening steps that apply to any
    server. In particular, we discussed the physical security of server resources,
    followed by disk encryption techniques one can use for on-premises and cloud infrastructure.
    We have established that almost every server has some sort of internet-facing
    connectivity and has to be protected by antivirus and malware solutions. To complement
    these security solutions, we can also harden our servers and adjust local security
    polices and permissions. Finally, we discussed some server management techniques
    to restrict access to a specific set of IP addresses for SSH and RDP services.
  prefs: []
  type: TYPE_NORMAL
- en: Questions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: What is not a good practice associated with password policies?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deciding the maximum age of a password
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Restricting password reuse and history
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Encrypting passwords
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Changing a password every two years
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is not a feature of encryption?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Protecting data from unauthorized access during transmission
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Ensuring user authentication
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Ensuring data integrity
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Ensuring data corruption doesn't occur
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is not an encryption standard?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: AES
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: TES
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Triple DES
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: DES
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: What is the role of the Key Distribution Center?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It is used to distribute keys to everyone in the world
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: It is intended to reduce the inherent risks of exchanging keys
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All of the above
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: None of the above
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Ideally, what characters should you use in a password to make it strong?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Letters and numbers only
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Mixed case (upper and lower) characters
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Special characters
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All of the above
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Further reading
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For more information, you can refer to the following links:'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://www.kerberos.org/software/tutorial.html](https://www.kerberos.org/software/tutorial.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf](https://www.symantec.com/content/en/us/enterprise/white_papers/b-how-drive-encryption-works_WP_21275920.pdf)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/](https://blogs.msdn.microsoft.com/azuresecurity/2016/01/22/azure-disk-encryption-white-paper-updated/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
