<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Building a Vulnerable Web Application Lab</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">In learning about how web application vulnerabilities work, the first step is to have an environment for exploring such vulnerabilities, such as SQL Injection and Cross-Site Scripting. If this is the first time you are hearing about these types of vulnerabilities, don't worry; we will dive deeper into them later in this book.</p>
<p class="js-evernote-checked">In this chapter, I will show you how to install a vulnerable web application called <strong>Mutillidae</strong>. I know that the name sounds awkward; in fact, a Mutillidae is a type of ant (just in case you want to know what that word means).</p>
<p class="js-evernote-checked">In this chapter, you will learn how to install the application in either Windows or Ubuntu Linux; I will leave the choice up to you.</p>
<p class="js-evernote-checked">In this chapter, we will cover the following:</p>
<ul class="js-evernote-checked">
<li>Downloading Mutillidae</li>
<li>Installing Mutillidae on a Windows machine</li>
<li>Installing Mutillidae on a Linux Ubuntu host</li>
<li>Getting familiar with Mutillidae</li>
<li>Introducing the OWASP community</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Downloading Mutillidae</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">The best way to download Mutillidae is through <a href="https://sourceforge.net/">https://sourceforge.net/</a>. An older version of the web application also exists on the Metasploitable 2 <strong>virtual machine</strong> (<strong>VM</strong>). If you're wondering what Metasploitable is, it is another virtual machine, filled with vulnerabilities for security professionals to test.</p>
<p class="js-evernote-checked">It's always better to get the latest version from SourceForge, at <a href="https://sourceforge.net/projects/mutillidae/">https://sourceforge.net/projects/mutillidae/</a>:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/019bd9cb-5cbd-4770-b7bc-d393e10e40b5.png" style="width:41.92em;height:41.42em;" width="968" height="957"/></div>
<p class="js-evernote-checked">To download it, all you need to do is click on the <span class="packt_screen">Download</span> button, and you'll be ready for installation in both Windows and Linux. The latest version (at the time of writing this book) is 2.6; by the time you're reading, there will probably be a newer version, with more exciting functionalities. It's good to know that the owner of this application is always working on enhancing its features.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Mutillidae on Windows</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">Mutillidae can easily be installed on Windows operating systems. In this example, I will install it on Windows 7 (this is just a personal choice). </p>
<p class="js-evernote-checked">First, we will download and install XAMPP, which stands for Apache, MySQL, PHP, and Perl (the X at the beginning indicates that this application is cross-platform—some people call it WAMPP on Windows, replacing the X with W). So, as you may have guessed, after installing XAMPP, you will have Apache (web server), MySQL (database), and PHP (programming language).</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Downloading and installing XAMPP</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">To download XAMPP, browse to <a href="https://www.apachefriends.org/download.html">https://www.apachefriends.org/download.html</a>, then choose the latest version from the list, which is 7.1.10 in my case (see the following screenshot). Then, click on the <span class="packt_screen">Download</span> button to save it to your local Windows machine:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/b6c7f730-047e-47c6-9a0e-089728aac5a8.png" style="width:39.50em;height:30.50em;" width="860" height="665"/></div>
<p class="js-evernote-checked">Before we start installing XAMPP, we will change the Windows <span class="packt_screen">User Account Control settings</span>. To do so, open the <span class="packt_screen">Control Panel</span> and click on <span class="packt_screen">User Accounts</span>. When the new dialog box opens, click on <span class="packt_screen">Change User Account Control settings</span>:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/4f80a8e1-ebf5-4883-9199-c6fb8878d97d.png" style="width:42.50em;height:13.92em;" width="700" height="229"/></div>
<p class="js-evernote-checked">In the UAC window, you will need to drag the slider completely to the bottom and click on the <span class="packt_screen">OK</span> button to save the changes:</p>
<div class="CDPAlignCenter CDPAlign"><img src="Images/66344849-4d91-43b5-b477-f82349da7e58.png" style="width:38.00em;height:26.42em;" width="1995" height="1386"/></div>
<p class="js-evernote-checked">It's time to install XAMPP (or WAMPP). Double-click on the downloaded file to start the installation process, and in the first dialog window, click on the <span class="packt_screen">Next</span> button. In the next window, accept all of the default components, and click <span class="packt_screen">Next</span>:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/bc0094e0-1c5f-4c0e-a2e5-850565411724.png" style="width:35.92em;height:30.00em;" width="1380" height="1152"/></div>
<p class="js-evernote-checked">In the next step, you need to choose a folder to install XAMPP in. Generally, I leave it as the default path, <kbd>C:\xamp</kbd>, and then click on <span class="packt_screen">Next</span>.</p>
<p class="js-evernote-checked">After this, you will be prompted to choose whether you want to learn about Bitnami. I would leave the checkbox checked, and click on <span class="packt_screen">Next</span>.</p>
<p class="js-evernote-checked">At this stage, the setup is ready to begin installing XAMPP. Click on the last <span class="packt_screen">Next</span> button, and finally, you will see the installation dialog.</p>
<p class="js-evernote-checked">After the installation has completed, you will be asked whether you want to start the <span class="packt_screen">Control Panel</span>; leave it checked, so that we can start the services needed to install Mutillidae.</p>
<p class="js-evernote-checked">In the beginning, the services in the <span class="packt_screen">Control Panel</span> have been stopped. We will need to start Apache and MySQL by clicking on their <span class="packt_screen">Start</span> buttons:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img class="alignnone size-full wp-image-615 image-border" src="Images/63591aac-84a5-41c7-b440-a46a1d9bcf4b.png" style="width:50.00em;height:33.00em;" width="600" height="396"/></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Mutillidae installation</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">I'm assuming that you have already downloaded Mutillidae, as instructed previously in this chapter. Extract the compressed archive file, copy the <kbd>mutillidae</kbd> folder, and paste it into the <kbd>C:\xamp\htdocs</kbd> folder.</p>
<p class="js-evernote-checked">In order to access the Mutillidae site from the intranet, we will need to adjust the configuration file, <kbd>.htaccess</kbd>. Open the <kbd>Mutillidae</kbd> folder that you just copied, and the <kbd>.htaccess</kbd> file will be inside (use Notepad to open it):</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/0c7e9850-f04a-4c11-b991-58d6c2dd8209.png" style="width:43.83em;height:29.75em;" width="1995" height="1355"/></div>
<p class="js-evernote-checked">Since my network IP address range is <kbd>10.0.0.0/24</kbd>, I will add the line <kbd>Allow from 10.</kbd> in the <kbd>allow</kbd> section:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/655bb1e1-6fce-4558-ac02-7e7c90c11bdc.png" style="width:44.33em;height:17.58em;" width="1995" height="792"/></div>
<p class="js-evernote-checked">Open your browser and go to <kbd>http://[your machine IP]/mutillidae</kbd>. After the page loads, click on the <span class="packt_screen">setup/reset the DB</span> link, and Mutillidae will install. If everything is good, you will be told that no errors were detected when resetting the database.</p>
<p class="js-evernote-checked">Finally! The installation of Mutillidae is complete:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/2664da47-a2c7-4427-a105-027f12121713.png" width="1364" height="585"/></div>
<p class="js-evernote-checked">Check this out! We have a Mutillidae home page up and running, and it's screaming, <em>Hack me</em>, <em>please</em>:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/b0fe7c54-bbbc-4998-a881-aba43df70f47.png" style="width:40.67em;height:20.50em;" width="1313" height="663"/></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Installing Mutillidae on Linux</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">You probably hate Windows, so Linux is probably your favorite operating system, and you would prefer to install Mutillidae on Linux. In this section, I will use Ubuntu version 17.10 to install Mutillidae. If you have skipped the Windows installation section, let me tell you that you will need to install XAMPP on Linux before installing Mutillidae. Now, if you don't know what XAMPP is, don't worry; it refers to <span>Apache, MySQL, PHP, and Perl. The X at the beginning indicates that this application is cross-platform (it's also called LAMPP on Linux; the L stands for Linux). So, as you may have guessed, through installing XAMPP, you will have Apache (web server), MySQL (database), and PHP (programming language).</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Downloading and installing XAMPP</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked"><span>To download XAMPP, browse to</span> <a href="https://www.apachefriends.org/download.html">https://www.apachefriends.org/download.html</a>, <span>then choose the latest version from the list, which is 7.1.1, in my case (see the following screenshot). Then, click on the <span class="packt_screen">Download</span> button to save it locally to your machine:</span></p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/03495f32-9f43-4081-9e11-a16cc0557912.png" style="width:40.25em;height:31.75em;" width="954" height="753"/></div>
<p class="js-evernote-checked">Open the Terminal window and make sure that your current directory is where the file is located (in my case, it's the <kbd>Downloads</kbd> folder). Next, you need to give the installer permission to execute, by using the following command:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/f7952959-d25b-4b92-95dd-dd517825ffa5.png" style="width:42.17em;height:2.42em;" width="1404" height="80"/></div>
<p class="js-evernote-checked">Now that the installer has permission to execute, let's run it:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/abc9e436-28f8-49a4-a6f2-ad7ad028dd8d.png" style="width:42.08em;height:1.83em;" width="1296" height="56"/></div>
<p class="js-evernote-checked">After executing the installer, you will be prompted with a couple of questions; hit the letter <em>Y</em> to say yes and continue further:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/7404bd42-df55-4d71-a066-e960f89d9bd7.png" style="width:42.25em;height:24.58em;" width="1437" height="836"/></div>
<p class="js-evernote-checked"><span><span>Enter a final</span></span> <em>Y</em> <span><span>before starting the installation of XAMPP:</span></span></p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img class="alignnone size-full wp-image-619 image-border" src="Images/713bf0e4-3637-4f30-9c2a-f4af53ab6419.png" style="width:26.33em;height:8.08em;" width="1122" height="346"/></div>
<p class="js-evernote-checked"><span><span>Voila! XAMPP has been successfully installed on the Ubuntu machine:</span></span></p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/0fbb1f4b-f866-47b0-bb59-3c0729588aea.png" style="width:26.50em;height:1.17em;" width="958" height="43"/></div>
<p class="js-evernote-checked">Congratulations! You just finished installing XAMPP. Take note that LAMPP is installed on <kbd>/opt/lampp</kbd>, which is where you're going to manage your web projects.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Mutillidae installation</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked"><span>I'm assuming that you have already downloaded Mutillidae, as described previously. First, you will need to extract the compressed archive file. Right-click and select</span> <span class="packt_screen">Extract Here</span><span> from the menu.</span></p>
<p class="js-evernote-checked">Next, <span>copy the <kbd>mutillidae</kbd> folder into the </span><kbd>/opt/lampp/htdocs</kbd><span> folder:</span></p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/5caab246-5519-4339-8a7d-336f3024729e.png" style="width:42.00em;height:4.25em;" width="1609" height="162"/></div>
<p class="js-evernote-checked">After copying the <kbd>mutillidae</kbd> folder, change your directory to <kbd>/opt/lampp</kbd>, and start the XAMPP servers:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/d7338857-482d-4b88-9a87-48c0175546e8.png" style="width:30.67em;height:11.08em;" width="1215" height="441"/></div>
<p class="js-evernote-checked">Open the browser, type <kbd>http://[Ubuntu IP Address]/mutillidae</kbd>, and replace the IP address with your own local IP address on the Ubuntu host where you installed XAMPP. Or, simply use the localhost, if you're using the browser on your Ubuntu server. To get your local IP address on Linux, type the command <kbd>ifconfig</kbd> in your Terminal window:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/60a28ae2-b91a-418b-85b6-ece731326395.png" style="width:30.92em;height:20.33em;" width="943" height="621"/></div>
<p class="js-evernote-checked">Don't panic! When the page loads for the first time, it will ask you to set up the server. In order to do so, click on the <span class="packt_screen">setup/reset the DB</span> link, and Mutillidae will be installed on the XAMPP server:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/2d5b7bb2-e847-438b-b31f-7cd6eb0fe013.png" style="width:43.58em;height:19.25em;" width="1204" height="531"/></div>
<p class="js-evernote-checked">Perfect! Mutillidae is installed, with no errors, according to the pop-up message. All you need to do at this point is click on the <span class="packt_screen">OK</span> button, and you will be redirected to the Mutillidae home page. A<span>mazing,</span> right?</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using Mutillidae</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">Congratulations! You now have Mutillidae installed, on either Windows or Linux. You should be able to access it from any host on the intranet with the same subnet mask. I invite you to start getting familiar with the site by clicking around on the top and left menus. </p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">User registration</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">Let me give you a quick overview of how to start using Mutillidae.</p>
<p class="js-evernote-checked">First, let's register an account to use in our pen test, later in this book. On the top menu, click on the <span class="packt_screen">Login/Register</span> button, and you will be redirected to the login page:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/a03f2668-0a88-44dd-9777-0c84529f5c14.png" style="width:38.92em;height:21.67em;" width="722" height="402"/></div>
<p class="js-evernote-checked"><span>You guessed it! On this page, click on</span> <span class="packt_screen">Please register here</span> <span>to go to the registration page. Let's register a user,</span> <kbd>gus</kbd><span>, and a super secret password,</span> <kbd>password123</kbd>:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/96ab337e-2843-490e-82b1-870a30846e25.png" style="width:30.92em;height:15.58em;" width="607" height="306"/></div>
<p class="js-evernote-checked"><span>Finally, click on the</span> <span class="packt_screen">Create Account</span> <span>button to create the account:</span></p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/822bfcfd-45f3-455b-bb2a-c8eb2c5cf4a9.png" style="width:45.25em;height:30.08em;" width="1112" height="738"/></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Showing hints and setting security levels</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">This application is meant for web application professionals who want to practice web application type vulnerabilities. (For example, SQL Injection, Cross-Site Scripting, and so on. Don't worry; you will learn about them later in this book.) While practicing, Mutillidae offers you the option to display hints, in case you are blocked and you can't find the vulnerability that you are trying to solve.</p>
<p class="js-evernote-checked">First, on the top menu, click the <span class="packt_screen">Toggle Hints</span> button to enable/disable hints. Next, click on <span class="packt_screen">Show Popup Hints</span> to enable the pop-up hints, and you will notice that the text changes to <span class="packt_screen">Hide Popup Hints</span>, in case you change your mind and want to disable it again:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/03af9f7d-b57d-443e-a09f-2dc1d96dc5da.png" width="910" height="113"/></div>
<p class="js-evernote-checked">Also, you can change the complexity levels for hacking this application. By default, the security is set to 0 (completely vulnerable); click on the <span class="packt_screen">Toggle Security</span> button, and the level will change to 1 (client side active). Click one more time, and the level 5 will be active (server side). If you want to go back to level 0, click on <span class="packt_screen">Toggle Security</span> while you're in level 5, and it should go back to 1. I'm going to leave it on level 1 for the rest of this book.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Application reset</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">Things can go wrong, and the application can stop working. If this happens to Mutillidae, it means that your application is sick and needs some medication. No, I'm kidding! All you need to do is reset it. Resetting Mutillidae is simple; just click on the <span class="packt_screen">Reset DB</span> button on the top menu bar, and your application will become brand new again.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">OWASP Top 10</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">The <span><strong>Open Web Application Security Project</strong> (<strong>OWASP</strong>) is a community dedicated to helping people and organizations with application security topics. If you'll be working as an AppSec expert, then OWASP should be your bible; they have plenty of help sections that will make your life much easier. Just follow their guidelines and tutorials at</span> <a href="http://www.owasp.org">http://www.owasp.org</a><span>.</span></p>
<p class="js-evernote-checked">The OWASP community defined the Top 10 vulnerabilities related to web applications. As for Mutillidae, it dedicated a menu to these vulnerabilities. On the left menu, you will see the OWASP items organized by year (the latest is the OWASP Top 10 for 2017; see the following screenshot). OWASP always keeps this list updated with the latest web vulnerabilities:</p>
<div class="CDPAlignCenter CDPAlign js-evernote-checked"><img src="Images/6cf03c61-1c92-45b6-827e-19b3ccd152ae.png" width="1415" height="474"/></div>
<p class="js-evernote-checked">I have dedicated a whole chapter to these vulnerabilities, later in this book. For the time being, try to get familiar with the menu items.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p class="js-evernote-checked">Congratulations, folks! You've just finished the first chapter, and I hope that you enjoyed it and learned something new. Let's look at what we went over in this chapter:</p>
<ul class="js-evernote-checked">
<li>What Mutillidae is</li>
<li>How to download Mutillidae (and where to find it)</li>
<li>Installing XAMPP on Windows</li>
<li>Installing Mutillidae on Windows</li>
<li>Installing XAMPP on Ubuntu Linux</li>
<li>Installing Mutillidae on Ubuntu Linux</li>
<li>Registering a new user in Mutillidae</li>
<li>Showing hints in Mutillidae</li>
<li>What OWASP is, and how it is related to Mutillidae</li>
</ul>
<p class="js-evernote-checked">In the next chapter, you will learn how to install your penetration testing machine, Kali Linux.</p>


            </article>

            
        </section>
    </div>



  </body></html>