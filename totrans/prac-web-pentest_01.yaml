- en: Building a Vulnerable Web Application Lab
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In learning about how web application vulnerabilities work, the first step is
    to have an environment for exploring such vulnerabilities, such as SQL Injection
    and Cross-Site Scripting. If this is the first time you are hearing about these
    types of vulnerabilities, don't worry; we will dive deeper into them later in
    this book.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, I will show you how to install a vulnerable web application
    called **Mutillidae**. I know that the name sounds awkward; in fact, a Mutillidae
    is a type of ant (just in case you want to know what that word means).
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you will learn how to install the application in either Windows
    or Ubuntu Linux; I will leave the choice up to you.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Downloading Mutillidae
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Mutillidae on a Windows machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Mutillidae on a Linux Ubuntu host
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting familiar with Mutillidae
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introducing the OWASP community
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Downloading Mutillidae
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The best way to download Mutillidae is through [https://sourceforge.net/](https://sourceforge.net/).
    An older version of the web application also exists on the Metasploitable 2 **virtual
    machine** (**VM**). If you're wondering what Metasploitable is, it is another
    virtual machine, filled with vulnerabilities for security professionals to test.
  prefs: []
  type: TYPE_NORMAL
- en: 'It''s always better to get the latest version from SourceForge, at [https://sourceforge.net/projects/mutillidae/](https://sourceforge.net/projects/mutillidae/):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/019bd9cb-5cbd-4770-b7bc-d393e10e40b5.png)'
  prefs: []
  type: TYPE_IMG
- en: To download it, all you need to do is click on the Download button, and you'll
    be ready for installation in both Windows and Linux. The latest version (at the
    time of writing this book) is 2.6; by the time you're reading, there will probably
    be a newer version, with more exciting functionalities. It's good to know that
    the owner of this application is always working on enhancing its features.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Mutillidae on Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Mutillidae can easily be installed on Windows operating systems. In this example,
    I will install it on Windows 7 (this is just a personal choice).
  prefs: []
  type: TYPE_NORMAL
- en: First, we will download and install XAMPP, which stands for Apache, MySQL, PHP,
    and Perl (the X at the beginning indicates that this application is cross-platform—some
    people call it WAMPP on Windows, replacing the X with W). So, as you may have
    guessed, after installing XAMPP, you will have Apache (web server), MySQL (database),
    and PHP (programming language).
  prefs: []
  type: TYPE_NORMAL
- en: Downloading and installing XAMPP
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To download XAMPP, browse to [https://www.apachefriends.org/download.html](https://www.apachefriends.org/download.html),
    then choose the latest version from the list, which is 7.1.10 in my case (see
    the following screenshot). Then, click on the Download button to save it to your
    local Windows machine:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/b6c7f730-047e-47c6-9a0e-089728aac5a8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Before we start installing XAMPP, we will change the Windows User Account Control
    settings. To do so, open the Control Panel and click on User Accounts. When the
    new dialog box opens, click on Change User Account Control settings:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/4f80a8e1-ebf5-4883-9199-c6fb8878d97d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In the UAC window, you will need to drag the slider completely to the bottom
    and click on the OK button to save the changes:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/66344849-4d91-43b5-b477-f82349da7e58.png)'
  prefs: []
  type: TYPE_IMG
- en: 'It''s time to install XAMPP (or WAMPP). Double-click on the downloaded file
    to start the installation process, and in the first dialog window, click on the
    Next button. In the next window, accept all of the default components, and click
    Next:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/bc0094e0-1c5f-4c0e-a2e5-850565411724.png)'
  prefs: []
  type: TYPE_IMG
- en: In the next step, you need to choose a folder to install XAMPP in. Generally,
    I leave it as the default path, `C:\xamp`, and then click on Next.
  prefs: []
  type: TYPE_NORMAL
- en: After this, you will be prompted to choose whether you want to learn about Bitnami.
    I would leave the checkbox checked, and click on Next.
  prefs: []
  type: TYPE_NORMAL
- en: At this stage, the setup is ready to begin installing XAMPP. Click on the last
    Next button, and finally, you will see the installation dialog.
  prefs: []
  type: TYPE_NORMAL
- en: After the installation has completed, you will be asked whether you want to
    start the Control Panel; leave it checked, so that we can start the services needed
    to install Mutillidae.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the beginning, the services in the Control Panel have been stopped. We will
    need to start Apache and MySQL by clicking on their Start buttons:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/63591aac-84a5-41c7-b440-a46a1d9bcf4b.png)'
  prefs: []
  type: TYPE_IMG
- en: Mutillidae installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I'm assuming that you have already downloaded Mutillidae, as instructed previously
    in this chapter. Extract the compressed archive file, copy the `mutillidae` folder,
    and paste it into the `C:\xamp\htdocs` folder.
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to access the Mutillidae site from the intranet, we will need to adjust
    the configuration file, `.htaccess`. Open the `Mutillidae` folder that you just
    copied, and the `.htaccess` file will be inside (use Notepad to open it):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/0c7e9850-f04a-4c11-b991-58d6c2dd8209.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Since my network IP address range is `10.0.0.0/24`, I will add the line `Allow
    from 10.` in the `allow` section:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/655bb1e1-6fce-4558-ac02-7e7c90c11bdc.png)'
  prefs: []
  type: TYPE_IMG
- en: Open your browser and go to `http://[your machine IP]/mutillidae`. After the
    page loads, click on the setup/reset the DB link, and Mutillidae will install.
    If everything is good, you will be told that no errors were detected when resetting
    the database.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally! The installation of Mutillidae is complete:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/2664da47-a2c7-4427-a105-027f12121713.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Check this out! We have a Mutillidae home page up and running, and it''s screaming,
    *Hack me*, *please*:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/b0fe7c54-bbbc-4998-a881-aba43df70f47.png)'
  prefs: []
  type: TYPE_IMG
- en: Installing Mutillidae on Linux
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You probably hate Windows, so Linux is probably your favorite operating system,
    and you would prefer to install Mutillidae on Linux. In this section, I will use
    Ubuntu version 17.10 to install Mutillidae. If you have skipped the Windows installation
    section, let me tell you that you will need to install XAMPP on Linux before installing
    Mutillidae. Now, if you don't know what XAMPP is, don't worry; it refers to Apache,
    MySQL, PHP, and Perl. The X at the beginning indicates that this application is
    cross-platform (it's also called LAMPP on Linux; the L stands for Linux). So,
    as you may have guessed, through installing XAMPP, you will have Apache (web server),
    MySQL (database), and PHP (programming language).
  prefs: []
  type: TYPE_NORMAL
- en: Downloading and installing XAMPP
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To download XAMPP, browse to [https://www.apachefriends.org/download.html](https://www.apachefriends.org/download.html),
    then choose the latest version from the list, which is 7.1.1, in my case (see
    the following screenshot). Then, click on the Download button to save it locally
    to your machine:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/03495f32-9f43-4081-9e11-a16cc0557912.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Open the Terminal window and make sure that your current directory is where
    the file is located (in my case, it''s the `Downloads` folder). Next, you need
    to give the installer permission to execute, by using the following command:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/f7952959-d25b-4b92-95dd-dd517825ffa5.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now that the installer has permission to execute, let''s run it:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/abc9e436-28f8-49a4-a6f2-ad7ad028dd8d.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After executing the installer, you will be prompted with a couple of questions;
    hit the letter *Y* to say yes and continue further:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/7404bd42-df55-4d71-a066-e960f89d9bd7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Enter a final *Y* before starting the installation of XAMPP:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/713bf0e4-3637-4f30-9c2a-f4af53ab6419.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Voila! XAMPP has been successfully installed on the Ubuntu machine:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/0fbb1f4b-f866-47b0-bb59-3c0729588aea.png)'
  prefs: []
  type: TYPE_IMG
- en: Congratulations! You just finished installing XAMPP. Take note that LAMPP is
    installed on `/opt/lampp`, which is where you're going to manage your web projects.
  prefs: []
  type: TYPE_NORMAL
- en: Mutillidae installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I'm assuming that you have already downloaded Mutillidae, as described previously.
    First, you will need to extract the compressed archive file. Right-click and select
    Extract Here from the menu.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, copy the `mutillidae` folder into the `/opt/lampp/htdocs` folder:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/5caab246-5519-4339-8a7d-336f3024729e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'After copying the `mutillidae` folder, change your directory to `/opt/lampp`,
    and start the XAMPP servers:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/d7338857-482d-4b88-9a87-48c0175546e8.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Open the browser, type `http://[Ubuntu IP Address]/mutillidae`, and replace
    the IP address with your own local IP address on the Ubuntu host where you installed
    XAMPP. Or, simply use the localhost, if you''re using the browser on your Ubuntu
    server. To get your local IP address on Linux, type the command `ifconfig` in
    your Terminal window:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/60a28ae2-b91a-418b-85b6-ece731326395.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Don''t panic! When the page loads for the first time, it will ask you to set
    up the server. In order to do so, click on the setup/reset the DB link, and Mutillidae
    will be installed on the XAMPP server:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/2d5b7bb2-e847-438b-b31f-7cd6eb0fe013.png)'
  prefs: []
  type: TYPE_IMG
- en: Perfect! Mutillidae is installed, with no errors, according to the pop-up message.
    All you need to do at this point is click on the OK button, and you will be redirected
    to the Mutillidae home page. Amazing, right?
  prefs: []
  type: TYPE_NORMAL
- en: Using Mutillidae
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Congratulations! You now have Mutillidae installed, on either Windows or Linux.
    You should be able to access it from any host on the intranet with the same subnet
    mask. I invite you to start getting familiar with the site by clicking around
    on the top and left menus.
  prefs: []
  type: TYPE_NORMAL
- en: User registration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let me give you a quick overview of how to start using Mutillidae.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, let''s register an account to use in our pen test, later in this book.
    On the top menu, click on the Login/Register button, and you will be redirected
    to the login page:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/a03f2668-0a88-44dd-9777-0c84529f5c14.png)'
  prefs: []
  type: TYPE_IMG
- en: 'You guessed it! On this page, click on Please register here to go to the registration
    page. Let''s register a user, `gus`, and a super secret password, `password123`:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/96ab337e-2843-490e-82b1-870a30846e25.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Finally, click on the Create Account button to create the account:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/822bfcfd-45f3-455b-bb2a-c8eb2c5cf4a9.png)'
  prefs: []
  type: TYPE_IMG
- en: Showing hints and setting security levels
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This application is meant for web application professionals who want to practice
    web application type vulnerabilities. (For example, SQL Injection, Cross-Site
    Scripting, and so on. Don't worry; you will learn about them later in this book.)
    While practicing, Mutillidae offers you the option to display hints, in case you
    are blocked and you can't find the vulnerability that you are trying to solve.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, on the top menu, click the Toggle Hints button to enable/disable hints.
    Next, click on Show Popup Hints to enable the pop-up hints, and you will notice
    that the text changes to Hide Popup Hints, in case you change your mind and want
    to disable it again:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/03af9f7d-b57d-443e-a09f-2dc1d96dc5da.png)'
  prefs: []
  type: TYPE_IMG
- en: Also, you can change the complexity levels for hacking this application. By
    default, the security is set to 0 (completely vulnerable); click on the Toggle
    Security button, and the level will change to 1 (client side active). Click one
    more time, and the level 5 will be active (server side). If you want to go back
    to level 0, click on Toggle Security while you're in level 5, and it should go
    back to 1\. I'm going to leave it on level 1 for the rest of this book.
  prefs: []
  type: TYPE_NORMAL
- en: Application reset
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Things can go wrong, and the application can stop working. If this happens to
    Mutillidae, it means that your application is sick and needs some medication.
    No, I'm kidding! All you need to do is reset it. Resetting Mutillidae is simple;
    just click on the Reset DB button on the top menu bar, and your application will
    become brand new again.
  prefs: []
  type: TYPE_NORMAL
- en: OWASP Top 10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The **Open Web Application Security Project** (**OWASP**) is a community dedicated
    to helping people and organizations with application security topics. If you'll
    be working as an AppSec expert, then OWASP should be your bible; they have plenty
    of help sections that will make your life much easier. Just follow their guidelines
    and tutorials at [http://www.owasp.org](http://www.owasp.org).
  prefs: []
  type: TYPE_NORMAL
- en: 'The OWASP community defined the Top 10 vulnerabilities related to web applications.
    As for Mutillidae, it dedicated a menu to these vulnerabilities. On the left menu,
    you will see the OWASP items organized by year (the latest is the OWASP Top 10
    for 2017; see the following screenshot). OWASP always keeps this list updated
    with the latest web vulnerabilities:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/6cf03c61-1c92-45b6-827e-19b3ccd152ae.png)'
  prefs: []
  type: TYPE_IMG
- en: I have dedicated a whole chapter to these vulnerabilities, later in this book.
    For the time being, try to get familiar with the menu items.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Congratulations, folks! You''ve just finished the first chapter, and I hope
    that you enjoyed it and learned something new. Let''s look at what we went over
    in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: What Mutillidae is
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to download Mutillidae (and where to find it)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing XAMPP on Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Mutillidae on Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing XAMPP on Ubuntu Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Mutillidae on Ubuntu Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Registering a new user in Mutillidae
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Showing hints in Mutillidae
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What OWASP is, and how it is related to Mutillidae
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the next chapter, you will learn how to install your penetration testing
    machine, Kali Linux.
  prefs: []
  type: TYPE_NORMAL
