<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Application Security Pre-Engagement</h1>
                </header>
            
            <article>
                
<p><span>This chapter will introduce you to the application security pre-engagement process. There are a lot of considerations to think about before starting your penetration test activities. Be ready to work closely with a local lawyer to help you achieve this phase successfully and to avoid legal action against you in the future if you're a free lance consultant. If you're an employee and belong to the security team of your company, then you don't need a lawyer, in fact, you just need the approval of your manager.</span></p>
<p>Yes, this chapter is dedicated to freelance contractors, but that doesn't mean that you don't have to read it if you're an employee. In fact, as an employee, you will always deal with contractors and you must understand the nature of their business.</p>
<p><span>Here's the plan before you start your penetration testing activities:</span></p>
<div class="mce-root CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1052 image-border" src="Images/143a95d0-c76d-4fa8-bf80-5d549864848b.png" style="width:35.58em;height:32.83em;" width="1348" height="1243"/></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Introduction</h1>
                </header>
            
            <article>
                
<p><span>People think that web application penetration testing is a simple task, but it's not, it involves a lot of duties before starting the tests. The main activities for web application penetration testing would be:</span></p>
<ul>
<li><span><strong>Source Code Review or Static Code Analysis</strong>: This activity involves the analysis of the source code to identify bad security practices.</span></li>
<li><span><span><strong>Web Intrusion Test or Dynamic Code Analysis</strong>: This activity checks if the client's website is vulnerable to attacks like Cross-Site Scripting, SQL Injection, and so on.</span></span></li>
<li><span><strong>Infrastructure Test</strong>: This will involve the web server and the database server vulnerabilities assessment and exploitation if it's feasible.</span></li>
<li><span><strong>Information Gathering</strong>: In this activity, you will collect information about your client using the internet's resources. This test will reveal any data leakage to the public.</span></li>
</ul>
<p><span>This chapter will help you to learn how to sign all the necessary contracts before starting the tests. Also, you will learn how to estimate, scope, and schedule your tests before they start. A well-planned project will have the highest probability of success. Could you imagine an engineer building a house without the plans? So should be your projects!</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The first meeting</h1>
                </header>
            
            <article>
                
<p><span>Before the first meeting, you will need to prepare yourself to avoid unprofessional consequences. Make sure to respect the following checklist to help you achieve your goals successfully before the meeting:</span></p>
<ul>
<li><span>Make sure you memorize the full name of the person that you will meet</span></li>
<li><span>Plan your trip in advance to make sure you don't show up late for the meeting, and double check the date and time</span></li>
<li><span>Dress professionally even if you prefer the geek's look</span></li>
<li><span>Prepare your materials (for example, laptop) and any flyer that you're willing to share with the client</span></li>
<li><span>Prepare your speech so you sound professional when you talk about the subject</span></li>
<li><span>Plan the subjects that you want to talk about and write them down with respect to the meeting's time interval</span></li>
<li><span>Visit the customer's website to understand his business and to have an idea about his security awareness</span></li>
<li><span><span>Use your favorite search engine (for example, Google) for a quick lookup about your client by entering the company's name in the search box</span></span></li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">The day of the meeting with the client</h1>
                </header>
            
            <article>
                
<p><span>If this is an old client then this meeting is useless, at this stage you'll ignore this step and go directly to the next one, which is the contract preparation.</span></p>
<p><span>If you prepared yourself and studied the steps that I mentioned previously, this meeting should be a piece of cake for you. You arrive with your team at the front desk and ask for the name of the person that you are going to meet with no hesitation. Then your contact arrives and you shake their hand firmly with a smile, introducing the names of your team members. You arrive at the meeting room and you open your laptop, which you should've already tested before coming to this meeting. Now what? No worries! In the following list, I will show you all the details that you need to take into consideration:</span></p>
<ol>
<li>
<p><span>Introduce yourself and your team members (with their professional titles for example, <kbd>John Doe</kbd>, <kbd>Marketing Manager</kbd>) to the rest of the attendees of the meeting. Next, i</span><span>ntroduce your company:</span></p>
<ul>
<li><span>Company history.</span></li>
<li><span>Company location.</span></li>
<li><span>Company clients.</span></li>
<li><span>What it does (for example, specialized in web application security and so on).</span></li>
<li><span>Say something that attracts the attention of your client; for example, if your client is in the e-commerce business mention how successful your last e-commerce experience was. This task should be easy if you did your homework and checked out your client's interests before coming to this meeting.</span></li>
</ul>
</li>
<li>
<p><span>Explain your penetration testing methodology (what type of tests your team will support):</span></p>
<ul>
<li><span>Application Threat Modeling will give you a start on an architectural overview of your penetration test activities.</span></li>
<li><span><span>Web Application Infrastructure Tests will include the following servers; web servers and database servers (port mapping, vulnerabilities assessment, DOS). Also, this should cover all the servers related to the web application infrastructure such as FTP servers, Mail servers, Telnet servers, and SSH servers. Sometimes, compromising one server could lead to a complete ownership of the whole network if the targeted server allows global admin rights.</span></span></li>
<li><span>Code Review Tests show any vulnerabilities in the source code of your client's web application.</span></li>
<li><span>Web Application Intrusion Tests will allow you to test and attack the web application exactly like a hacker does. It's interesting to talk about the type of vulnerabilities that you will encounter during the test. For example, you can talk about the SQL Injection test and the importance of what your company takes into consideration when testing these kinds of vulnerabilities. You could mention that your team is well trained and follows the international standards of the OWASP methodology to conduct this type of test.</span></li>
<li><span>Information Gathering is a technique that penetration testers use to collect information about their client using internet resources. </span></li>
<li><span>Reporting is a crucial subject, and you should show and explain to your client a typical report template that you use after finishing the penetration tests.</span></li>
<li><span>Mention the tools that you're going to use for the tests to show your level of professionalism and how serious you are about finding vulnerabilities.</span></li>
</ul>
</li>
<li>
<p><span>Black-Box versus Gray-Box versus White-Box Testing:</span></p>
<ul>
<li><span><strong>White-Box</strong>: This is the test that you should recommend for your client if he's serious about the effectiveness of the test results. A White-Box will oblige your client to give you all the information needed to accomplish your test. This will include the Infrastructure Map (IP Addresses, Domain Names, and URLs) of the web application, including the source code and any necessary information that helps your team to achieve their goals. If you have access to all the necessary information, your team will be a step ahead of any attacker, outsider or insider.</span></li>
<li><span><span><strong>Gray-Box</strong>: This is sometimes acceptable due to the time concerns and budget of your client. A Gray-Box tester is given limited information about the company's infrastructure. This test should be able to partially cover an attack coming from an outside intruder or an inside employee.</span></span></li>
<li><span><strong>Black-Box</strong>: This test is not recommended, but it's your client's choice in the end. If you'll conduct this test, this means that your team will not be given any information about the company's infrastructure. Your team should test like any black hat hacker where the information is limited. Your job is to explain to the client the side effects of this kind of test and how it is important to have all the necessary information about their infrastructure.</span></li>
</ul>
</li>
<li>
<p><span>You need to let the customer know about the prices that you charge for the assessment and that the contract will contain all the approximate costs of the tests:</span></p>
<ul>
<li><span>Infrastructure test will be charged based on each server (web, database, FTP, and so on)</span></li>
<li><span>Code Review will be based on the number of lines of code</span></li>
<li><span>Web Application Intrusion tests will be based on the number of URLs and pages to be tested</span></li>
</ul>
</li>
<li><span>Inform your client about</span> the next steps<span>; this should let them know what you're going to do next, which is signing the <strong>Non-Disclosure Agreement</strong> (<strong>NDA</strong>) and the kick-off meeting as well. I will talk in detail about these two steps in the following sections. At the end of the meeting, tell your client to</span> organize <span>the kick-off meeting and agree on a date and time and mention that you'll wait for his meeting invitation.</span></li>
<li><span>Discuss with your client the</span> methods of transferring information<span>. It's preferable that you have a secure platform on the cloud that you can use to exchange files with your client (for example, the contract). All email communication should be signed and encrypted if necessary, to protect your client data and to show that you're serious when it comes to security.</span></li>
</ol>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Non-Disclosure Agreement</h1>
                </header>
            
            <article>
                
<p><span>At this stage, you need to consult an attorney in your local area before you proceed further, as the next step is the kick-off meeting, where confidential information will be exchanged between you and your client. To protect your company and your client, you need to sign an NDA contract to protect all the exchanged information that your client will trust giving to you.</span></p>
<p><span>To find a sample of an NDA check your country/region laws; for example, here in Canada we have a good site <kbd>LawDepot.ca</kbd> that has a large choice of law contract samples depending on your province.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Kick-off meeting</h1>
                </header>
            
            <article>
                
<p><span>Assuming that you already signed the NDA agreement that I talked about in the previous section, then you can proceed with the kick-off meeting. This event is very important for your penetration testing phase, as it will allow you to understand the complete infrastructure as well as the functionalities that the client's website supports. You should have asked your client, before this meeting, to prepare a demo with the stakeholders. It is a good idea to bring all the penetration testing team to this meeting so they will better understand the client's needs. A good comprehension of the client's architecture is the key to your success. This meeting could be longer depending on your client's infrastructure and the web site's complexity. Here are some important ideas to take into consideration for the success of this meeting:</span></p>
<ol>
<li>
<p><span>The client should show you an architecture document that demonstrates the infrastructure of the web application. This diagram should show a high-level overview of the <strong>Demilitarized Zone</strong> (<strong>DMZ</strong>) network. Ask all the necessary questions to understand all the contents of the infrastructure. Make sure that the client's diagram contains:</span></p>
<ul>
<li><span>All the servers; Web, Database, FTP, Telnet, SSH, Mail</span></li>
<li><span>The connection between the servers; HTTP/HTTPS/VPN</span></li>
<li><span>The diagram should show the internet-facing servers versus the intranet ones</span></li>
<li><span>It should show all the security infrastructure, including: Demilitarized Zone – DMZ/Firewall/Intrusion Detection System – IDS/Intrusion Prevention System – IPS/ Virtual Private Network – VPN/ Web Application Firewall – WAF / Routers / Switches</span></li>
</ul>
</li>
<li>
<p><span>The client should show you the web application functionalities and this should include the following areas:</span></p>
<ul>
<li><span>Guest area, which everyone can access </span></li>
<li><span>Authenticated area, which only authenticated users can access</span></li>
<li><span>Admin area, which only administrators can use</span></li>
</ul>
</li>
<li><span>Try to identify if the web application</span> interacts with <span>local</span> web services <span>and third party web services as well.</span></li>
</ol>
<ol start="4">
<li><span>The client's website architect should be present during the meeting to</span> demonstrate the application source code architecture<span>. In this meeting, you should also identify all the backend and frontend technologies such as ASP.NET or Java for the back-end and JavaScript / JQuery / Angular for the frontend.</span></li>
<li>At the end of this meeting, you need to ask the client to send you, securely, all the diagrams presented in this meeting (or exchange them using a secure USB) because you will need them for the following purposes:
<ul>
<li><span>Estimating the costs of the project</span></li>
<li><span>Estimating the scope of the project</span></li>
<li><span>Estimating the tests schedules</span></li>
<li><span>Signing and filling the official contracts</span></li>
<li><span>Preparing the Application Threat Modeling Document</span></li>
</ul>
</li>
</ol>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Time and cost estimation</h1>
                </header>
            
            <article>
                
<p><span>Time estimation is crucial; this will prove to your client how efficient and professional you are in the services that you're trying to offer. You don't want to waste the money and time of your client as well. You need to take multiple factors into consideration if you want to estimate your project time efficiently.</span></p>
<ul>
<li><span>The experience of the consultant is important because a senior consultant could take 5 hours to finish a penetration when a junior consultant could take 10 hours for the same test.</span></li>
<li><span>Always add a 15-20% risk after you estimate a project.</span></li>
<li><span>The kick-off meeting is the most important aspect of your time estimation. This meeting will reveal most of the obstacles that you may encounter during the tests.</span></li>
</ul>
<p><span>Assume that you have finished your kick-off meeting and the client has given you the following architecture diagram:</span></p>
<div class="mce-root CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1053 image-border" src="Images/659974eb-bf2c-496a-a967-d16745ed1cfc.png" style="width:166.25em;height:63.75em;" width="1995" height="765"/></div>
<p><span>Also, during the kick-off meeting, our application security expert took notes during the presentation of the client's website (<a href="http://www.clientdomain.com">www.clientdomain.com</a>):</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Page Complexity</strong></p>
</td>
<td>
<p><strong># of Pages</strong></p>
</td>
<td>
<p><strong>Estimation</strong></p>
</td>
<td>
<p><strong>Notes</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Very High</span></p>
</td>
<td>
<p><span>10</span></p>
</td>
<td>
<p><span>16 Hours/Page = 160 Hours</span></p>
</td>
<td>
<p><span>Critical pages with money transactions/admin pages</span></p>
</td>
</tr>
<tr>
<td>
<p><span>High</span></p>
</td>
<td>
<p><span>20</span></p>
</td>
<td>
<p><span>8 Hours/Page = 160 Hours</span></p>
</td>
<td>
<p><span>Dynamic pages with a lot of input controls/query string</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Medium</span></p>
</td>
<td>
<p><span>50</span></p>
</td>
<td>
<p><span>4 Hours/Page = 200 Hours</span></p>
</td>
<td>
<p><span>Dynamic pages with few input controls</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Low</span></p>
</td>
<td>
<p><span>15</span></p>
</td>
<td>
<p><span>1 Hour/Page = 15 Hours</span></p>
</td>
<td>
<p><span>Static pages</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>Next, the client's architect showed our team the code source structure and how they implemented the security in place. Our specialized penetration tester in .NET took some notes from the presentation. The aim of this practice is to be able to spot any complex issues that the testers could encounter and avoid surprises during the tests:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Item</strong></p>
</td>
<td>
<p><strong>Notes</strong></p>
</td>
<td>
<p><strong>Estimation</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Configuration</span></p>
</td>
<td>
<p><span><kbd>web.config</kbd> contains non-encrypted critical data. The file needs to be checked out.</span></p>
</td>
<td>
<p><span>4 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Critical Data Configuration</span></p>
</td>
<td>
<p><span>The database is saving credit cards and credentials without taking into consideration the latest security best practices.</span></p>
</td>
<td>
<p><span>8 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Logging</span></p>
</td>
<td>
<p><span>Exceptions stack trace is saved into the database. This information should be reviewed. </span></p>
</td>
<td>
<p><span>4 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Technology Concerns</span></p>
</td>
<td>
<p><span>The client is not using the latest .NET framework best practices.</span></p>
</td>
<td>
<p><span>N/A</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Critical Classes that need to be tested manually</span></p>
</td>
<td>
<p><span>150 classes need to be evaluated manually.</span></p>
</td>
<td>
<p><span>2Hours/Class:</span></p>
<p><span>300 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Numbers lines of codes </span></p>
</td>
<td>
<p><span>10,000 lines of code approximately.</span></p>
</td>
<td>
<p><span>1 Day – 8 Hours / 1000 Lines of code:</span></p>
<p><span>80 Hours – 10 Days</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>After having read and analyzed the preceding infrastructure diagram, our penetration testers wrote the following table during the meeting:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Server Type</strong></p>
</td>
<td><strong>Address</strong></td>
<td>
<p><strong>Estimation</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Web – IIS Server 8.0</span></p>
</td>
<td>
<p><span>10.100.100.100</span></p>
</td>
<td>
<p><span>3 Days – 24 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>FTP – Microsoft Server 2012</span></p>
</td>
<td>
<p><span>10.100.100.100</span></p>
</td>
<td>
<p><span>3 Days – 24 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Telnet – Microsoft Server 2012</span></p>
</td>
<td>
<p><span>10.100.100.100</span></p>
</td>
<td>
<p><span>3 Days – 24 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><span>DB – MS SQL Server 2012</span></p>
</td>
<td>
<p><span>10.0.0.201</span></p>
</td>
<td>
<p><span>5 Days – 24 Hours</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>Finally, our team was able to have a global estimation of the project and could give the cost to the client in the statement of work as follows:</span></p>
<ul>
<li><span><strong>Web Application Intrusion Test</strong>: 160 +160 + 20 + 15 = 355 Hours</span></li>
<li><span><span><strong>Code Review</strong>: 4 + 8 + 4 + 300 + 80 = 396 Hours</span></span></li>
<li><span><strong>Infrastructure</strong></span>: <span>3 + 3 +3 + 5 = 14 Hours</span></li>
<li><span><strong>Application Threat Modeling</strong>: 16 Hours</span></li>
<li><span><strong>Information Gathering</strong>: 9 Hours</span></li>
<li><span><strong>Total</strong></span>: <span>790 Hours </span></li>
</ul>
<p><span>And this will give the following final estimation results:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Item</strong></p>
</td>
<td>
<p><strong>Number</strong></p>
</td>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><strong>Cost 100$/Hour</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Website Intrusion Test</span></p>
</td>
<td>
<p><span>1 website</span></p>
</td>
<td>
<p><span>355 Hours</span></p>
</td>
<td>
<p><span>35,500$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Servers Infrastructure Test</span></p>
</td>
<td>
<p><span>2 Physical Servers</span></p>
</td>
<td>
<p><span>14 Hours</span></p>
</td>
<td>
<p><span>1,400$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Application Threat Modeling</span></p>
</td>
<td>
<p><span>1 Document</span></p>
</td>
<td>
<p><span>16 Hours</span></p>
</td>
<td>
<p><span>1,600$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Code Review</span></p>
</td>
<td>
<p><span>10000 Lines of code</span></p>
</td>
<td>
<p><span>396 Hours</span></p>
</td>
<td>
<p><span>39,600$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Information Gathering</span></p>
</td>
<td>
<p><span>NA</span></p>
</td>
<td>
<p><span>9 Hours</span></p>
</td>
<td>
<p><span>900$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Total</span></p>
</td>
<td/>
<td>
<p><span>790 Hours</span></p>
</td>
<td>
<p><span>79,000$</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>You will probably look at these numbers and say; that's so expensive! From my experience, I can tell you that scanners generate false positive results (a lot of them); your role is to identify them, and that takes a lot of time. If you want to give your client the generated reports from your scanners, that's called unprofessional. Quality work costs money and time.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Statement of work</h1>
                </header>
            
            <article>
                
<p><span>This document is a formal agreement for you as a penetration tester to start your work. The purpose of this document is to define:</span></p>
<ul>
<li><span>The expectations from the client</span></li>
<li><span>The scope of work</span></li>
<li><span>The schedule of the work</span></li>
<li><span>The pricing</span></li>
<li><span>The deliverables at the end of all the penetration tests</span></li>
<li><span>The payment terms</span></li>
<li><span>The legal agreements</span></li>
<li><span>Finally, the signatures</span></li>
</ul>
<p><span>Of course, you can add your custom contents if you feel that this information is not enough. Tweak it to your liking and experience. In the following, you will see a sample of a statement of the work contract.</span></p>
<p><strong>Statement of work – Web Application Penetration Test</strong>:</p>
<pre><span>For [Client Company Name]<br/></span><span>[Date]</span></pre>
<p><strong>Contents</strong>:</p>
<ol>
<li><span>Description</span></li>
<li><span>Expectations</span></li>
<li><span>Scope</span></li>
<li><span>Schedule</span></li>
<li><span>Pricing estimation</span></li>
<li><span>Deliverables</span></li>
<li><span>Payment Terms</span></li>
<li><span>Agreement</span></li>
<li><span>Signatures</span></li>
</ol>
<p><strong>Description</strong>:</p>
<p><span>[Your Company Name] will undertake all the necessary tasks to help the customer meet business requirements for confidentiality, integrity, and availability of its web application with the aim of achieving business goals on delivering results and good services for its clients.</span></p>
<p><span>[Your Company Name] shall provide a web application penetration testing service to [Client Company Name]. The service will cover all the necessary security tests needed to protect [Client Company Name]'s website. [Your Company Name] will visit the customer site to conduct all the penetration test activities and attempt to test all the false positives by exploiting all the founded vulnerabilities.</span></p>
<p><span>By the end of the security tests, [Your Company Name] will present to [Client Company Name] a professional report that shows all the residual vulnerabilities in its web infrastructure. [Your Company Name] will make sure that this report is clear and concise for the client's needs.</span></p>
<p><strong>Expectations</strong>:</p>
<ul>
<li><span>A Penetration Testing Agreement will be signed by [Client Company Name] before starting each test. This agreement will give the authorization to [Your Company Name] to conduct each appropriate security test.</span></li>
<li><span>[Your Company Name] will be given a room at the client's firm to conduct the penetration tests. The room should be private and closed for confidentiality. Access to the washroom should be allowed for the consultants. The client should make sure that each of the penetration testers has an access card to enter the client's company facilities.</span></li>
<li><span>[Your Company Name] will be given all the documents and information necessary to facilitate the penetration tests.</span></li>
<li><span>A primary contact from [Client Company Name] should always be available to assist the penetration testers for any questions regarding the tasks that they are trying to accomplish.</span></li>
<li><span>The services offered by [Your Company Name] aim to improve its client's security posture. These services cannot eliminate all the risks by unauthorized or authorized parties to affect the environment.</span></li>
<li><span>[Client Company Name] should understand that the security test activities could lead unintentionally to disruption of services because of the aggressiveness of tools used during the tests. [Your Company Name] is not responsible for any service interruption.</span></li>
<li><span>[Client Company Name] will agree to paying any additional services (for example, Training).</span></li>
</ul>
<p><strong>Scope</strong>:</p>
<p><span>This project will include multiple penetration testers that will make sure to test the web application and its infrastructure. [Your Company Name] will offer all the necessary tools and expertise to conduct the penetration tests.</span></p>
<p><span>[Your Company Name] will attempt to conduct the penetration tests using the following methodologies:</span></p>
<ul>
<li><span><strong>Application Threat Modeling</strong>: Once [Your Company Name] finishes the kick-off meeting with the client, [Your Company Name] will prepare an Application Threat Modeling Architecture document to [Client Company Name] to identify, quantify, and address the security risks before starting the penetration testing activities.</span></li>
<li><span><strong>Code Review</strong>: The client will make sure to hand a copy of the source code to [Your Company Name] in order to conduct a security code review (Static Code Analysis). [Your Company Name] will make sure to use all the necessary tools to identify all the security bad practices that lead to security risks.</span></li>
<li><span><strong>Web Application Intrusion Test</strong>: [Client Company Name] will give all the necessary information about its website, including URLs and different accounts credentials, to the consultants in charge of the penetration tests. [Your Company Name] will try to compromise and exploit the vulnerabilities found during the intrusion tests.</span></li>
<li><span><strong>Infrastructure Test</strong>: Any servers associated with the web application for [Client Company Name] will be scanned for vulnerabilities. Tools and techniques will be used for vulnerabilities assessment to make sure that these servers are not risky.</span></li>
<li><span><strong>Information Gathering</strong>: This activity will help [Client Company Name] to identify any information leakage on the web.</span></li>
<li><span><strong>Reporting:</strong> [Your Company Name] will record each security tests mentioned previously. [Your Company Name] will provide a professional report that helps its client to identify and quantify all the risks in their web application infrastructure.</span></li>
</ul>
<p><strong>Schedule</strong>:</p>
<p><span>Each test mentioned above in the <em>Services Overview</em> section will take approximately 5 business days to complete. A final report will be provided within approximately 2 weeks after the completion of the tests. [Your Company Name] and [Client Company Name] will identify the start day within 30 days of this contract being signed. A business day is from Monday to Friday, 8:00 A.M. to 5:00 P.M., [Client Company Name]'s local time, excluding [Your Company Name]'s official holidays.</span></p>
<p><strong>Pricing estimation</strong>:</p>
<p><span>[Your Company Name] will do all the necessary work to conduct the security test in order to achieve a better security posture for its client. [Your Company Name] will charge [Client Company Name] 100$ per hour for the work to be accomplished. To  successfully achieve this goal, the following services will be offered:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Item</strong></p>
</td>
<td>
<p><strong>Number</strong></p>
</td>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><strong>Cost 100$/Hour</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Website Intrusion Test</span></p>
</td>
<td>
<p><span>1 website</span></p>
</td>
<td>
<p><span>355 Hours</span></p>
</td>
<td>
<p><span>35,500$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Servers Infrastructure Test</span></p>
</td>
<td>
<p><span>2 Physical Servers</span></p>
</td>
<td>
<p><span>14 Hours</span></p>
</td>
<td>
<p><span>1,400$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Application Threat Modeling</span></p>
</td>
<td>
<p><span>1 Document</span></p>
</td>
<td>
<p><span>16 Hours</span></p>
</td>
<td>
<p><span>1,600$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Code Review</span></p>
</td>
<td>
<p><span>10000 Lines of code</span></p>
</td>
<td>
<p><span>396 Hours</span></p>
</td>
<td>
<p><span>39,600$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Information Gathering</span></p>
</td>
<td>
<p><span>NA</span></p>
</td>
<td>
<p><span>9 Hours</span></p>
</td>
<td>
<p><span>900$</span></p>
</td>
</tr>
<tr>
<td>
<p><span>Total</span></p>
</td>
<td/>
<td>
<p><span>790 Hours</span></p>
</td>
<td>
<p><span>79,000$</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><strong>Deliverables</strong>:</p>
<p><span>[Your Company Name] will conduct all the necessary security tests mentioned in this document. By the end of all the tests, our team will make sure to deliver a report to [Client Company Name] by using a secure communication of file transfer.</span></p>
<p><strong>Payment Terms</strong>:</p>
<p><span>[Client Company Name] will pay [Your Company Name] within 30 days after receipt of an invoice. An initial 50% of the total price will be billed after signing this contract.</span></p>
<p><strong>Agreement</strong>:</p>
<p><span>[In this section you list all the legal agreements that your company is expecting from its services with the client, it's a good idea to check with a local lawyer when filling this section.]</span></p>
<p><strong>Signatures</strong>:</p>
<p><span>[Your Company Name] and [Client Company Name] should agree on this document and sign it below.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Penetration Test Agreement</h1>
                </header>
            
            <article>
                
<p><span>This contract will list all the necessary information to allow you and the consultants that work for you to conduct and execute the penetration testing activities. The following shows a sample contract with these titles:</span></p>
<ul>
<li><span>The contract brief description</span></li>
<li><span>Your main contacts and the main client contacts</span></li>
<li><span>How confidential information is going to be exchanged</span></li>
<li><span>Different penetration testing activities with details</span></li>
<li><span>Limits of responsibility in case of something bad happening</span></li>
<li><span>Finally, the signature of the contract</span></li>
</ul>
<p><strong>Web Application Penetration Test Agreement</strong>:</p>
<pre><span>For [Client Company Name]<br/></span><span>[Date]</span></pre>
<p><strong>Contents</strong>:</p>
<ol>
<li><span>Description</span></li>
<li><span>Contacts</span></li>
<li><span>Exchange of confidential information</span></li>
<li><span>Web Application Intrusion Test</span></li>
<li><span>Code review</span></li>
<li><span>Infrastructure security test</span></li>
<li><span>Information Gathering</span></li>
<li><span>Limits of responsibility</span></li>
<li><span>Signatures</span></li>
</ol>
<p><strong>Description</strong>:</p>
<p><span>This document describes the application penetration testing activities execution for [Client Company Name].  This document identifies the contacts of each party and the exchange of confidential information. This document will list all the necessary information to allow our consultants to conduct the penetration testing job. </span></p>
<p><strong>Contacts</strong>:</p>
<pre><span>[Your Company Name] Contact:<br/></span><span>Miss [Jane Doe] <br/></span><span>Title: Application Security Coordinator<br/></span><span>Phone: [111222 3333]<br/></span><span>Email: [email@yourcompany.com]<br/></span><span>[Your Company Name] Contact:<br/></span><span>Mr. [Joe Xing]<br/></span><span>Title: Application Security Manager<br/></span><span>Phone: [111222 4444]<br/></span><span>Email: [email@yourcompany.com]<br/></span><span>[Client Company Name] Contact:<br/></span><span>Mr. [Don Moe]<br/></span><span>Title: IT Manager<br/></span><span>Phone: [111333 5555]<br/></span><span>Email: [email@clientcompany.com]<br/></span><span>[Client Company Name] Contact:<br/></span><span>Mr. [Jenny Doe]<br/></span><span>Title: Administrative Assistant<br/></span><span>Phone: [111333 6666]<br/></span><span>Email: [email@clientcompany.com]</span></pre>
<p><strong><span>Exchange of confidential information</span></strong>:</p>
<p><span>For the confidential information, we will put in place a secure platform on the cloud where [Your Company Name] and [Client Company Name] can securely upload and download all the necessary documents to accomplish the penetration tests.</span></p>
<p><span>To access the cloud environment, go to: <kbd>[www.your-secure-environment.com]</kbd></span><span>.</span></p>
<p><span>[Client Company Name] will be given a username and password through a secured email.</span></p>
<p><strong>Web Application Intrusion Test</strong>:</p>
<p><span>In order to successfully execute the Web Application Intrusion Test, [Client Company Name] shall hand all the necessary information to [Your Company Name]'s consultants:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Website</strong></p>
</td>
<td>
<p><kbd><span>http://www.yourclientdomain.com</span></kbd></p>
</td>
</tr>
<tr>
<td>
<p><strong>Login Credentials</strong></p>
</td>
<td>
<p><span>Will be sent securely to the cloud platform</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Start Date</strong></p>
</td>
<td>
<p><span>1/Feb/2017</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><span>355 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Constraints</strong></p>
</td>
<td>
<p><span>No denial of service</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Test Tools</strong></p>
</td>
<td>
<p><span>Burp Suite</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Methodology</strong></p>
</td>
<td>
<p><span>OWASP Guidelines</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Notes</strong></p>
</td>
<td>
<p><span>N/A</span></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Code Review</strong>:</p>
<p><span>[Your Company Name] will conduct a security code review and [Client Company Name] shall present all the necessary information:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Application</strong></p>
</td>
<td>
<p><kbd><span>http://www.yourclientdomain.com</span></kbd></p>
</td>
</tr>
<tr>
<td>
<p><strong>#Lines of Code</strong></p>
</td>
<td>
<p><span>10000</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Contents</strong></p>
</td>
<td>
<p><span>The source will be uploaded securely to the cloud platform</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Start Date</strong></p>
</td>
<td>
<p><span>15/Feb/2017</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><span>396 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Constraints</strong></p>
</td>
<td>
<p><span>N/A</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Test Tools</strong></p>
</td>
<td>
<p><span>Veracode</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Notes</strong></p>
</td>
<td>
<p><span>Some manual testing should be done</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><strong>Infrastructure Security Test</strong>:</p>
<p><span>[Your Company Name] will conduct all the necessary security tests for each server related to the web application. [Client Company Name] shall present all the necessary information:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Servers</strong></p>
</td>
<td>
<p><span><strong>Web:</strong> IIS Server 8.0: <kbd>10.100.100.100</kbd></span></p>
<p><span><strong>FTP:</strong> Microsoft Server 2012: <kbd>10.100.100.100</kbd></span></p>
<p><span><strong>Telnet:</strong> Microsoft Server 2012: <kbd>10.100.100.100</kbd></span></p>
<p><span><strong>DB:</strong> MS SQL Server 2012: <kbd>10.0.0.201</kbd></span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Start Date</strong></p>
</td>
<td>
<p><span>1/Jan/2017</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><span>14 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Constraints</strong></p>
</td>
<td>
<p><span>N/A</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Test Tools</strong></p>
</td>
<td>
<p><span>Nessus and Metasploit</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Notes</strong></p>
</td>
<td>
<p><span>[Your Company Name] will wait for the signature of the server's asset manager</span></p>
</td>
</tr>
</tbody>
</table>
<p><strong>Information Gathering</strong>:</p>
<p><span>[Your Company Name] will use internet resources to collect information about [Client Company Name]. This activity will help [Client Company Name] to identify any information leakage on the internet:</span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Start Date</strong></p>
</td>
<td>
<p><span>15/Jan/2017</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Duration</strong></p>
</td>
<td>
<p><span>9 Hours</span></p>
</td>
</tr>
<tr>
<td>
<p><strong>Notes</strong></p>
</td>
<td>
<p><span>N/A</span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><strong>Limits of responsibility</strong>:</p>
<p><span>[it's a good idea to check with a local lawyer when filling in this section]</span></p>
<p><strong>Signatures</strong>:</p>
<p><span>[Your Company Name] and [Client Company Name] should agree on this document and sign it below.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">External factors</h1>
                </header>
            
            <article>
                
<p><span>There is always a possibility that your client's application will interact with third-party services and a remote infrastructure. As I mentioned previously, you need a lawyer by your side to advise you about your tests. You need to ask your client the following important questions regarding the third parties that he deals with.</span></p>
<p><span>Does your client application interact with the third-party web service? If the answer is yes, then you need to ask your client's permission to investigate the third-party activities. If your client agrees, then you need to ask them to organize a meeting with the third-party's representative. During the interview with the third party, ask the following questions:</span></p>
<ul>
<li><span>Does the third party collect information about your client? If yes, what is that information?</span></li>
<li><span>What is the authentication mode used for the web services? You want to make sure that the third party is offering a secure authentication mechanism.</span></li>
<li><span>Where is the application hosted? If the application is hosted in a foreign country, then you need to check the regulations of privacy in that country.</span></li>
<li><span>How is the communication secured (HTTP and HTTPS)? This question will ensure that the information in transit is confidential.</span></li>
</ul>
<p><span>If the third party (your client-supplier) holds sensitive information about your client, then you need to dig deeper and ask the following questions:</span></p>
<ul>
<li><span>Do you conduct security static and dynamic security tests on your server? If the answer is yes, then ask the supplier for a high-level report of these tests.</span></li>
<li><span>How do you communicate with clients in case of a security patch?</span></li>
<li><span>How often do you release a new version into production?</span></li>
<li><span>How do you handle it when a client calls your support officer? In this question, you want to make sure that the support agent will identify your client in a secure way.</span></li>
</ul>
<p><span>Is your client's application hosted in the cloud? If the answer is yes, then you need to ask the cloud service's permission for penetration testing:</span></p>
<ul>
<li><span>For <strong>Amazon AWS</strong>, you can submit a form using the following link: </span><span><a href="https://aws.amazon.com/security/penetration-testing/?nc1=h_ls">https://aws.amazon.com/security/penetration-testing/?nc1=h_ls</a></span></li>
<li><span>For <strong>Microsoft Azure</strong>, you can submit a form as well, using the following link: </span><span><a href="https://security-forms.azure.com/penetration-testing/terms">https://security-forms.azure.com/penetration-testing/terms</a></span></li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>I hope that you enjoyed this chapter, I know that it did not contain some exciting hacking commands, but you should know about the Pre-Engagement phase if you're going to be working in this field.</p>
<p>Let's summarize what you have learned in this chapter:</p>
<ol>
<li>About your <strong>first meeting</strong> with your client</li>
<li>What a <strong>Non-Disclosure Agreement</strong> is</li>
<li>How to <strong>kick off a meeting</strong></li>
<li>How to estimate the <strong>time and cost</strong> of your project</li>
<li>What a <strong>statement of work</strong> is?</li>
<li>What a <strong>Penetration Test Agreement</strong> looks like</li>
<li><strong>External factors</strong> of a penetration test project</li>
</ol>
<p>In the next chapter, you will learn about Application Threat Modeling, which is, for me, one of the pillars of a successful application security mandate. </p>


            </article>

            
        </section>
    </div>



  </body></html>