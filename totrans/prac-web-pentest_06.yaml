- en: Application Security Pre-Engagement
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This chapter will introduce you to the application security pre-engagement process.
    There are a lot of considerations to think about before starting your penetration
    test activities. Be ready to work closely with a local lawyer to help you achieve
    this phase successfully and to avoid legal action against you in the future if
    you're a free lance consultant. If you're an employee and belong to the security
    team of your company, then you don't need a lawyer, in fact, you just need the
    approval of your manager.
  prefs: []
  type: TYPE_NORMAL
- en: Yes, this chapter is dedicated to freelance contractors, but that doesn't mean
    that you don't have to read it if you're an employee. In fact, as an employee,
    you will always deal with contractors and you must understand the nature of their
    business.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here''s the plan before you start your penetration testing activities:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/143a95d0-c76d-4fa8-bf80-5d549864848b.png)'
  prefs: []
  type: TYPE_IMG
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'People think that web application penetration testing is a simple task, but
    it''s not, it involves a lot of duties before starting the tests. The main activities
    for web application penetration testing would be:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Source Code Review or Static Code Analysis**: This activity involves the
    analysis of the source code to identify bad security practices.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Web Intrusion Test or Dynamic Code Analysis**: This activity checks if the
    client''s website is vulnerable to attacks like Cross-Site Scripting, SQL Injection,
    and so on.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Infrastructure Test**: This will involve the web server and the database
    server vulnerabilities assessment and exploitation if it''s feasible.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Information Gathering**: In this activity, you will collect information about
    your client using the internet''s resources. This test will reveal any data leakage
    to the public.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This chapter will help you to learn how to sign all the necessary contracts
    before starting the tests. Also, you will learn how to estimate, scope, and schedule
    your tests before they start. A well-planned project will have the highest probability
    of success. Could you imagine an engineer building a house without the plans?
    So should be your projects!
  prefs: []
  type: TYPE_NORMAL
- en: The first meeting
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Before the first meeting, you will need to prepare yourself to avoid unprofessional
    consequences. Make sure to respect the following checklist to help you achieve
    your goals successfully before the meeting:'
  prefs: []
  type: TYPE_NORMAL
- en: Make sure you memorize the full name of the person that you will meet
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Plan your trip in advance to make sure you don't show up late for the meeting,
    and double check the date and time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dress professionally even if you prefer the geek's look
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prepare your materials (for example, laptop) and any flyer that you're willing
    to share with the client
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prepare your speech so you sound professional when you talk about the subject
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Plan the subjects that you want to talk about and write them down with respect
    to the meeting's time interval
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Visit the customer's website to understand his business and to have an idea
    about his security awareness
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use your favorite search engine (for example, Google) for a quick lookup about
    your client by entering the company's name in the search box
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The day of the meeting with the client
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If this is an old client then this meeting is useless, at this stage you'll
    ignore this step and go directly to the next one, which is the contract preparation.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you prepared yourself and studied the steps that I mentioned previously,
    this meeting should be a piece of cake for you. You arrive with your team at the
    front desk and ask for the name of the person that you are going to meet with
    no hesitation. Then your contact arrives and you shake their hand firmly with
    a smile, introducing the names of your team members. You arrive at the meeting
    room and you open your laptop, which you should''ve already tested before coming
    to this meeting. Now what? No worries! In the following list, I will show you
    all the details that you need to take into consideration:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Introduce yourself and your team members (with their professional titles for
    example, `John Doe`, `Marketing Manager`) to the rest of the attendees of the
    meeting. Next, introduce your company:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Company history.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Company location.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Company clients.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: What it does (for example, specialized in web application security and so on).
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Say something that attracts the attention of your client; for example, if your
    client is in the e-commerce business mention how successful your last e-commerce
    experience was. This task should be easy if you did your homework and checked
    out your client's interests before coming to this meeting.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Explain your penetration testing methodology (what type of tests your team
    will support):'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Application Threat Modeling will give you a start on an architectural overview
    of your penetration test activities.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Web Application Infrastructure Tests will include the following servers; web
    servers and database servers (port mapping, vulnerabilities assessment, DOS).
    Also, this should cover all the servers related to the web application infrastructure
    such as FTP servers, Mail servers, Telnet servers, and SSH servers. Sometimes,
    compromising one server could lead to a complete ownership of the whole network
    if the targeted server allows global admin rights.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Code Review Tests show any vulnerabilities in the source code of your client's
    web application.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Web Application Intrusion Tests will allow you to test and attack the web application
    exactly like a hacker does. It's interesting to talk about the type of vulnerabilities
    that you will encounter during the test. For example, you can talk about the SQL
    Injection test and the importance of what your company takes into consideration
    when testing these kinds of vulnerabilities. You could mention that your team
    is well trained and follows the international standards of the OWASP methodology
    to conduct this type of test.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Information Gathering is a technique that penetration testers use to collect
    information about their client using internet resources.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Reporting is a crucial subject, and you should show and explain to your client
    a typical report template that you use after finishing the penetration tests.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Mention the tools that you're going to use for the tests to show your level
    of professionalism and how serious you are about finding vulnerabilities.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Black-Box versus Gray-Box versus White-Box Testing:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**White-Box**: This is the test that you should recommend for your client if
    he''s serious about the effectiveness of the test results. A White-Box will oblige
    your client to give you all the information needed to accomplish your test. This
    will include the Infrastructure Map (IP Addresses, Domain Names, and URLs) of
    the web application, including the source code and any necessary information that
    helps your team to achieve their goals. If you have access to all the necessary
    information, your team will be a step ahead of any attacker, outsider or insider.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Gray-Box**: This is sometimes acceptable due to the time concerns and budget
    of your client. A Gray-Box tester is given limited information about the company''s
    infrastructure. This test should be able to partially cover an attack coming from
    an outside intruder or an inside employee.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Black-Box**: This test is not recommended, but it''s your client''s choice
    in the end. If you''ll conduct this test, this means that your team will not be
    given any information about the company''s infrastructure. Your team should test
    like any black hat hacker where the information is limited. Your job is to explain
    to the client the side effects of this kind of test and how it is important to
    have all the necessary information about their infrastructure.'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You need to let the customer know about the prices that you charge for the
    assessment and that the contract will contain all the approximate costs of the
    tests:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Infrastructure test will be charged based on each server (web, database, FTP,
    and so on)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Code Review will be based on the number of lines of code
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Web Application Intrusion tests will be based on the number of URLs and pages
    to be tested
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Inform your client about the next steps; this should let them know what you're
    going to do next, which is signing the **Non-Disclosure Agreement** (**NDA**)
    and the kick-off meeting as well. I will talk in detail about these two steps
    in the following sections. At the end of the meeting, tell your client to organize
    the kick-off meeting and agree on a date and time and mention that you'll wait
    for his meeting invitation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Discuss with your client the methods of transferring information. It's preferable
    that you have a secure platform on the cloud that you can use to exchange files
    with your client (for example, the contract). All email communication should be
    signed and encrypted if necessary, to protect your client data and to show that
    you're serious when it comes to security.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Non-Disclosure Agreement
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: At this stage, you need to consult an attorney in your local area before you
    proceed further, as the next step is the kick-off meeting, where confidential
    information will be exchanged between you and your client. To protect your company
    and your client, you need to sign an NDA contract to protect all the exchanged
    information that your client will trust giving to you.
  prefs: []
  type: TYPE_NORMAL
- en: To find a sample of an NDA check your country/region laws; for example, here
    in Canada we have a good site `LawDepot.ca` that has a large choice of law contract
    samples depending on your province.
  prefs: []
  type: TYPE_NORMAL
- en: Kick-off meeting
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Assuming that you already signed the NDA agreement that I talked about in the
    previous section, then you can proceed with the kick-off meeting. This event is
    very important for your penetration testing phase, as it will allow you to understand
    the complete infrastructure as well as the functionalities that the client''s
    website supports. You should have asked your client, before this meeting, to prepare
    a demo with the stakeholders. It is a good idea to bring all the penetration testing
    team to this meeting so they will better understand the client''s needs. A good
    comprehension of the client''s architecture is the key to your success. This meeting
    could be longer depending on your client''s infrastructure and the web site''s
    complexity. Here are some important ideas to take into consideration for the success
    of this meeting:'
  prefs: []
  type: TYPE_NORMAL
- en: 'The client should show you an architecture document that demonstrates the infrastructure
    of the web application. This diagram should show a high-level overview of the
    **Demilitarized Zone** (**DMZ**) network. Ask all the necessary questions to understand
    all the contents of the infrastructure. Make sure that the client''s diagram contains:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: All the servers; Web, Database, FTP, Telnet, SSH, Mail
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The connection between the servers; HTTP/HTTPS/VPN
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The diagram should show the internet-facing servers versus the intranet ones
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'It should show all the security infrastructure, including: Demilitarized Zone –
    DMZ/Firewall/Intrusion Detection System – IDS/Intrusion Prevention System – IPS/
    Virtual Private Network – VPN/ Web Application Firewall – WAF / Routers / Switches'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The client should show you the web application functionalities and this should
    include the following areas:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Guest area, which everyone can access
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Authenticated area, which only authenticated users can access
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Admin area, which only administrators can use
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Try to identify if the web application interacts with local web services and
    third party web services as well.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The client's website architect should be present during the meeting to demonstrate
    the application source code architecture. In this meeting, you should also identify
    all the backend and frontend technologies such as ASP.NET or Java for the back-end
    and JavaScript / JQuery / Angular for the frontend.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'At the end of this meeting, you need to ask the client to send you, securely,
    all the diagrams presented in this meeting (or exchange them using a secure USB)
    because you will need them for the following purposes:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Estimating the costs of the project
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating the scope of the project
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating the tests schedules
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Signing and filling the official contracts
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Preparing the Application Threat Modeling Document
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Time and cost estimation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Time estimation is crucial; this will prove to your client how efficient and
    professional you are in the services that you're trying to offer. You don't want
    to waste the money and time of your client as well. You need to take multiple
    factors into consideration if you want to estimate your project time efficiently.
  prefs: []
  type: TYPE_NORMAL
- en: The experience of the consultant is important because a senior consultant could
    take 5 hours to finish a penetration when a junior consultant could take 10 hours
    for the same test.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Always add a 15-20% risk after you estimate a project.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The kick-off meeting is the most important aspect of your time estimation. This
    meeting will reveal most of the obstacles that you may encounter during the tests.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Assume that you have finished your kick-off meeting and the client has given
    you the following architecture diagram:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/659974eb-bf2c-496a-a967-d16745ed1cfc.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Also, during the kick-off meeting, our application security expert took notes
    during the presentation of the client''s website ([www.clientdomain.com](http://www.clientdomain.com)):'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Page Complexity** | **# of Pages** | **Estimation** | **Notes** |'
  prefs: []
  type: TYPE_TB
- en: '| Very High | 10 | 16 Hours/Page = 160 Hours | Critical pages with money transactions/admin
    pages |'
  prefs: []
  type: TYPE_TB
- en: '| High | 20 | 8 Hours/Page = 160 Hours | Dynamic pages with a lot of input
    controls/query string |'
  prefs: []
  type: TYPE_TB
- en: '| Medium | 50 | 4 Hours/Page = 200 Hours | Dynamic pages with few input controls
    |'
  prefs: []
  type: TYPE_TB
- en: '| Low | 15 | 1 Hour/Page = 15 Hours | Static pages |'
  prefs: []
  type: TYPE_TB
- en: 'Next, the client''s architect showed our team the code source structure and
    how they implemented the security in place. Our specialized penetration tester
    in .NET took some notes from the presentation. The aim of this practice is to
    be able to spot any complex issues that the testers could encounter and avoid
    surprises during the tests:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Item** | **Notes** | **Estimation** |'
  prefs: []
  type: TYPE_TB
- en: '| Configuration | `web.config` contains non-encrypted critical data. The file
    needs to be checked out. | 4 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| Critical Data Configuration | The database is saving credit cards and credentials
    without taking into consideration the latest security best practices. | 8 Hours
    |'
  prefs: []
  type: TYPE_TB
- en: '| Logging | Exceptions stack trace is saved into the database. This information
    should be reviewed.  | 4 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| Technology Concerns | The client is not using the latest .NET framework best
    practices. | N/A |'
  prefs: []
  type: TYPE_TB
- en: '| Critical Classes that need to be tested manually | 150 classes need to be
    evaluated manually. | 2Hours/Class:300 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| Numbers lines of codes  | 10,000 lines of code approximately. | 1 Day – 8
    Hours / 1000 Lines of code:80 Hours – 10 Days |'
  prefs: []
  type: TYPE_TB
- en: 'After having read and analyzed the preceding infrastructure diagram, our penetration
    testers wrote the following table during the meeting:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Server Type** | **Address** | **Estimation** |'
  prefs: []
  type: TYPE_TB
- en: '| Web – IIS Server 8.0 | 10.100.100.100 | 3 Days – 24 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| FTP – Microsoft Server 2012 | 10.100.100.100 | 3 Days – 24 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| Telnet – Microsoft Server 2012 | 10.100.100.100 | 3 Days – 24 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| DB – MS SQL Server 2012 | 10.0.0.201 | 5 Days – 24 Hours |'
  prefs: []
  type: TYPE_TB
- en: 'Finally, our team was able to have a global estimation of the project and could
    give the cost to the client in the statement of work as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Web Application Intrusion Test**: 160 +160 + 20 + 15 = 355 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Code Review**: 4 + 8 + 4 + 300 + 80 = 396 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Infrastructure**: 3 + 3 +3 + 5 = 14 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Application Threat Modeling**: 16 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Information Gathering**: 9 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Total**: 790 Hours'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'And this will give the following final estimation results:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Item** | **Number** | **Duration** | **Cost 100$/Hour** |'
  prefs: []
  type: TYPE_TB
- en: '| Website Intrusion Test | 1 website | 355 Hours | 35,500$ |'
  prefs: []
  type: TYPE_TB
- en: '| Servers Infrastructure Test | 2 Physical Servers | 14 Hours | 1,400$ |'
  prefs: []
  type: TYPE_TB
- en: '| Application Threat Modeling | 1 Document | 16 Hours | 1,600$ |'
  prefs: []
  type: TYPE_TB
- en: '| Code Review | 10000 Lines of code | 396 Hours | 39,600$ |'
  prefs: []
  type: TYPE_TB
- en: '| Information Gathering | NA | 9 Hours | 900$ |'
  prefs: []
  type: TYPE_TB
- en: '| Total |  | 790 Hours | 79,000$ |'
  prefs: []
  type: TYPE_TB
- en: You will probably look at these numbers and say; that's so expensive! From my
    experience, I can tell you that scanners generate false positive results (a lot
    of them); your role is to identify them, and that takes a lot of time. If you
    want to give your client the generated reports from your scanners, that's called
    unprofessional. Quality work costs money and time.
  prefs: []
  type: TYPE_NORMAL
- en: Statement of work
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This document is a formal agreement for you as a penetration tester to start
    your work. The purpose of this document is to define:'
  prefs: []
  type: TYPE_NORMAL
- en: The expectations from the client
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The scope of work
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The schedule of the work
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The pricing
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The deliverables at the end of all the penetration tests
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The payment terms
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The legal agreements
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finally, the signatures
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Of course, you can add your custom contents if you feel that this information
    is not enough. Tweak it to your liking and experience. In the following, you will
    see a sample of a statement of the work contract.
  prefs: []
  type: TYPE_NORMAL
- en: '**Statement of work – Web Application Penetration Test**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**Contents**:'
  prefs: []
  type: TYPE_NORMAL
- en: Description
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Expectations
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Scope
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Schedule
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pricing estimation
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Deliverables
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Payment Terms
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Agreement
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Signatures
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Description**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will undertake all the necessary tasks to help the customer
    meet business requirements for confidentiality, integrity, and availability of
    its web application with the aim of achieving business goals on delivering results
    and good services for its clients.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] shall provide a web application penetration testing service
    to [Client Company Name]. The service will cover all the necessary security tests
    needed to protect [Client Company Name]''s website. [Your Company Name] will visit
    the customer site to conduct all the penetration test activities and attempt to
    test all the false positives by exploiting all the founded vulnerabilities.'
  prefs: []
  type: TYPE_NORMAL
- en: By the end of the security tests, [Your Company Name] will present to [Client
    Company Name] a professional report that shows all the residual vulnerabilities
    in its web infrastructure. [Your Company Name] will make sure that this report
    is clear and concise for the client's needs.
  prefs: []
  type: TYPE_NORMAL
- en: '**Expectations**:'
  prefs: []
  type: TYPE_NORMAL
- en: A Penetration Testing Agreement will be signed by [Client Company Name] before
    starting each test. This agreement will give the authorization to [Your Company
    Name] to conduct each appropriate security test.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Your Company Name] will be given a room at the client''s firm to conduct the
    penetration tests. The room should be private and closed for confidentiality.
    Access to the washroom should be allowed for the consultants. The client should
    make sure that each of the penetration testers has an access card to enter the
    client''s company facilities.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Your Company Name] will be given all the documents and information necessary
    to facilitate the penetration tests.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A primary contact from [Client Company Name] should always be available to assist
    the penetration testers for any questions regarding the tasks that they are trying
    to accomplish.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The services offered by [Your Company Name] aim to improve its client's security
    posture. These services cannot eliminate all the risks by unauthorized or authorized
    parties to affect the environment.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Client Company Name] should understand that the security test activities could
    lead unintentionally to disruption of services because of the aggressiveness of
    tools used during the tests. [Your Company Name] is not responsible for any service
    interruption.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Client Company Name] will agree to paying any additional services (for example,
    Training).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scope**:'
  prefs: []
  type: TYPE_NORMAL
- en: This project will include multiple penetration testers that will make sure to
    test the web application and its infrastructure. [Your Company Name] will offer
    all the necessary tools and expertise to conduct the penetration tests.
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will attempt to conduct the penetration tests using the
    following methodologies:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Application Threat Modeling**: Once [Your Company Name] finishes the kick-off
    meeting with the client, [Your Company Name] will prepare an Application Threat
    Modeling Architecture document to [Client Company Name] to identify, quantify,
    and address the security risks before starting the penetration testing activities.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Code Review**: The client will make sure to hand a copy of the source code
    to [Your Company Name] in order to conduct a security code review (Static Code
    Analysis). [Your Company Name] will make sure to use all the necessary tools to
    identify all the security bad practices that lead to security risks.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Web Application Intrusion Test**: [Client Company Name] will give all the
    necessary information about its website, including URLs and different accounts
    credentials, to the consultants in charge of the penetration tests. [Your Company
    Name] will try to compromise and exploit the vulnerabilities found during the
    intrusion tests.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Infrastructure Test**: Any servers associated with the web application for
    [Client Company Name] will be scanned for vulnerabilities. Tools and techniques
    will be used for vulnerabilities assessment to make sure that these servers are
    not risky.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Information Gathering**: This activity will help [Client Company Name] to
    identify any information leakage on the web.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Reporting:** [Your Company Name] will record each security tests mentioned
    previously. [Your Company Name] will provide a professional report that helps
    its client to identify and quantify all the risks in their web application infrastructure.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Schedule**:'
  prefs: []
  type: TYPE_NORMAL
- en: Each test mentioned above in the *Services Overview* section will take approximately
    5 business days to complete. A final report will be provided within approximately
    2 weeks after the completion of the tests. [Your Company Name] and [Client Company
    Name] will identify the start day within 30 days of this contract being signed.
    A business day is from Monday to Friday, 8:00 A.M. to 5:00 P.M., [Client Company
    Name]'s local time, excluding [Your Company Name]'s official holidays.
  prefs: []
  type: TYPE_NORMAL
- en: '**Pricing estimation**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will do all the necessary work to conduct the security
    test in order to achieve a better security posture for its client. [Your Company
    Name] will charge [Client Company Name] 100$ per hour for the work to be accomplished.
    To  successfully achieve this goal, the following services will be offered:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Item** | **Number** | **Duration** | **Cost 100$/Hour** |'
  prefs: []
  type: TYPE_TB
- en: '| Website Intrusion Test | 1 website | 355 Hours | 35,500$ |'
  prefs: []
  type: TYPE_TB
- en: '| Servers Infrastructure Test | 2 Physical Servers | 14 Hours | 1,400$ |'
  prefs: []
  type: TYPE_TB
- en: '| Application Threat Modeling | 1 Document | 16 Hours | 1,600$ |'
  prefs: []
  type: TYPE_TB
- en: '| Code Review | 10000 Lines of code | 396 Hours | 39,600$ |'
  prefs: []
  type: TYPE_TB
- en: '| Information Gathering | NA | 9 Hours | 900$ |'
  prefs: []
  type: TYPE_TB
- en: '| Total |  | 790 Hours | 79,000$ |'
  prefs: []
  type: TYPE_TB
- en: '**Deliverables**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will conduct all the necessary security tests mentioned
    in this document. By the end of all the tests, our team will make sure to deliver
    a report to [Client Company Name] by using a secure communication of file transfer.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Payment Terms**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Client Company Name] will pay [Your Company Name] within 30 days after receipt
    of an invoice. An initial 50% of the total price will be billed after signing
    this contract.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Agreement**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[In this section you list all the legal agreements that your company is expecting
    from its services with the client, it''s a good idea to check with a local lawyer
    when filling this section.]'
  prefs: []
  type: TYPE_NORMAL
- en: '**Signatures**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] and [Client Company Name] should agree on this document
    and sign it below.'
  prefs: []
  type: TYPE_NORMAL
- en: Penetration Test Agreement
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This contract will list all the necessary information to allow you and the
    consultants that work for you to conduct and execute the penetration testing activities.
    The following shows a sample contract with these titles:'
  prefs: []
  type: TYPE_NORMAL
- en: The contract brief description
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Your main contacts and the main client contacts
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How confidential information is going to be exchanged
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Different penetration testing activities with details
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Limits of responsibility in case of something bad happening
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finally, the signature of the contract
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Web Application Penetration Test Agreement**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '**Contents**:'
  prefs: []
  type: TYPE_NORMAL
- en: Description
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Contacts
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Exchange of confidential information
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Web Application Intrusion Test
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Code review
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Infrastructure security test
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Information Gathering
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Limits of responsibility
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Signatures
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Description**:'
  prefs: []
  type: TYPE_NORMAL
- en: This document describes the application penetration testing activities execution
    for [Client Company Name].  This document identifies the contacts of each party
    and the exchange of confidential information. This document will list all the
    necessary information to allow our consultants to conduct the penetration testing
    job.
  prefs: []
  type: TYPE_NORMAL
- en: '**Contacts**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**Exchange of confidential information**:'
  prefs: []
  type: TYPE_NORMAL
- en: For the confidential information, we will put in place a secure platform on
    the cloud where [Your Company Name] and [Client Company Name] can securely upload
    and download all the necessary documents to accomplish the penetration tests.
  prefs: []
  type: TYPE_NORMAL
- en: 'To access the cloud environment, go to: `[www.your-secure-environment.com]`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Client Company Name] will be given a username and password through a secured
    email.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Web Application Intrusion Test**:'
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to successfully execute the Web Application Intrusion Test, [Client
    Company Name] shall hand all the necessary information to [Your Company Name]''s
    consultants:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Website** | `http://www.yourclientdomain.com` |'
  prefs: []
  type: TYPE_TB
- en: '| **Login Credentials** | Will be sent securely to the cloud platform |'
  prefs: []
  type: TYPE_TB
- en: '| **Start Date** | 1/Feb/2017 |'
  prefs: []
  type: TYPE_TB
- en: '| **Duration** | 355 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| **Constraints** | No denial of service |'
  prefs: []
  type: TYPE_TB
- en: '| **Test Tools** | Burp Suite |'
  prefs: []
  type: TYPE_TB
- en: '| **Methodology** | OWASP Guidelines |'
  prefs: []
  type: TYPE_TB
- en: '| **Notes** | N/A |'
  prefs: []
  type: TYPE_TB
- en: '**Code Review**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will conduct a security code review and [Client Company
    Name] shall present all the necessary information:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Application** | `http://www.yourclientdomain.com` |'
  prefs: []
  type: TYPE_TB
- en: '| **#Lines of Code** | 10000 |'
  prefs: []
  type: TYPE_TB
- en: '| **Contents** | The source will be uploaded securely to the cloud platform
    |'
  prefs: []
  type: TYPE_TB
- en: '| **Start Date** | 15/Feb/2017 |'
  prefs: []
  type: TYPE_TB
- en: '| **Duration** | 396 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| **Constraints** | N/A |'
  prefs: []
  type: TYPE_TB
- en: '| **Test Tools** | Veracode |'
  prefs: []
  type: TYPE_TB
- en: '| **Notes** | Some manual testing should be done |'
  prefs: []
  type: TYPE_TB
- en: '**Infrastructure Security Test**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will conduct all the necessary security tests for each
    server related to the web application. [Client Company Name] shall present all
    the necessary information:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Servers** | **Web:** IIS Server 8.0: `10.100.100.100`**FTP:** Microsoft
    Server 2012: `10.100.100.100`**Telnet:** Microsoft Server 2012: `10.100.100.100`**DB:**
    MS SQL Server 2012: `10.0.0.201` |'
  prefs: []
  type: TYPE_TB
- en: '| **Start Date** | 1/Jan/2017 |'
  prefs: []
  type: TYPE_TB
- en: '| **Duration** | 14 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| **Constraints** | N/A |'
  prefs: []
  type: TYPE_TB
- en: '| **Test Tools** | Nessus and Metasploit |'
  prefs: []
  type: TYPE_TB
- en: '| **Notes** | [Your Company Name] will wait for the signature of the server''s
    asset manager |'
  prefs: []
  type: TYPE_TB
- en: '**Information Gathering**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] will use internet resources to collect information about
    [Client Company Name]. This activity will help [Client Company Name] to identify
    any information leakage on the internet:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Start Date** | 15/Jan/2017 |'
  prefs: []
  type: TYPE_TB
- en: '| **Duration** | 9 Hours |'
  prefs: []
  type: TYPE_TB
- en: '| **Notes** | N/A |'
  prefs: []
  type: TYPE_TB
- en: '**Limits of responsibility**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[it''s a good idea to check with a local lawyer when filling in this section]'
  prefs: []
  type: TYPE_NORMAL
- en: '**Signatures**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Your Company Name] and [Client Company Name] should agree on this document
    and sign it below.'
  prefs: []
  type: TYPE_NORMAL
- en: External factors
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There is always a possibility that your client's application will interact with
    third-party services and a remote infrastructure. As I mentioned previously, you
    need a lawyer by your side to advise you about your tests. You need to ask your
    client the following important questions regarding the third parties that he deals
    with.
  prefs: []
  type: TYPE_NORMAL
- en: 'Does your client application interact with the third-party web service? If
    the answer is yes, then you need to ask your client''s permission to investigate
    the third-party activities. If your client agrees, then you need to ask them to
    organize a meeting with the third-party''s representative. During the interview
    with the third party, ask the following questions:'
  prefs: []
  type: TYPE_NORMAL
- en: Does the third party collect information about your client? If yes, what is
    that information?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What is the authentication mode used for the web services? You want to make
    sure that the third party is offering a secure authentication mechanism.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Where is the application hosted? If the application is hosted in a foreign country,
    then you need to check the regulations of privacy in that country.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How is the communication secured (HTTP and HTTPS)? This question will ensure
    that the information in transit is confidential.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If the third party (your client-supplier) holds sensitive information about
    your client, then you need to dig deeper and ask the following questions:'
  prefs: []
  type: TYPE_NORMAL
- en: Do you conduct security static and dynamic security tests on your server? If
    the answer is yes, then ask the supplier for a high-level report of these tests.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do you communicate with clients in case of a security patch?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How often do you release a new version into production?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How do you handle it when a client calls your support officer? In this question,
    you want to make sure that the support agent will identify your client in a secure
    way.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Is your client''s application hosted in the cloud? If the answer is yes, then
    you need to ask the cloud service''s permission for penetration testing:'
  prefs: []
  type: TYPE_NORMAL
- en: For **Amazon AWS**, you can submit a form using the following link: [https://aws.amazon.com/security/penetration-testing/?nc1=h_ls](https://aws.amazon.com/security/penetration-testing/?nc1=h_ls)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For **Microsoft Azure**, you can submit a form as well, using the following
    link: [https://security-forms.azure.com/penetration-testing/terms](https://security-forms.azure.com/penetration-testing/terms)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I hope that you enjoyed this chapter, I know that it did not contain some exciting
    hacking commands, but you should know about the Pre-Engagement phase if you're
    going to be working in this field.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s summarize what you have learned in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: About your **first meeting** with your client
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What a **Non-Disclosure Agreement** is
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How to **kick off a meeting**
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How to estimate the **time and cost** of your project
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What a **statement of work** is?
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What a **Penetration Test Agreement** looks like
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**External factors** of a penetration test project'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the next chapter, you will learn about Application Threat Modeling, which
    is, for me, one of the pillars of a successful application security mandate.
  prefs: []
  type: TYPE_NORMAL
