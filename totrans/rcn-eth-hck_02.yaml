- en: '2'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Setting Up a Reconnaissance Lab
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Learning about various cybersecurity topics is always exciting as there are
    so many new technologies and content that are quite interesting, especially using
    various tools and techniques to discover sensitive details on vulnerable systems
    and applications. However, obtaining sensitive details about systems such as their
    operating systems, known vulnerabilities, open service ports, and running services
    requires the ethical hacker to send specially crafted probes to the target. To
    put it simply, the ethical hacker can create a script or use an automated software-based
    scanning tool to send probes and analyze the responses to determine whether security
    vulnerabilities exist on the target. However, scanning is illegal and should not
    be performed on any system without obtaining legal permission from the necessary
    authorities.
  prefs: []
  type: TYPE_NORMAL
- en: As an aspiring or seasoned ethical hacker, it’s important to set up your own
    lab environment as it enables you to perform intrusive security testing on your
    own devices, without worrying about causing harm or damage to someone else’s systems.
  prefs: []
  type: TYPE_NORMAL
- en: During this chapter, you will learn how to set up and build your personal lab
    environment to learn reconnaissance techniques and hone your skills as a cybersecurity
    professional. You will learn how to deploy a hypervisor to create virtual machines
    and implement virtual networking. Additionally, you’ll learn how to get both Kali
    Linux and Trace Labs OSINT virtual machines up and running. Lastly, you will learn
    how to set up both a vulnerable web application and server to learn active reconnaissance
    safely on your personal lab. Active reconnaissance requires the ethical hacker
    to perform various types of scans on a target that are considered to be intrusive
    and illegal due to the type of information that can be collected about the target.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Lab overview and technologies
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up a hypervisor and virtual networking
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Deploying Kali Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Deploying an OSINT virtual machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing vulnerable systems
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s dive in!
  prefs: []
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To follow along with the exercises in this chapter, please ensure that you
    have met the following hardware and software requirements:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Oracle VM VirtualBox: [https://www.virtualbox.org/](https://www.virtualbox.org/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Oracle VM VirtualBox Extension Pack: [https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '7-zip: [https://www.7-zip.org](https://www.7-zip.org)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Kali Linux 2022.4: [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Trace Labs OSINT VM 2022.1: [https://www.tracelabs.org/initiatives/osint-vm](https://www.tracelabs.org/initiatives/osint-vm)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Vagrant: [https://www.vagrantup.com/](https://www.vagrantup.com/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'OWASP Juice Shop: [https://owasp.org/www-project-juice-shop/](https://owasp.org/www-project-juice-shop/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Metasploitable 3: [https://app.vagrantup.com/rapid7/boxes/metasploitable3-win2k8](https://app.vagrantup.com/rapid7/boxes/metasploitable3-win2k8)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lab overview and technologies
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Building a personal lab environment enables you to explore and improve your
    technical skills without the need to acquire expensive hardware or pay for a subscription
    service. A personal lab environment provides a lot of scalability and flexibility
    options such as enabling you to add and remove systems as needed based on your
    learning objectives and goals. For instance, by leveraging the power of virtualization
    technologies, you can create an entire virtual network with multiple virtual machines
    running on your personal computer without any hidden expenses or need for physical
    hardware components.
  prefs: []
  type: TYPE_NORMAL
- en: 'To better understand the components that are needed for our lab environment,
    let’s take a look at the role and function of each major component:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Hypervisor** – The hypervisor will enable you to create virtualized environments
    for installing and running multiple operating systems simultaneously on top of
    your existing hardware on your personal computer. In the lab environment, **Oracle
    VM VirtualBox** will be the preferred hypervisor as it’s free and works with many
    host operating systems and hardware.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Virtual networking** – The hypervisor contains virtual networking components
    such as a **virtual Switch** (**vSwitch**) and **virtual Network Interface Card**
    (**vNIC**), which enables a virtual machine to intercommunicate with other virtual
    machines on the same hypervisor and systems on the physical network.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Attacker machine** – The attacker machine(s) will be used to perform passive
    and active reconnaissance and scanning techniques. We’ll use **Kali Linux 2022.4**
    (not Kali Linux Purple) and **Trace Labs OSINT VM** as these are free and contain
    all the necessary tools you’ll need to learn and perform reconnaissance and scanning.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Vulnerable server** – To perform active reconnaissance and scanning on a
    target, a vulnerable server is needed within the lab environment. The preferred
    choice will be **Metasploitable 3 Windows VM** as it’s designed for learning about
    ethical hacking and penetration testing.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Vulnerable web application** – To safely perform active reconnaissance on
    a web application, we’ll set up **OWASP Juice Shop**, a vulnerable web application
    that’s designed to help cybersecurity professionals better understand the **OWASP
    Top 10: 2021 Web Application Security Risks** in the industry.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following diagram shows the lab topology that will be built and run on
    your personal computer:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.1 – Lab infrastructure](image/Figure_2.01_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.1 – Lab infrastructure
  prefs: []
  type: TYPE_NORMAL
- en: The hypervisor will be installed on your host operating system, which enables
    you to create virtual machines. Kali Linux, Trace Labs OSINT VM, and Metasploitable
    3 Windows VM will run as virtual machines on the hypervisor when needed. Additionally,
    the hypervisor will assign vNICs to each virtual machine to interface with the
    virtual and physical networks via vSwitches. The **PentestNet** (**172.30.1.0/24**)
    is a virtually isolated network between Kali Linux and the Metasploitable 3 Windows
    VM machines that will be strictly used for active reconnaissance. However, Kali
    Linux and the Trace Labs OSINT VM will be connected to the internet.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, you will learn how to set up the hypervisor and virtual
    network environments on your computer.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up a hypervisor and virtual networking
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are many hypervisors that are available in the industry; however, we’ll
    be using Oracle VM VirtualBox as it’s free and simple to use while containing
    all the important features and components needed for our lab environment. In this
    section, you will learn how to set up a hypervisor and virtual networking.
  prefs: []
  type: TYPE_NORMAL
- en: 'Before getting started, please ensure your system meets the following requirements:'
  prefs: []
  type: TYPE_NORMAL
- en: Ensure the **VT-x**/**AMD-V** feature is supported on your processor
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ensure the virtualization feature is enabled on the processor via the BIOS/UEFI
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Most modern processors support VT-x (Intel) or AMD-V (AMD), a technology that
    enables the host operating system and applications to leverage the virtualization
    features of the **Central Processing Unit** (**CPU**). However, some computer
    vendors do not enable the operating system to leverage the virtualization feature
    of the processor. Hence, it’s important to manually access the BIOS/UEFI and ensure
    virtualization is enabled under the processor menu, or else the hypervisor may
    not work as expected.
  prefs: []
  type: TYPE_NORMAL
- en: Part 1 – setting up the hypervisor
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started with setting up the hypervisor on your host operating system,
    please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Firstly, to download the **Oracle VM VirtualBox** application, go to [https://www.virtualbox.org/](https://www.virtualbox.org/)
    and click on **Download VirtualBox**, as shown here:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.2 – VirtualBox website](image/Figure_2.02_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.2 – VirtualBox website
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, you’ll be redirected to the **Downloads** page at [https://www.virtualbox.org/wiki/Downloads](https://www.virtualbox.org/wiki/Downloads).
    Click on **Windows hosts** to download the VirtualBox 7.0.4 platform package on
    your computer:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.3 – VirtualBox platform packages](image/Figure_2.03_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.3 – VirtualBox platform packages
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the platform package has been downloaded, scroll down on the same **Downloads**
    page to the **VirtualBox 7.0.4 Oracle VM VirtualBox Extension Pack** section and
    click on **All supported platforms** to download the extension pack onto your
    system:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.4 – VirtualBox extension pack](image/Figure_2.04_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.4 – VirtualBox extension pack
  prefs: []
  type: TYPE_NORMAL
- en: Next, install the Oracle VM VirtualBox platform package that was downloaded
    during *Step 2*. During the installation process, use the default setting by the
    installer to complete this step.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, to install the VirtualBox 7.0.4 Oracle VM VirtualBox Extension Pack, right-click
    on the package and select **Open With** > **VirtualBox Manager**. Accept the user
    agreement and proceed with the installation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: At this point, both VirtualBox Manager and VirtualBox Extension Pack are installed
    on the host operating system of your computer. Next, you will create the *PentestNet*
    virtual network using the networking capabilities of VirtualBox.
  prefs: []
  type: TYPE_NORMAL
- en: Part 2 – creating a virtual network
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The *PentestNet* virtual network will enable Kali Linux to communicate with
    the Metasploitable 3 Windows VM within our lab environment. To get started with
    this exercise, please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: On your Windows host operating system, open the Command Prompt.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, use the following commands to change the working directory to the installation
    location of VirtualBox and create a **Dynamic Host Configuration Protocol** (**DHCP**)
    server within VirtualBox Manager:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the result of executing the preceding commands
    on the Windows Command Prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.5 – Configuring virtual networking](image/Figure_2.05_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.5 – Configuring virtual networking
  prefs: []
  type: TYPE_NORMAL
- en: Once the commands are executed correctly, the *PentestNet* virtual network will
    be automatically created and VirtualBox Manager will enable us to connect any
    virtual machine on it and receive an IP address from the virtual DHCP server.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about VirtualBox networking commands, please see [https://www.virtualbox.org/manual/ch06.html](https://www.virtualbox.org/manual/ch06.html).
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this section, you have learned how to set up a hypervisor and
    create a virtual network using Oracle VM VirtualBox. Next, you will learn how
    to both deploy and get up and running with Kali Linux as a virtual machine.
  prefs: []
  type: TYPE_NORMAL
- en: Deploying Kali Linux
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Kali Linux is the most popular Linux-based penetration testing operating system
    within the cybersecurity industry. It contains all the essential tools an ethical
    hacker and penetration tester would need to discover and exploit security vulnerabilities
    on systems, networks, and applications.
  prefs: []
  type: TYPE_NORMAL
- en: Part 1 – setting up Kali Linux as a virtual machine
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started with deploying Kali Linux as a virtual machine, use the following
    steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Firstly, go to the official Kali Linux website at [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)
    and click on **Virtual Machines**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.6 – Kali Linux download page](image/Figure_2.06_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.6 – Kali Linux download page
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, click on **VirtualBox 64** to download the Kali Linux VirtualBox file,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.7 – Kali Linux virtual file](image/Figure_2.07_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.7 – Kali Linux virtual file
  prefs: []
  type: TYPE_NORMAL
- en: This will be a compressed (zipped) file that contains the Kali Linux virtual
    hard disk and setup configurations and enables us to easily import it into VirtualBox
    Manager.
  prefs: []
  type: TYPE_NORMAL
- en: After downloading the Kali Linux VirtualBox file, you will need an unzipping
    application such as **7-Zip** to extract the contents of the downloaded file.
    You can download 7-Zip from [https://www.7-zip.org/](https://www.7-zip.org/) and
    install it.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, right-click on the Kali Linux zipped file and select **Show more options**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.8 – Displaying more options](image/Figure_2.08_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.8 – Displaying more options
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select **7-Zip** > **Extract Here** to extract the contents within the
    present working directory:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.9 – 7-Zip extract options](image/Figure_2.09_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.9 – 7-Zip extract options
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the extract process begins, the following window will appear showing the
    status until completion:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.10 – Extraction status window](image/Figure_2.10_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.10 – Extraction status window
  prefs: []
  type: TYPE_NORMAL
- en: Once the extraction is completed, the contents will be available within the
    same directory.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, open the **VirtualBox Manager** application, and click on **Machine**
    > **Add…**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.11 – Adding a new virtual machine](image/Figure_2.11_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.11 – Adding a new virtual machine
  prefs: []
  type: TYPE_NORMAL
- en: 'A new window will appear. Navigate to the location of the extracted folder,
    select the **kali-linux-2022.4-virtualbox-amd64** file, and click on **Open**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.12 – Selecting the virtual machine file](image/Figure_2.12_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.12 – Selecting the virtual machine file
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve clicked on **Open**, the Kali Linux virtual machine will automatically
    be imported into VirtualBox Manager.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, we need to assign one network adapter to our Kali Linux virtual machine
    for internet connectivity and another to access the *PentestNet* virtual network.
    Select the Kali Linux virtual machine and click **Settings**, as shown in the
    following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.13 – Virtual machine settings](image/Figure_2.13_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.13 – Virtual machine settings
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select the **Network** category and use the following configurations
    for **Adapter 1**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Enable Network Adapter**: Check the box to enable'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Attached to**: **Bridged Adapter**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Name**: Select the physical network adapter that is connected to the internet'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cable Connected**: Yes – check the box'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following snippet shows the configurations of **Adapter 1**:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.14 – Network Adapter 1 settings](image/Figure_2.14_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.14 – Network Adapter 1 settings
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select **Adapter 2** and use the following configurations:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Enable Network Adapter**: Check the box to enable'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Attached to**: **Internal Network**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Name**: Manually type **PentestNet** into the field'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cable Connected**: Yes – check the box'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Promiscuous Mode**: **Allow All**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following snippet shows the configurations of **Adapter 2**:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.15 – Configuring Adapter 2](image/Figure_2.15_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.15 – Configuring Adapter 2
  prefs: []
  type: TYPE_NORMAL
- en: Lastly, click on **OK** to save the configurations of the virtual machine.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Part 2 – getting started with Kali Linux
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In my years of experience in deploying Kali Linux as a virtual machine, sometimes
    there’s no internet connectivity when it’s connected to both an IPv4 and IPv6
    network. Therefore, we’ll need to disable IPv6 within Kali Linux to bypass this
    issue for our future exercises. Additionally, it’s good practice to change the
    default user credentials, and verify whether **Domain Name System** (**DNS**)
    is working as expected and there’s internet connectivity on the virtual machine.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started with this exercise, please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s power on the Kali Linux virtual machine; select **Kali Linux** and click
    on **Start**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.16 – Booting Kali Linux](image/Figure_2.16_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.16 – Booting Kali Linux
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to log in to Kali Linux, use the default user credentials of **kali**
    for both **Username** and **Password**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.17 – Login interface](image/Figure_2.17_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.17 – Login interface
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you’re logged in, the display of the guest operating system (Kali Linux)
    may not automatically scale to fit your monitor’s resolution. To automatically
    scale the display, select **View** and toggle with **Auto-resize Guest Display**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.18 – Scaling the display](image/Figure_2.18_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.18 – Scaling the display
  prefs: []
  type: TYPE_NORMAL
- en: After toggling with the **Auto-resize Guest Display** option, the display will
    automatically scale to fit your monitor’s resolution onward, even after reboots.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to disable IPv6 on Kali Linux, click on the Kali Linux icon in the top-left
    corner to open the menu and select the **Settings** icon, as shown in the following
    screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.19 – Kali Linux menu](image/Figure_2.19_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.19 – Kali Linux menu
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the pre-installed tools are categorized based
    on the phases of ethical hacking and penetration testing.
  prefs: []
  type: TYPE_NORMAL
- en: 'When the **Settings** menu appears, click on **Advanced Network Configuration**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.20 – Settings menu](image/Figure_2.20_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.20 – Settings menu
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Network Connections** window will appear; select **Wired connection
    1** and click the *gear* icon as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.21 – Network connections window](image/Figure_2.21_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.21 – Network connections window
  prefs: []
  type: TYPE_NORMAL
- en: If you recall on the virtual machine settings of Kali Linux, **Adapter 1** is
    connected to the physical network with the internet connection, hence we selected
    **Wired connection 1**, as these are the same network interfaces.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Editing Wired connection 1** window will appear; select the **IPv6
    Settings** tab, change **Method** to **Disabled**, and click on **Save**, as shown
    in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.22 – Disabling IPv6](image/Figure_2.22_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.22 – Disabling IPv6
  prefs: []
  type: TYPE_NORMAL
- en: Next, close both the **Network Connections** and **Settings** windows.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Lastly, restart Kali Linux for the changes to take effect. The power options
    are located in the top-right corner of the Kali Linux user interface.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Part 3 – changing the password and testing connectivity
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started with changing the default password and testing network connectivity,
    please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, log in to Kali Linux by using the default user credentials (**kali**/**kali**).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, click on the Kali Linux icon in the top-left corner to expand the Kali
    Linux menu and select **Terminal Emulator**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.23 – Locating the Terminal](image/Figure_2.23_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.23 – Locating the Terminal
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following command to change the default password for the **kali**
    user account:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'When you’re entering passwords on a Linux Terminal interface, it’s invisible
    for security reasons, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.24 – Changing passwords](image/Figure_2.24_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.24 – Changing passwords
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to display the IP addresses, **Media Access
    Control** (**MAC**) addresses, and status of the network adapters on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the two network adapters on Kali Linux – **eth0**,
    which is connected to the internet, and **eth1**, which is connected to the *PentestNet*
    network on the **172.30.1.0/24** subnet:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.25 – Checking network adapters](image/Figure_2.25_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.25 – Checking network adapters
  prefs: []
  type: TYPE_NORMAL
- en: The **eth0** network adapter should have an IP address from your personal network,
    while **eth1** is assigned an IP address from the *PentestNet* virtual network.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to test DNS resolution and internet connectivity on Kali Linux, use the
    following command to send four **Internet Control Message Protocol** (**ICMP**)
    **echo request** messages to Google’s web server:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows that Kali Linux was able to resolve the hostname
    to an IP address and successfully reach Google’s web server on the internet:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.26 – Testing internet connectivity](image/Figure_2.26_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.26 – Testing internet connectivity
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to update the package repository list on Kali
    Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the execution of the preceding commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.27 – Updating package repository](image/Figure_2.27_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.27 – Updating package repository
  prefs: []
  type: TYPE_NORMAL
- en: Updating the package repository list on Kali Linux ensures it will download
    both the latest software packages and updates from the official sources.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this section, you have learned how to deploy and set up Kali
    Linux as a virtual machine. In the next section, you will learn how to set up
    a dedicated virtual machine for collecting **Open Source** **Intelligence** (**OSINT**).
  prefs: []
  type: TYPE_NORMAL
- en: Deploying an OSINT virtual machine
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Trace Labs OSINT VM is a customized version of Kali Linux that’s designed
    for learning and performing reconnaissance. It has all the essential pre-installed
    software-based tools an ethical hacker will need to collect information about
    their targets. In addition, the Trace Labs OSINT VM is free for everyone to download
    and set up as a virtual machine on a hypervisor.
  prefs: []
  type: TYPE_NORMAL
- en: Part 1 – setting up OSINT VM
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started setting up Trace Lab OSINT VM, please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Firstly, go to [https://www.tracelabs.org/initiatives/osint-vm](https://www.tracelabs.org/initiatives/osint-vm)
    and click the **Download OVA** button, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.28 – Trace Labs download page](image/Figure_2.28_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.28 – Trace Labs download page
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select the **TL OSINT VM 2022.1 OVA** release file to download:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.29 – OSINT VM OVA file](image/Figure_2.29_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.29 – OSINT VM OVA file
  prefs: []
  type: TYPE_NORMAL
- en: 'After the OVA file has been downloaded onto your computer, open **VirtualBox
    Manager**, select **Tools**, and click on **Import**, as shown in the following
    screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.30 – VirtualBox Manager](image/Figure_2.30_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.30 – VirtualBox Manager
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, a new window will appear; simply navigate to the location where the **OSINT
    VM OVA** file is stored, select it, and click on **Open**, as shown in the following
    screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.31 – OSINT VM OVA file](image/Figure_2.31_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.31 – OSINT VM OVA file
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Import Virtual Appliance** window will appear; click on **Next**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.32 – Importing the virtual appliance](image/Figure_2.32_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.32 – Importing the virtual appliance
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the configurations window will appear; click on **Import**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.33 – Appliance settings window](image/Figure_2.33_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.33 – Appliance settings window
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the import process begins, the following status window will appear:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.34 – Importing status window](image/Figure_2.34_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.34 – Importing status window
  prefs: []
  type: TYPE_NORMAL
- en: After the import process is completed, the OSINT VM will appear within VirtualBox
    Manager.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, let’s connect the OSINT VM to the physical network by bridging the vNIC
    of the virtual machine to the physical NIC of your computer. Select the OSINT
    VM and click on **Settings**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.35 – VirtualBox Manager](image/Figure_2.35_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.35 – VirtualBox Manager
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: Within the OSINT VM settings, you can increase the allocated memory to the virtual
    machine. Within the virtual machine, go to **Settings** > **System** > **Motherboard**
    > **Base Memory**. If you have additional memory on your host computer, consider
    increasing the memory allocation to 4,096 MB (4GB) of RAM.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, click on **Network** and use the following settings for **Adapter 1**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Enable Network Adapter**: Check the box to enable'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Attached to**: **Bridged Adapter**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Name**: Select the physical network adapter that is connected to the internet'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cable Connected**: Yes – check the box'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following snippet shows the configurations:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.36 – Network adapter configurations](image/Figure_2.36_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.36 – Network adapter configurations
  prefs: []
  type: TYPE_NORMAL
- en: Next, click on **OK** to save the configurations for the OSINT VM.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Part 2 – getting started and testing connectivity
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started with OSINT VM, please use the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Open **VirtualBox Manager**, select the TL OSINT VM, and click on **Start**
    to power on the virtual machine.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once the OSINT VM is powered on, log in using **osint** for both **Username**
    and **Password**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.37 – OSINT VM](image/Figure_2.37_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.37 – OSINT VM
  prefs: []
  type: TYPE_NORMAL
- en: Once you’re logged in, use the steps in the previous section to disable IPv6
    on the OSINT VM and restart for the changes to take effect.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: (Optional) To change the default password of the **osint** user account, open
    the Terminal and use the **passwd** command.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the Terminal and use the following commands to identify the network
    adapters and their IP addresses, and test connectivity to the internet:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the expected results:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.38 – OSINT VM connectivity test](image/Figure_2.38_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.38 – OSINT VM connectivity test
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the **eth0** network adapter has an IP address
    from the DHCP server on the physical network. This IP address will be different
    based on your network settings. Additionally, the OSINT VM was able to successfully
    perform DNS resolution and was able to connect to Google’s web server on the internet.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: Executing some commands on Kali Linux and OSINT VM requires the usage of **sudo**
    followed by the commands to invoke root privileges, such as **sudo ip address**.
    To use the root account, use the **sudo su -** command on the Terminal.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this section, you have deployed the OSINT VM as a virtual machine.
    In the next section, you will learn how to set up a vulnerable web application
    and server within the lab environment.
  prefs: []
  type: TYPE_NORMAL
- en: Implementing vulnerable systems
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, you’ll learn how to set up the OWASP Juice Shop vulnerable
    application on Kali Linux to safely learn how to perform active reconnaissance
    on web applications. Additionally, you will learn how to set up Metasploitable
    3 Windows VM as a virtual machine within our lab environment.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up a vulnerable web application
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started with setting up OWASP Juice Shop on Kali Linux, please use the
    following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, power on the Kali Linux virtual machine within **VirtualBox Manager**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Open the Terminal and use the following command to update the package repository
    list:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the successful execution of the command:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.39 – Updating package list](image/Figure_2.39_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.39 – Updating package list
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following command to install the Docker repository on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the preceding command when executed on the Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.40 – Adding the Docker repository](image/Figure_2.40_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.40 – Adding the Docker repository
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to import the **GNU Privacy Guard** (**GPG**)
    key on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the execution of the preceding commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.41 – Importing the GPG key](image/Figure_2.41_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.41 – Importing the GPG key
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, re-update the package repository list on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the package list was updated again:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.42 – Package list updated](image/Figure_2.42_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.42 – Package list updated
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to install **docker-ce**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the installation process:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.43 – docker-ce installation](image/Figure_2.43_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.43 – docker-ce installation
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to pull the OWASP Juice Shop Docker container
    and install it on Kali Linux:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the download and setup process of OWASP Juice Shop:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.44 – Setting up OWASP Juice Shop](image/Figure_2.44_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.44 – Setting up OWASP Juice Shop
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to run the OWASP Juice Shop Docker container, use the following commands:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the execution of the preceding commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.45 – Running OWASP Juice Shop](image/Figure_2.45_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.45 – Running OWASP Juice Shop
  prefs: []
  type: TYPE_NORMAL
- en: 'Lastly, open the web browser on Kali Linux and go to [http://localhost:3000/](http://localhost:3000/)
    to view the OWASP Juice Shop web application, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.46 – OWASP Juice Shop web interface](image/Figure_2.46_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.46 – OWASP Juice Shop web interface
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: 'The official instructions for setting up Docker on Kali Linux can be found
    at: [https://www.kali.org/docs/containers/installing-docker-on-kali/](https://www.kali.org/docs/containers/installing-docker-on-kali/).'
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this exercise, you have learned how to set up Docker and OWASP
    Juice Shop on Kali Linux. Next, you will learn how to set up Metasploitable 3
    Windows VM in our lab environment.
  prefs: []
  type: TYPE_NORMAL
- en: Setting up a vulnerable machine
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To get started on setting up Metasploitable 3 Windows VM, please use the following
    steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Firstly, you will need to download and install Vagrant, an open source application
    that enables a user to build and maintain virtual machines and applications. On
    your host computer, open the web browser and go to [https://developer.hashicorp.com/vagrant/downloads](https://developer.hashicorp.com/vagrant/downloads),
    then download the **Vagrant** **2.3.3 AMD64** version on your computer:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.47 – Vagrant download page](image/Figure_2.47_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.47 – Vagrant download page
  prefs: []
  type: TYPE_NORMAL
- en: After downloading Vagrant, double-click on the installer package to install
    the application on your host computer. After the installation is complete, you’ll
    be prompted to restart your computer for the changes to take effect.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After restarting your computer, open the Windows Command Prompt and use the
    following commands to reload and install additional Vagrant plugins:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE18]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the results of running the preceding commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.48 – Installing Vagrant plugins](image/Figure_2.48_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.48 – Installing Vagrant plugins
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, use the following commands to download the Metasploitable 3 Windows VM
    files from the Vagrant repository:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Ensure you enter **1** to specify VirtualBox as the provider, as shown in the
    following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.49 – Selecting the provider type](image/Figure_2.49_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.49 – Selecting the provider type
  prefs: []
  type: TYPE_NORMAL
- en: 'Vagrant will begin to download the Metasploitable 3 Windows VM files, as shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.50 – Download status](image/Figure_2.50_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.50 – Download status
  prefs: []
  type: TYPE_NORMAL
- en: Next, open **Windows Explorer** and navigate to **C:\Users\yourusername\.vagrant.d\boxes**,
    where you will find the **rapid7-VAGRANTSLASH-metasploitable3-win2k8** folder.
    Rename the **rapid7-VAGRANTSLASH-metasploitable3-win2k8** folder to **metasploitable3-win2k8**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, on the Windows Command Prompt, use the following commands to change the
    working directory and initialize the build configurations for the Metasploitable
    3 Windows VM:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE21]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Next, use the following command to start the build process of the virtual machine:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the build process:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.51 – Vagrant build process](image/Figure_2.51_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.51 – Vagrant build process
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: If the **vagrant up** command gives an error, execute it again.
  prefs: []
  type: TYPE_NORMAL
- en: This process usually takes a few minutes to complete.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the process is completed, open **VirtualBox Manager**, where you will
    find the Metasploitable 3 Win VM running in the background. Select the virtual
    machine and click on **Show**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.52 – Metasploitable 3 Windows virtual machine](image/Figure_2.52_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.52 – Metasploitable 3 Windows virtual machine
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the virtual machine window appears, click on **Input** > **Keyboard**
    > **Insert Ctrl-Alt-Del**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.53 – Boot screen](image/Figure_2.53_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.53 – Boot screen
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select the **Administrator** account and use the default password (**vagrant**)
    to log in, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.54 – Login window](image/Figure_2.54_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.54 – Login window
  prefs: []
  type: TYPE_NORMAL
- en: Once you’re logged in, simply close all the windows that appear and do not activate
    the operating system.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, click on the Windows icon in the bottom-left corner and shut down the
    virtual machine, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.55 – Powering off the virtual machine](image/Figure_2.55_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.55 – Powering off the virtual machine
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the virtual machine is powered off, select it and click on **Settings**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.56 – VirtualBox Manager](image/Figure_2.56_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.56 – VirtualBox Manager
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, select **Network** and use the following configurations on **Adapter
    1**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Enable Network Adapter**: Check the box to enable'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Attached to**: **Internal Network**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Name**: Manually type **PentestNet** into the field'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Cable Connected**: Yes – check the box'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Promiscuous Mode**: **Allow All**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following snippet shows the configurations of **Adapter 1**:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 2.57 – Network adapter settings](image/Figure_2.57_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.57 – Network adapter settings
  prefs: []
  type: TYPE_NORMAL
- en: Next, click on **OK** to save the configurations.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Lastly, power on and log in to the Metasploitable 3 Win VM with the **Administrator**
    user account, open the Command Prompt, and use the **ipconfig** command to verify
    the virtual machine is assigned an IP address from the **172.30.1.0/24** network,
    as shown:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 2.58 – Verifying network connectivity](image/Figure_2.58_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2.58 – Verifying network connectivity
  prefs: []
  type: TYPE_NORMAL
- en: Lastly, power off the virtual machine.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Having completed this section, you have learned how to set up the Metasploitable
    3 Windows VM as a vulnerable server within the lab environment.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: During the course of this chapter, you have discovered the importance and benefits
    of building your personal lab environment for learning and gaining hands-on experience
    when learning about various cybersecurity topics. Additionally, you have learned
    how to set up a virtualized environment and network, how to deploy Kali Linux
    and OSINT VM, and how to set up vulnerable systems for security testing.
  prefs: []
  type: TYPE_NORMAL
- en: I hope this chapter has been informative for you and helpful in your journey
    in the cybersecurity industry. In the next chapter, *Understanding Passive Reconnaissance*,
    you will learn about the fundamentals and importance of using passive reconnaissance
    techniques to discover organizations’ assets that are exposed on the internet.
  prefs: []
  type: TYPE_NORMAL
- en: Further reading
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Kali Linux official documentation: [https://www.kali.org/docs/](https://www.kali.org/docs/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'VirtualBox documentation: [https://www.virtualbox.org/wiki/Documentation](https://www.virtualbox.org/wiki/Documentation)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Trace Labs OSINT VM documentation: [https://github.com/tracelabs/tlosint-live/wiki](https://github.com/tracelabs/tlosint-live/wiki)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'OWASP Juice Shop documentation: [https://owasp.org/www-project-juice-shop/](https://owasp.org/www-project-juice-shop/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Metasploitable 3 documentation: [https://github.com/rapid7/metasploitable3/wiki](https://github.com/rapid7/metasploitable3/wiki)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
