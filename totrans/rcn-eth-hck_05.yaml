- en: '5'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Organizational Infrastructure Intelligence
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As more systems and networks are connecting to the internet, there’s a lot more
    data and information publicly available to everyone around the world. Sometimes,
    organizations leak data about their assets and network infrastructure without
    realizing it, and this enables threat actors to strategically collect and analyze
    those data leaks to plan their future attacks on a target. As an aspiring ethical
    hacker, it’s important to understand the **Tactics, Techniques, and Procedures**
    (**TTPs**) that are commonly used by threat actors, and how such knowledge can
    be used to help organizations safeguard their infrastructure and reduce their
    attack surface to prevent a real hacker from compromising their systems and networks.
  prefs: []
  type: TYPE_NORMAL
- en: During the course of this chapter, you will learn how to use various online
    and offline tools to harvest data from the internet using **Open Source Intelligence**
    (**OSINT**) techniques to identify the infrastructure of an organization. Additionally,
    you will discover how ethical hackers and threat actors are able to discover vulnerable
    and exposed systems and devices on the internet and gain a better understanding
    of how attackers are able to gain a foothold into a target’s network.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Harvesting data from the internet
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Discovering exposed systems
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Collecting social media OSINT
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s dive in!
  prefs: []
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To follow along with the exercises in this chapter, please ensure that you
    have met the following hardware and software requirements:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Kali Linux: [https://www.kali.org/get-kali/](https://www.kali.org/get-kali/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Trace Labs OSINT VM: [https://www.tracelabs.org/initiatives/osint-vm](https://www.tracelabs.org/initiatives/osint-vm)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Sherlock: [https://github.com/sherlock-project/sherlock](https://github.com/sherlock-project/sherlock)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Harvesting data from the internet
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The internet contains lots of websites, open databases, and servers that store
    data about people, networks, and organizations. Before an adversary launches a
    cyber-attack on their target, the attacker spends sufficient time researching
    the target to better understand their infrastructure and identify any security
    vulnerabilities that can be exploited to gain a foothold. Attackers gather and
    analyze OSINT from multiple data sources to create a profile of their target,
    which helps to identify targeted hosts, servers, operating systems, network block
    information, IP addresses, geo-location, subdomains, and so on. Such information
    is very useful in planning a cyber-attack as it enables the attacker to determine
    the attack surface of the targeted organization.
  prefs: []
  type: TYPE_NORMAL
- en: As an ethical hacker with a good moral compass and intentions, using the same
    TTPs as adversaries can help organizations identify how they are intentionally
    or unintentionally leaking sensitive data about their infrastructure, and how
    an attacker can leverage the same information collected from data leaks to compromise
    their systems and networks.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are popular websites and open databases for gathering information:'
  prefs: []
  type: TYPE_NORMAL
- en: '[www.netcraft.com:](http://www.netcraft.com:) Identify servers, their host
    operating systems, and web application'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[www.shodan.io:](http://www.shodan.io:) Identify servers and **Internet of
    Things** (**IoT**) devices'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[censys.io:](http://censys.io:) Identify attack surface on servers and other
    connected systems'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[hunter.io:](http://hunter.io:) Identify email addresses of employees'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[urlscan.io:](http://urlscan.io:) Identify web applications and web servers'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[intelx.io:](http://intelx.io:) Gather OSINT from multiple data sources'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[www.wigle.net:](http://www.wigle.net:) Identify wireless networks around the
    world'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[fullhunt.io:](http://fullhunt.io:) Collect attack surface data'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[vulners.com:](http://vulners.com:) A search engine for security intelligence
    and vulnerabilities'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[viz.greynoise.io:](http://viz.greynoise.io:) Identify threat intelligence'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[builtwith.com:](http://builtwith.com:) Identify the web infrastructure of
    a domain'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The preceding list of search engines will be valuable within your arsenal of
    tools and resources when performing passive information gathering on your target
    as an ethical hacker. Ensure you take the time to visit each of these websites
    to gain a better understanding of how they work, and the type of data they provide
    about a target.
  prefs: []
  type: TYPE_NORMAL
- en: Over the next few subsections, you will learn how to use both Netcraft and Maltego
    to collect and analyze OSINT about an organization.
  prefs: []
  type: TYPE_NORMAL
- en: Netcraft
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Netcraft** provides various internet security services that collect and analyze
    data on various systems and networks found on the internet. One of the most popular
    services that is leveraged by cybersecurity professionals such as ethical hackers
    and penetration testers is the **Web Server Survey** tool, sometimes referred
    to as the **Site Report** tool on the Netcraft website. This tool enables anyone
    to identify the technologies and usage of web servers, their web applications,
    host operating systems, software version, hosting providers, and network blocks.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Netcraft provides the following data about a targeted domain and its web servers:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Background**: Provides information about the website title, rank, description,
    and when it was first seen on the internet'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Network**: Provides information about the IPv4 and IPv6 addresses, network
    block owner, hosting providers and country, name servers, and domain registrar
    details'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**IP delegation**: Contains information about the allocation of IP addresses
    to the domain'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**IP Geolocation**: Provide geo-location details about the domain name and
    its associated IP address, such as city and country'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**SSL/TLS**: Provides information about the digital certificate for the domain
    name'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Site Technology**: Provides information about the web technologies on the
    web server'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Hosting History**: Provides information on the network block owner, name
    of the web application and host operating systems, and IP address of the web server'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: While the data provided by Netcraft is intended to help both IT and cybersecurity
    professionals to improve their organization’s security posture, threat actors
    can also leverage such information for malicious activities and planning future
    attacks on a target. However, as an ethical hacker, you can also leverage the
    information from Netcraft to help you better understand what type of data is being
    leaked about your organization’s web servers and its infrastructure, and whether
    there are any known security vulnerabilities on them.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started using Netcraft to profile a web server, please use the following
    instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open your web browser and go to [https://sitereport.netcraft.com/](https://sitereport.netcraft.com/),
    then insert a target domain name such as [https://microsoft.com](https://microsoft.com)
    within the URL input field, and click on **Look up**, as shown in the following
    screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.1 – Netcraft lookup](image/Figure_5.01_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.1 – Netcraft lookup
  prefs: []
  type: TYPE_NORMAL
- en: 'Netcraft will take a few seconds to analyze the targeted domain and its technologies
    and then present the information, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.2 – Netcraft data](image/Figure_5.02_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.2 – Netcraft data
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, scroll down to the **SSL/TLS** section to identify the geo-location of
    the company and subdomains from the digital certificate:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.3 – Identifying interesting data](image/Figure_5.03_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.3 – Identifying interesting data
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the digital certificate indicates the country
    and state of the organization. Additionally, the **Subject Alternative Name**
    field indicates the various subdomains that are associated with this digital certificate.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, scroll down to the **Hosting History** section to identify the host operating
    system, running web application, and IP addresses of the target’s web server on
    the internet:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: "![Figure 5.4 – Hosting \uFEFFHistory](image/Figure_5.04_B19448.jpg)"
  prefs: []
  type: TYPE_IMG
- en: Figure 5.4 – Hosting History
  prefs: []
  type: TYPE_NORMAL
- en: Determining the host operating system and running web applications helps an
    ethical hacker to improve their planning and identify known security vulnerabilities
    that can be exploited to gain access to the target’s network infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: 'Lastly, Netcraft can be used to provide a list of subdomains of a parent domain;
    go to [https://searchdns.netcraft.com/](https://searchdns.netcraft.com/) and enter
    **.microsoft.com** within the search field and click on **Search**, as shown in
    the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.5 – Subdomain lookup](image/Figure_5.05_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.5 – Subdomain lookup
  prefs: []
  type: TYPE_NORMAL
- en: 'After a few seconds, Netcraft will provide the results showing a list of subdomains,
    their network blocks, host operating systems, and the date first seen, as shown
    in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.6 – Finding subdomains](image/Figure_5.06_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.6 – Finding subdomains
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Netcraft can be used to collect and identify
    subdomains of a target organization.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this exercise, you have learned how to use Netcraft to identify
    the public infrastructure of an organization. Next, you will learn how to use
    Maltego to collect and analyze OSINT from multiple data sources to improve the
    profile of a target.
  prefs: []
  type: TYPE_NORMAL
- en: Maltego
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Maltego** is a powerful data collection, visualization, and analysis tool
    for performing passive reconnaissance on people, networks, and organizations.
    This tool was created to assist cybersecurity investigators and analysts in efficiently
    collecting and analyzing large amounts of OSINT from various data sources, such
    as online databases, websites, and even social media platforms.'
  prefs: []
  type: TYPE_NORMAL
- en: Maltego helps cybersecurity professionals such as ethical hackers and penetration
    testers to better understand the relationships between complex datasets by showing
    patterns and associations between different pieces of collected data, which can
    help identify interesting patterns. This tool is commonly used by ethical hackers
    during their reconnaissance phase when collecting and analyzing data about their
    targets.
  prefs: []
  type: TYPE_NORMAL
- en: To get started using Maltego for reconnaissance, please use the following instructions.
  prefs: []
  type: TYPE_NORMAL
- en: Part 1 – setting up Maltego
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To set up Maltego, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, open your web browser and go to [https://www.maltego.com/ce-registration/](https://www.maltego.com/ce-registration/)
    to register for a Maltego CE account on the official website.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, open the **VirtualBox Manager** application, power on the Trace Labs virtual
    machine (TL OSINT VM 2022.1), and log in using **osint**/**osint** as the username
    and password.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once you’re logged in to the Trace Labs virtual machine, click on the **Kali
    Linux** icon in the top-left corner of the desktop and select **Open Source Intelligence**
    | **Frameworks** | **maltego**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.7 – OSINT Frameworks](image/Figure_5.07_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.7 – OSINT Frameworks
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the Maltego application will load on the desktop and display the **Product
    Selection** window; select **Maltego CE (Free)** and click **Run**, as shown in
    the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.8 – Production selection](image/Figure_5.08_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.8 – Production selection
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Configure Maltego** setup menu will appear; ensure you check **Accept**
    and click on **Next >** to continue:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.9 – License Agreement](image/Figure_5.09_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.9 – License Agreement
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, the **Login** window will appear; ensure you use the credentials that
    were created during *Step 1* and click on **Next >** to continue:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.10 – Logging in to Maltego](image/Figure_5.10_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.10 – Logging in to Maltego
  prefs: []
  type: TYPE_NORMAL
- en: On the **Login Result** page, your login results will appear; simply click on
    **Next >**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the **Install Transforms** page, the transforms set will install automatically;
    then click on **Next >**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the **Web Browser Options** page, select **Firefox** as the preferred web
    browser and click on **Finish**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Part 2 – working with Maltego
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To work with Maltego, follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the Maltego CE application loads, click on the **Maltego** icon in the
    top-left corner of the application window, then select **New** to create a new
    case file (project), as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.11 – Creating a new case file](image/Figure_5.11_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.11 – Creating a new case file
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to get started with identifying the infrastructure of a targeted organization,
    search for the **Domain** entity from **Entity Palette**, then drag and drop the
    **Domain** entity anywhere onto the graph pane, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.12 – Domain entity](image/Figure_5.12_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.12 – Domain entity
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, **Entity Palette** contains various objects
    that enable us to collect and analyze data on a target based on their identity,
    social media, organization, and even network.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, double-click on the **Domain** entity to open its **Details** pane, then
    change **Domain Name** to **microsoft.com** and click on **OK**:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.13 – Setting a target domain name](image/Figure_5.13_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.13 – Setting a target domain name
  prefs: []
  type: TYPE_NORMAL
- en: 'To discover the **Domain Name System** (**DNS**) records of the domain, right-click
    on the **Domain** entity | **All Transforms** | **To DNS Name – NS** (**name server**),
    the result is shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.14 – Identifying name servers](image/Figure_5.14_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.14 – Identifying name servers
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Maltego was able to retrieve the name servers
    for the target domain. The name servers are used to map the hostnames of a domain
    to IP addresses.
  prefs: []
  type: TYPE_NORMAL
- en: 'To discover the email exchange servers of a domain, right-click on the **Domain**
    entity | **All Transforms** | **To DNS Name – MX** (**mail server**), the result
    is shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.15 – Identifying email servers](image/Figure_5.15_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.15 – Identifying email servers
  prefs: []
  type: TYPE_NORMAL
- en: 'To identify the IP address of the email server, right-click on the **Email
    Server** entity | **All Transforms** | **To IP Address** [**DNS**], the result
    is shown in *Figure 5**.16*:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.16 – Identifying IP addresses](image/Figure_5.16_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.16 – Identifying IP addresses
  prefs: []
  type: TYPE_NORMAL
- en: To find the website that is associated with the domain name, right-click on
    the **Domain** entity | **All Transforms** | **To Website** [**Quick lookup**].
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, to identify the IP address(es) of the website, right-click on the **Website**
    entity | **To IP Address** [**DNS**], the result is shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.17 – IP addresses associated with the website](image/Figure_5.17_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.17 – IP addresses associated with the website
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Maltego was able to retrieve the IPv4 and
    IPv6 addresses of the target website.
  prefs: []
  type: TYPE_NORMAL
- en: 'To retrieve email addresses that are associated with the domain, right-click
    on the **Domain** entity | **Email Addresses from Domain** | **To Email Addresses**
    [**PGP**], the result is shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.18 – Harvesting email addresses](image/Figure_5.18_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.18 – Harvesting email addresses
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Maltego was able to harvest the email addresses
    of users that are associated with the domain. Email harvesting can be leveraged
    for social engineering attacks as an attack vector for gaining access to the target’s
    systems and networks.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this section, you have learned how to harvest OSINT from the
    internet and identify the infrastructure of an organization using Netcraft and
    Maltego. In the next section, you will learn how to discover unintentionally exposed
    systems and networks on the internet.
  prefs: []
  type: TYPE_NORMAL
- en: Discovering exposed systems
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: During the reconnaissance phase, it’s essential for ethical hackers and penetration
    testers to identify the internal and external network infrastructure of their
    targets, as such information is useful for identifying the attack surface and
    attack vectors and developing exploits for future operations. Organizations often
    connect their systems and networks to the internet without performing a reconnaissance
    or OSINT penetration test on their own infrastructure to determine whether any
    of their assets are unintentionally exposed on the internet. Ethical hackers and
    penetration testers are hired by organizations to identify how their systems and
    network infrastructures are exposed and how their attack surface can be reduced
    to prevent future cyber-attacks and threats.
  prefs: []
  type: TYPE_NORMAL
- en: During this section, you will learn how threat actors and cybersecurity professionals
    can collect OSINT from specialized search engines to identify an organization’s
    infrastructure and exposed service ports on servers. In addition, you will learn
    how recruiters often leak sensitive data on job boards about their organization’s
    systems and network infrastructure, which enables attackers to improve their planning
    and operations.
  prefs: []
  type: TYPE_NORMAL
- en: Shodan
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Shodan** is a specialized internet search engine that enables cybersecurity
    professionals such as ethical hackers to discover exposed systems such as servers,
    IoT devices, modems, video surveillance systems, and **Industrial Control Systems**
    (**ICSes**). Shodan helps cybersecurity professionals to determine whether their
    organizations’ systems are exposed on the internet and what type of data can be
    collected by an adversary. For instance, many organizations have connected their
    network infrastructure to the internet without realizing that their internal servers
    and systems are unintentionally exposed to everyone and everything on the internet,
    such as hackers and malware.'
  prefs: []
  type: TYPE_NORMAL
- en: For an ethical hacker, the data collected from Shodan can help identify exposed
    servers, open service ports, running services and technologies, and known security
    vulnerabilities. Such information can be used by real adversaries when planning
    their attack on an organization. However, ethical hackers use the same techniques
    and information to simulate real-world cyber-attacks to identify hidden security
    vulnerabilities, while providing insights on how to reduce the attack surface.
    It’s important to remember that not all organizations have the same level of security
    awareness training, a dedicated security team, and the know-how to safeguard their
    assets. Hence, ethical hackers and penetration testers are white-hat hackers who
    use their skills to help companies improve their cyber defenses and security posture
    to prevent a real cyber-attack in the future.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started using Shodan, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: On your computer, open your web browser, go to [https://www.shodan.io/](https://www.shodan.io/)
    and register for a free user account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once your user account is created, log in to the Shodan website, as shown in
    *Figure 5**.19*:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.19 – Shodan website](image/Figure_5.19_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.19 – Shodan website
  prefs: []
  type: TYPE_NORMAL
- en: 'Using the Shodan search bar, perform a search for **windows server 2008** to
    find all systems on the internet that are running Microsoft Windows Server 2008,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.20 – Identifying Windows Server machines](image/Figure_5.20_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.20 – Identifying Windows Server machines
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, to filter the search results based on a specific country, append the
    **country:"country code"** syntax to the search, such as **windows server 2008
    country:"US"**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.21 – Identifying devices based on their location](image/Figure_5.21_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.21 – Identifying devices based on their location
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the country syntax enables us to filter results
    for a specific country or geo-location. This syntax is useful for identifying
    the servers of a company within a specific location.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about Shodan filters, please see [https://www.shodan.io/search/filters](https://www.shodan.io/search/filters).
  prefs: []
  type: TYPE_NORMAL
- en: 'To identify servers and devices that are running a specific service or open
    port, add the **port:port_number** syntax to the search bar, such as **windows
    server 2008 country:"US" port:3389**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.22 – Identifying devices with specific running services](image/Figure_5.22_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.22 – Identifying devices with specific running services
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Shodan was able to identify a Microsoft Windows
    Server 2008 system within the United States, which has service port **3389** and
    is running **Remote Desktop Protocol** (**RDP**). Additionally, Shodan was able
    to perform a screen capture on the login window and display users’ accounts.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, click on any system on the search results page to view specific details
    about the server such as open service ports, running services, and whether there
    are any known security vulnerabilities:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.23 – Geo-location data](image/Figure_5.23_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.23 – Geo-location data
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Shodan collects geo-location details, which
    can be used by an ethical hacker to identify the physical location of their target
    during a penetration testing assessment.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following snippet shows the open service port numbers on the server and
    running services:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.24 – Identifying open ports and services](image/Figure_5.24_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.24 – Identifying open ports and services
  prefs: []
  type: TYPE_NORMAL
- en: Whenever a service is running on a server, a service port is open to listen
    for incoming messages. Ethical hackers can profile a service and determine the
    number of services that are running by identifying open service ports, such as
    **Hypertext Transfer Protocol** (**HTTP**) – port **80**, **Remote Procedure Call**
    (**RPC**) – port **135**, **NetBIOS** – ports **137** and **139**, **Hypertext
    Transfer Protocol Secure** (**HTTPS**) – port **443**, **Server Message Block**
    (**SMB**) – port **445**, and RDP – port **3389**. Then, the ethical hacker can
    identify security vulnerabilities within each running service that can be exploited
    to gain access to the target system.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about each service port number, please see the service name and
    port number registry at [https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml](https://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml).
  prefs: []
  type: TYPE_NORMAL
- en: 'Lastly, Shodan is able to identify known security vulnerabilities on servers
    and devices, listing their **Common Vulnerabilities and Exposures** (**CVE**)
    identifier and description, as shown in the following screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.25 – Vulnerabilities on the server](image/Figure_5.25_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.25 – Vulnerabilities on the server
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding steps, ethical hackers can collect the data found
    on Shodan to create a profile of their target’s system and network infrastructure,
    identify host operating systems and running services, open service port numbers,
    vulnerabilities, and even usernames for remote services.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: To gain more information about a reported vulnerability, visit [https://cve.mitre.org/](https://cve.mitre.org/),
    which is an open database that enables security professionals to record and track
    security vulnerabilities. In addition, each CVE record provides details about
    the vulnerability such as how it can be exploited and recommendations on resolving
    the issue.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this exercise, you have learned how to use Shodan to discover
    vulnerable and exposed systems on the internet. Next, you will learn how to leverage
    the data from Censys to identify systems owned by an organization.
  prefs: []
  type: TYPE_NORMAL
- en: Censys
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Censys is a search engine that enables ethical hackers to collect information
    about servers and identify their attack surfaces. It operates by indexing data
    from domain names, IP addresses, digital certificates, and other elements found
    on the internet. The data is collected, analyzed, and presented in a user-friendly
    format, thus enabling ethical hackers to easily find specific data about their
    target during the reconnaissance phase.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started with using Censys to identify the attack surface of an organization,
    please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: 'On your computer, open the web browser and go to [https://search.censys.io/](https://search.censys.io/).
    Register for an account and log in:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: "![Figure 5.26 – Censys \uFEFFsearch](image/Figure_5.26_B19448.jpg)"
  prefs: []
  type: TYPE_IMG
- en: Figure 5.26 – Censys search
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, in the **Search** field, enter the IP address or domain name of a target
    and click on **Search** to perform a lookup, as shown in *Figure 5**.27*:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.27 – IP lookup](image/Figure_5.27_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.27 – IP lookup
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Censys was able to retrieve the network data
    about the IP address such as open ports and running services on the server, its
    geo-location, and its digital certificate details.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, click on the **Explore** tab to view the associated IP addresses, domain
    names, and servers:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.28 – Viewing associated systems](image/Figure_5.28_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.28 – Viewing associated systems
  prefs: []
  type: TYPE_NORMAL
- en: If you right-click on any system shown on the **Explore** tab, you can further
    gather intelligence on that system such as its hostname and certificate details.
    This is useful when performing external network penetration testing and identifying
    additional assets owned by the target.
  prefs: []
  type: TYPE_NORMAL
- en: Click the **History** tab to view a list of changes that are observed on the
    target system. History data is valuable to ethical hackers as it indicates software
    or configuration changes.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Lastly, click on the **WHOIS** tab to gather the network, hosting, and registrar
    details of the target, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.29 – WHOIS data](image/Figure_5.29_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.29 – WHOIS data
  prefs: []
  type: TYPE_NORMAL
- en: The information provided by Censys can be used to improve the profile of a target,
    such as identifying additional assets, open ports, and running services on servers.
    Such information is useful for determining the attack surface and security vulnerabilities
    on the systems and networks of an organization. In addition, ethical hackers can
    provide insights on how their organization is leaking technical data about their
    assets on the internet and how it can be leveraged by adversaries.
  prefs: []
  type: TYPE_NORMAL
- en: Job boards
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In the workforce around the world, people commonly move between different companies
    and jobs according to their preference, and companies expand, creating new opportunities
    to hire additional staff. As a result, whenever an employee leaves their current
    job role either for a promotion or to exit the organization, the **Human Resources**
    (**HR**) department starts the off-boarding process and starts looking for a new
    candidate to fill the existing role. In doing so, the HR recruiter will post details
    about the vacant position on one or more recruiting websites, enabling anyone
    to view the description and requirements for a preferred candidate.
  prefs: []
  type: TYPE_NORMAL
- en: However, organizations sometimes leak too much sensitive data about their systems
    and network infrastructure when posting a job vacancy for a technical role within
    their company. From a HR perspective, they are listing all the necessary details
    for a potential candidate to be aware of before applying for the position. For
    instance, the job description contains the summary, role, responsibilities (duties),
    and required qualifications to help the candidate better understand whether the
    position is suitable for them.
  prefs: []
  type: TYPE_NORMAL
- en: From an adversary’s perspective, the technical details found on a job post can
    be leveraged as OSINT as they identify the technologies, operating systems, vendor
    devices, systems, and network infrastructure of the company’s internal network.
    An attacker can use this information to research security vulnerabilities in the
    IT infrastructure, create exploits and malware, and determine which attack vectors
    are suitable for delivering the payload to the target. As an ethical hacker or
    penetration tester, recruiting websites are valuable data sources when collecting
    OSINT on a targeted organization, as the recruiter or HR personnel may leak a
    lot of sensitive data without realizing it.
  prefs: []
  type: TYPE_NORMAL
- en: 'To gain a better understanding of how adversaries and ethical hackers can leverage
    the data found on a job post, let’s analyze the following snippet:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.30 – Data leakage on job post](image/Figure_5.30_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.30 – Data leakage on job post
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the recruiter listed the main qualifications
    and experience/knowledge required for an ideal candidate, such as Microsoft 365,
    Azure **Active Directory** (**AD**), wireless networking, routing and switching,
    firewalls, **Virtual Private Networks** (**VPNs**), Windows Servers, disaster
    recovery systems, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following can be derived from the technical list found in the preceding
    snippet:'
  prefs: []
  type: TYPE_NORMAL
- en: The organization is using a cloud computing provider to host some of its services
    and resources. Therefore, if their IT team has misconfigured a cloud service,
    the ethical hacker may gain a foothold and access to the cloud resources owned
    by the target.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The organization is using Microsoft 365 applications and services, perhaps SharePoint
    and cloud-based email services. This means the ethical hacker can use social engineering
    techniques to trick employees into revealing their user credentials to gain access
    to users’ accounts.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There’s a wireless network infrastructure available at the physical location(s)
    of the company. Therefore, an ethical hacker can identify the physical location
    of the company and compromise the wireless network to gain a foothold in the internal
    network.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There is an enterprise wired network infrastructure with routers and switches.
    It’s important to have a solid foundation in networking and understand how major
    networking vendor devices are configured and how they operate.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The organization has one or more firewall appliances for filtering traffic between
    networks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The company is using a site-to-site VPN between branch offices and/or a remote
    access VPN for various employees. Therefore, compromising a branch office with
    weak security enables the ethical hacker to pivot the attack from one branch office
    to another. Additionally, compromising the VPN user’s account enables the ethical
    hacker to remotely connect to the targeted network infrastructure while pretending
    to be an authorized user.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: There are on-premises Windows Servers and the organization is using Microsoft
    Azure AD services for replication and redundancy. Therefore, the ethical hacker
    can create or obtain exploits for Microsoft Windows Server operating systems and
    research vulnerabilities within Microsoft AD roles and services.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Furthermore, when an organization posts a job vacancy on a recruiting website,
    it’s recommended to visit the company’s social media page and official website
    to identify any additional data leaks that can be used to improve the profiling
    of the target. Sometimes, the target may create a social media post indicating
    a new technology was recently implemented within their networks. However, an ethical
    hacker can use the information to research security vulnerabilities in the system
    to better plan their attack methodology.
  prefs: []
  type: TYPE_NORMAL
- en: Having completed this section, you have discovered various tactics and techniques
    that are commonly used by threat actors and ethical hackers to collect and analyze
    OSINT to create a profile of their target.
  prefs: []
  type: TYPE_NORMAL
- en: Collecting social media OSINT
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Social networking platforms provide a medium that enables people to digitally
    connect and share experiences and life moments with their friends and families
    beyond traditional boundaries. With social media platforms, a person can create
    an account and update their profile as their life changes, share photographs and
    videos of precise moments with others, and join discussion groups for mutual topics.
    With social media platforms, people no longer need to be physically present at
    a specific location to participate in a forum; they can simply join an online
    group that enables them to post their opinions and comment on other discussions.
  prefs: []
  type: TYPE_NORMAL
- en: People use social media for various purposes ranging from connecting with friends
    and family to starting and advertising an online business from their homes. Social
    media has changed the way that humans connect with each other and share information.
    For instance, news companies use social media to post about events in real time
    to share awareness with their online followers, hence enabling the company to
    expand its reachability to a wider audience. A lot of organizations around the
    world use social media platforms to market their products and services to new
    and existing customers each day and gain feedback from consumers on how they can
    improve their services.
  prefs: []
  type: TYPE_NORMAL
- en: To put it simply, social media platforms help many people and organizations
    to share information and connect with others around the world. However, threat
    actors also use social platforms to collect information about their targets, such
    as people and organizations. Organizations commonly post about new products, services,
    and job vacancies on their social media pages. A hacker can use the list of followers
    from the company’s social media page to identify the employees of the targeted
    organization. Such information can be used for social engineering attacks on the
    employees, with the intention of tricking them into revealing their user credentials
    or installing malware onto the company’s systems. Sometimes, an organization may
    advertise a new job vacancy and leak a lot of technical details about its internal
    infrastructure to the public, which can be leveraged by attackers.
  prefs: []
  type: TYPE_NORMAL
- en: 'As an ethical hacker who is gathering information on a target, social media
    platforms contain an abundance of data about people and organizations. For instance,
    the following types of data can be found and collected from a person’s social
    media profile:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Contact details**: Email addresses and telephone numbers can be used for
    future social engineering attacks.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Photos and videos**: These media types may contain pictures of their employee
    badges, workspace, computers, office location, and sensitive objects in the background.
    For instance, a picture of an employee badge enables attackers to create a forged
    badge to gain physical access to a building. Pictures and videos may reveal passwords
    written on paper, applications running on a computer, and the location of where
    the photo was taken.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Their favorite place for lunch**: Such information can be used to determine
    the likelihood of this person visiting the particular restaurant during lunchtime.
    This creates the idea of setting up a *watering hole attack* at the restaurant
    location. **Watering hole attacks** enables the threat actor to target a specific
    group of people by infecting commonly visited websites with malware or even compromising
    the wireless network of the restaurant in the hope that the employee connects
    their mobile device to the wireless network and becomes infected with malware
    from the threat actor.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**View likes and dislikes**: Such information can be useful to determine the
    person’s preferences and whether they are a disgruntled employee.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Friends and connections**: The friends and connections list may contain additional
    employees of the targeted organization, and their profiles might be leaking sensitive
    data about the company.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Usernames**: Social media platforms enable users to list their additional
    social media handles on their profiles. The handles are the usernames for their
    online accounts.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Various online tools are commonly used to help ethical hackers quickly find
    the social media accounts of people and organizations. For instance, **Social
    Searcher** ([www.social-searcher.com](http://www.social-searcher.com)) enables
    you to find social media accounts based on mentions (hashtags), users, and trends.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following snippet shows the results when I search my name on Social Searcher:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.31 – Social Searcher](image/Figure_5.31_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.31 – Social Searcher
  prefs: []
  type: TYPE_NORMAL
- en: The preceding snippet is a proof-of-concept in which I’ve performed a lookup
    using my name, and the results show various social media profiles and posts I’ve
    made in the past. Similarly, an ethical hacker can use this online tool to quickly
    discover the social media profiles and accounts of a target, whether the target
    is a person or an organization.
  prefs: []
  type: TYPE_NORMAL
- en: Over the next few subsections, you will learn how to collect data on social
    media accounts using various tools and techniques.
  prefs: []
  type: TYPE_NORMAL
- en: Sherlock
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Sherlock** is a popular OSINT tool that enables ethical hackers to efficiently
    perform username lookups on multiple social media websites to identify the accounts
    of their targets. This tool quickly searches over 200 social media platforms for
    the target’s username, automates the checking process on each website, and provides
    a report upon completion.'
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started using Sherlock to discover where a targeted username is found
    on the internet, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, power on your Kali Linux virtual machine.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, open the Terminal and execute the following commands to update the package
    repository source list and download Sherlock from its official GitHub repository:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Next, use the following commands to change the working directory to the Sherlock
    folder and install its requirements and dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Once the installation is complete, use the **python3 sherlock <username>**
    syntax to perform a username lookup on various social media platforms, as shown
    here:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The following snippet shows the execution of the preceding commands with **--timeout**
    used to instruct Sherlock to spend no more than 5 seconds on any of the social
    media websites:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.32 – Sherlock](image/Figure_5.32_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.32 – Sherlock
  prefs: []
  type: TYPE_NORMAL
- en: 'After Sherlock completes its lookup, it automatically creates a text file within
    its current directory with a list of social media websites where the username
    was found:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.33 – Displaying the collected data](image/Figure_5.33_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.33 – Displaying the collected data
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Sherlock has extracted the results and inserted
    them into a text file. This enables ethical hackers to semi-automate their data
    collection process when performing multiple username lookups at the same time.
    However, ensure you manually check each URL within the results to ensure it’s
    valid.
  prefs: []
  type: TYPE_NORMAL
- en: Tip
  prefs: []
  type: TYPE_NORMAL
- en: To learn more about Sherlock and its functionality, check out its official GitHub
    repository at [https://github.com/sherlock-project/sherlock](https://github.com/sherlock-project/sherlock).
  prefs: []
  type: TYPE_NORMAL
- en: As an ethical hacker, the data collected from Sherlock can be further used to
    discover usernames and data leakage of sensitive information and find employees
    and contact details, which can be used to plan future operations such as social
    engineering attacks.
  prefs: []
  type: TYPE_NORMAL
- en: Facebook IDs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Facebook is a popular online social networking platform that enables people
    and organizations to digitally connect and share information with each other.
    When a user registers for an account, a user **profile** is automatically created
    and enables the person to update their profile details, share media, and connect
    with others. Once the account is created, the user can join or create groups and
    pages on Facebook. **Groups** are simply large bodies of people with similar interests
    or discussions, and **pages** are like digital places and enable organizations,
    professionals, and artists to connect with their customers and supporters.
  prefs: []
  type: TYPE_NORMAL
- en: When an account (profile), page, or group is created, Facebook automatically
    assigns a unique identifier to it. If there are two or more accounts with the
    same name, the identifier is a unique number that can be used to distinguish one
    account from the other. As an ethical hacker, you can obtain these identifiers
    when you’re collecting information on a target who uses Facebook as their social
    media platform. Such information can be used to identify a targeted account and
    filter their posts to find sensitive details about the account holder.
  prefs: []
  type: TYPE_NORMAL
- en: When you’re logged in to Facebook as a user, you can use the search bar to find
    people, groups, and pages. If you’re looking for common places that were visited
    by the target, then you’ll need to tweak the Facebook search filters until you’re
    able to find what you’re looking for. However, we can leverage the **Intelligence
    X** platform to help us find specific types of data about an account, group, or
    page on Facebook. Intelligence X is a search engine and data archival platform
    that helps ethical hackers to find specific data about a target from multiple
    data sources.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started using **Intelligence X** to gather social media intelligence,
    please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, ensure you’re logged in to Facebook at [www.facebook.com](http://www.facebook.com)
    using your **sock** **puppet** account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, find your target’s account or page by using the Facebook search field.
    For instance, we can use a public figure page for this exercise:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.34 – Facebook page](image/Figure_5.34_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.34 – Facebook page
  prefs: []
  type: TYPE_NORMAL
- en: On the account or page, you can see a lot of information such as recently visited
    places, photos with sensitive details, videos, and so on.
  prefs: []
  type: TYPE_NORMAL
- en: When you’re on a target’s profile or page, right-click anywhere on the page
    and select **View Page Source** to view the web coding.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, use the **Find** feature on your web browser and search for **userID**,
    as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.35 – Finding the userID value](image/Figure_5.35_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.35 – Finding the userID value
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the **userID** value for the profile or page
    is **4**. Ensure you record this value as it will be needed in the later steps.
  prefs: []
  type: TYPE_NORMAL
- en: Important note
  prefs: []
  type: TYPE_NORMAL
- en: Facebook accounts (profiles), groups, and pages contain a unique identifier
    that can be found in their source code. These can be found by searching for **userID**,
    **entity_id**, **page_id**, and **group_id** within the source code.
  prefs: []
  type: TYPE_NORMAL
- en: Next, open a new tab on the same web browser and go to the **Intelligence X**
    tools page at [https://intelx.io/tools](https://intelx.io/tools). In the **Social
    Media Tools** category, click on **Facebook** to open **Facebook** **Graph Searcher**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, enter the **userID** value (**4**) in the **ID of the user** field and
    a keyword in the **Talking about** field to filter the search results and click
    on **Search**, as shown in the following screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.36 – Facebook Graph Searcher](image/Figure_5.36_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.36 – Facebook Graph Searcher
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, a new tab will automatically open and will load the search results for
    the targeted profile or page using the keyword to filter the results, as shown
    in the screenshot:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 5.37 – Filtering social media posts](image/Figure_5.37_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.37 – Filtering social media posts
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, the results were filtered using the keyword
    **New York**.
  prefs: []
  type: TYPE_NORMAL
- en: As an ethical hacker, Intelligence X provides the capabilities of quickly filtering
    search results for posts, pictures, and videos that are made by a target. In addition,
    the keyword helps to filter the search results, enabling us to find specific types
    of data.
  prefs: []
  type: TYPE_NORMAL
- en: Instagram
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Instagram is a social media platform that allows people to share photos and
    videos with their followers. As an ethical hacker, you will commonly notice people
    sharing photos of themselves and other objects without considering what’s in the
    background of these pictures or videos.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are key details to consider when collecting information from
    Instagram:'
  prefs: []
  type: TYPE_NORMAL
- en: Who are the people in the photos? Are these people all connected? If so, how?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What are the objects in the background?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Can you identify the geo-location of the photo based on the background objects?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When and where was the photo taken?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sometimes, people or employees of an organization upload photos of themselves
    but reveal their desktop icons or files on their computer’s monitor. A **threat
    actor** who is targeting an organization can find photos that are uploaded by
    employees and look for anything within each picture that can help improve the
    exploitation phase of the cyber-attack. For instance, desktop icons on a computer
    can reveal the type of applications and software that are commonly used by employees,
    and the attacker can identify the host operating system based on the desktop interface
    and any user credentials that are written on paper on the desk.
  prefs: []
  type: TYPE_NORMAL
- en: 'Collecting data on social media platforms has become more challenging over
    the past years as improved security and privacy features are implemented to protect
    users. However, by visiting an Instagram user’s profile or page, you can collect
    the following data:'
  prefs: []
  type: TYPE_NORMAL
- en: Usernames
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Email addresses
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Telephone numbers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Addresses
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hashtags
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Each profile or page displays the account’s username as their handle; therefore,
    ethical hackers can perform username harvesting of targeted accounts. Many businesses
    list their contact details and addresses on their Instagram profile or page to
    help their potential customers communicate with them. However, the contact details
    and addresses can be used for planning social engineering attacks and determining
    the geo-location of the company. Sometimes, people and organizations use hashtags
    to create a trend. Therefore, monitoring hashtags enables you to track and get
    notifications whenever the target or anyone uses the hashtag in their posts.
  prefs: []
  type: TYPE_NORMAL
- en: 'As a proof-of-concept, the following snippet shows my personal Instagram page
    with some intelligence data:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.38 – Instagram page](image/Figure_5.38_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.38 – Instagram page
  prefs: []
  type: TYPE_NORMAL
- en: 'As shown in the preceding snippet, the following data is revealed about the
    account holder:'
  prefs: []
  type: TYPE_NORMAL
- en: Username
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Identity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Profession
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The purpose of the profile
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Websites
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pictures
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Visiting a more popular Instagram account will contain hundreds of pictures,
    videos, and stories (short clips), and analyzing the large quantity of data on
    the live website can become challenging. **Instaloader** enables ethical hackers
    to efficiently collect various types of data such as photos, videos, locations,
    stories, and more from a public profile.
  prefs: []
  type: TYPE_NORMAL
- en: 'To get started using Instaloader to collect data on a person or organization’s
    Instagram account, please use the following instructions:'
  prefs: []
  type: TYPE_NORMAL
- en: Firstly, power on the Trace Labs OSINT virtual machine and log in using **osint**/**osint**
    as the username and password.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Open the web browser and find a target and record the username on the profile.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, open the Terminal and execute the **instaloader --help** command to view
    various commands and their usage.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, use the **instaloader profile <username>** syntax to download everything
    that’s publicly available on the account, as shown here:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The preceding command will download images, videos, locations, stories, and
    feed data and save it within the **/home/osint/** directory, as shown in the following
    screenshot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.39 – Download files](image/Figure_5.39_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.39 – Download files
  prefs: []
  type: TYPE_NORMAL
- en: As shown in the preceding snippet, Instaloader downloaded pictures, videos,
    and geo-location and feed data offline for post-analysis.
  prefs: []
  type: TYPE_NORMAL
- en: As an ethical hacker, ensure you check each download file during your analysis
    phase to determine whether it contributes toward building a profile of your target
    and future attack operations.
  prefs: []
  type: TYPE_NORMAL
- en: LinkedIn
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'LinkedIn is a social networking site that’s designed for academics, industry
    professionals, students, and researchers to connect, collaborate, and share ideas
    with each other. As an ethical hacker, you can collect a lot of valuable information
    about your target from LinkedIn, whether your target is a person or an organization.
    The following are common types of data that can be gathered from a person’s LinkedIn
    profile:'
  prefs: []
  type: TYPE_NORMAL
- en: Name
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Location
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Current and past jobs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Educational history
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pictures of employee badges and workplace
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Past projects
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A LinkedIn profile is a like a resume and curriculum vitae in the form of a
    web page for each user, enabling others to view and connect based on mutual interests.
    While LinkedIn has a lot of privacy features that enable users to restrict access
    to their profiles, threat actors can create a fake account and trick their target
    into connecting with them, allowing the attacker to view the details on their
    LinkedIn profile.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s imagine that every time a person changes their job, they update their
    work experience to reflect the change. This may include adding a new job title
    at a new company and including a description of their role and responsibilities.
    While this information is useful for HR professionals and recruiters, an attacker
    can look for any technical details within a job description to identify the organization’s
    network infrastructure and system. Furthermore, if the user works on a technical
    project, the employee may include the technical details on their LinkedIn profile,
    which provides better insights into the organization’s infrastructure, technologies,
    and whether any security vulnerabilities exist.
  prefs: []
  type: TYPE_NORMAL
- en: Another technique is to map the list of IT certifications that are obtained
    by an employee to their work history from their LinkedIn profile. Many employees
    obtain IT certifications to become proficient in their jobs and better understand
    the technologies used within the organization. For instance, if a LinkedIn user
    has been employed at the targeted organization for the past 4 years and obtained
    specific Microsoft certifications for the duration, this is an indication the
    company may be using (or has implemented) those specific technologies. Hence,
    such information can be harvested from LinkedIn to collect data from users’ online
    resumes to profile an organization. As an ethical hacker, these techniques will
    enable you to better profile and gain insights into the technologies used by your
    target.
  prefs: []
  type: TYPE_NORMAL
- en: 'As an ethical hacker, having a sock puppet on LinkedIn can help you examine
    the connections between both your target and their employees. Using the following
    Google Dork syntax enables you to find LinkedIn profiles by specifying a person’s
    name:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'The following snippet shows a proof-of-concept using my first name:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 5.40 – Google Dorking](image/Figure_5.40_B19448.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 5.40 – Google Dorking
  prefs: []
  type: TYPE_NORMAL
- en: As you may realize already, people share a lot of information on LinkedIn and
    such information can be harvested and analyzed. Hence, sharing too much information
    can be used for both good and bad actions.
  prefs: []
  type: TYPE_NORMAL
- en: Twitter
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Twitter is another popular social networking platform that enables people to
    post short messages, pictures, and video clips and allows them to follow other
    users and get notifications when they post something new. Over the past few years,
    people have posted almost everything about their thoughts and daily activities
    on the platform. As an ethical hacker, you can use a sock puppet to harvest the
    following types of data from a target’s Twitter account:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Profile handle**: Can be used to identify other users who tagged your target
    within their posts'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Profile description**: Can be used to better understand your target'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Location**: Can be used to identify the physical location of the target'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Website**: Enables you to identify their website and collect data from it
    for other types of attacks'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Joined date**: Indicates the age of the profile, which helps to determine
    how often the target makes a new post and identifies the types of devices that
    were used to post on the platform'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Media**: Enables you to view any photos and videos that may contain sensitive
    details and geo-location data'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Likes**: Helps you determine your target’s preferences and interests'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Tweets**: View the actual content made by your target'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Followers**: Helps to identify employees of the company'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Having completed this section, you have learned how ethical hackers are able
    to harvest sensitive data from social media platforms to better profile their
    targets.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: During the course of this chapter, you learned how to collect and analyze OSINT
    from various data sources to identify the network infrastructure of organizations.
    Additionally, you discovered how to use various online websites such as Shodan,
    Censys, social media platforms, and even job boards to find data leaks and gain
    insights into how a threat actor can leverage the data to profile an organization
    and determine their attack surface.
  prefs: []
  type: TYPE_NORMAL
- en: I hope this chapter has been informative for you and is helpful in your journey
    in the cybersecurity industry. In the next chapter, *Imagery, People, and Signals
    Intelligence*, you will learn how to analyze images and use mapping applications
    to identify the physical location of a target, collect user credentials from online
    databases, and identify wireless devices within an area.
  prefs: []
  type: TYPE_NORMAL
- en: Further reading
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*DNS* *records*: [https://www.cloudflare.com/learning/dns/dns-records/](https://www.cloudflare.com/learning/dns/dns-records/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Maltego Foundations* *1*: [https://courses.maltego.com/courses/maltego-foundations-1-NEW](https://courses.maltego.com/courses/maltego-foundations-1-NEW)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*MITRE* *Reconnaissance*: [https://attack.mitre.org/tactics/TA0043/](https://attack.mitre.org/tactics/TA0043/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
